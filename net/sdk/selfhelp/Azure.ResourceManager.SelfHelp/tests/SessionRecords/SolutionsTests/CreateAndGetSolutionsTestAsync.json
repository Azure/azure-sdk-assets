{
  "Entries": [
    {
      "RequestUri": "https://management.azure.com/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba?api-version=2022-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "traceparent": "00-35dc20602712a02225472df8fe8d461e-a65a566aa4206aa1-00",
        "User-Agent": "azsdk-net-ResourceManager/1.11.1 (.NET 6.0.31; Microsoft Windows 10.0.22631)",
        "x-ms-client-request-id": "Sanitized",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "417",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 04 Jun 2024 23:17:49 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "278edff8-72ab-4c1e-93f2-f128c956467b",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-request-id": "278edff8-72ab-4c1e-93f2-f128c956467b",
        "x-ms-routing-request-id": "EASTUS:20240604T231750Z:278edff8-72ab-4c1e-93f2-f128c956467b",
        "X-MSEdge-Ref": "Ref A: EF9835F81ACB4B6A95A7B23087CBADD4 Ref B: BN1AA2051013053 Ref C: 2024-06-04T23:17:50Z"
      },
      "ResponseBody": {
        "id": "/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba",
        "authorizationSource": "RoleBased",
        "managedByTenants": [],
        "subscriptionId": "6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba",
        "tenantId": "00000000-0000-0000-0000-000000000000",
        "displayName": "Azure Triage Resource Provider - Test",
        "state": "Enabled",
        "subscriptionPolicies": {
          "locationPlacementId": "Internal_2014-09-01",
          "quotaId": "Internal_2014-09-01",
          "spendingLimit": "Off"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/tenants?api-version=2022-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "User-Agent": "azsdk-net-ResourceManager/1.11.1 (.NET 6.0.31; Microsoft Windows 10.0.22631)",
        "x-ms-client-request-id": "Sanitized",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "140",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 04 Jun 2024 23:17:49 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "dcb48004-2fc5-4008-a285-ed1bab8a86ab",
        "x-ms-ratelimit-remaining-tenant-reads": "11999",
        "x-ms-request-id": "dcb48004-2fc5-4008-a285-ed1bab8a86ab",
        "x-ms-routing-request-id": "EASTUS2:20240604T231750Z:dcb48004-2fc5-4008-a285-ed1bab8a86ab",
        "X-MSEdge-Ref": "Ref A: 78A3BD628860464C92006AA94B9C32A7 Ref B: BN1AA2051013053 Ref C: 2024-06-04T23:17:50Z"
      },
      "ResponseBody": {
        "value": [
          {
            "id": "/tenants/72f988bf-86f1-41af-91ab-2d7cd011db47",
            "tenantId": "00000000-0000-0000-0000-000000000000",
            "tenantCategory": "Home"
          }
        ]
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba/resourceGroups/DiagnosticsRp-Gateway-Public-Dev-Global/providers/Microsoft.KeyVault/vaults/DiagRpGwPubDev/providers/Microsoft.Help/solutions/testResource2272?api-version=2024-03-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "151",
        "Content-Type": "application/json",
        "traceparent": "00-98edb387bc01f735ed58e8a782fee1ad-4fc31aefc07aa820-00",
        "User-Agent": "azsdk-net-ResourceManager.SelfHelp/1.1.0-alpha.20240604.1 (.NET 6.0.31; Microsoft Windows 10.0.22631)",
        "x-ms-client-request-id": "Sanitized",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "properties": {
          "triggerCriteria": [
            {
              "name": "SolutionId",
              "value": "keyvault-lostdeletedkeys-apollo-solution"
            }
          ],
          "parameters": {
            "SearchText": "Can not RDP"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba/providers/Microsoft.Help/Solutions/testResource2272/operationResults/51c9f045-89d1-4337-a448-1002c52dae4d?api-version=2024-03-01-preview&t=638531398717982070&c=MIIHpTCCBo2gAwIBAgITOgMLgtc7Cc87eiuz1wAEAwuC1zANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSU5GUkEgQ0EgMDEwHhcNMjQwNTE0MjM1NDE2WhcNMjUwNTA5MjM1NDE2WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOaEi-3zqsJBRoTW6v-hbr3zODw-Nh-eOXXe91NBg2Z3Oc9PRHKDZ0OVB1pdRvaSaxj_fTPqS7_zPMg37TSKP1jYOqimCgHmTsELmvkaboQVj3bAhFZM8R-EuxzmXxEIzoHqkXzdtsrO5DsXdYYlHDN_wp2LYd94JWWnq2nJqh-nub97Y4Ee_G0mXj86cKrC3JKJfdLXj9jnkXSpnqLZxVhA13YJvC2_f2WWpKnMYw4TYNfyuBRr6h9bG5HXnuYIZLqU-6YmjjvUDU75uYwwZJ3tD6TuDRJJUISwb56EdF9HaX4AK4WQeH0kIR3mpC1oKsrCEkosvSjav5cUhTeJcW0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQlkyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMElORlJBJTIwQ0ElMjAwMSg0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JZMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CWTJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSU5GUkElMjBDQSUyMDAxKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQlkyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMElORlJBJTIwQ0ElMjAwMSg0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JZMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3J0MB0GA1UdDgQWBBSnK85HTzCdZ4rcO7N2a69b201FzTAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBTl2Ztn_PjsurvwwKidileIud8-YzAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAFNOYW41q3r-S4rfLmeNVcnYR7IvJtvAiXlY6eep1zrI3aUTHvJuYyY6vcP_4p5MlEr3FDCiW1CMJDLThVd46NQv0N3GoQIZlOvZKBWj8DK8W-Gtk8Vy7kyP5Xp1-CNrFl7SeFojKYONR2t1lVjbGz7_rALuwCLF02cTuVJsgdg3yHCVH9xnU-Y5tMQGCfL3c9Ju4zrxFGhJG9idwO6HSO1n2wsP0bXkmtW604JhkQOqYNFjM1JK-pGQadrEMz7XfJHseSLK8wkQk0Ow7uIYDAVA7R01Dj_84vasGdo3z-nB4JeB3Qx6EWEnfihZgP88K5MiIdTZgx1yKC4b7uOLe3w&s=CI9xLzH9BNwXRRonJM9hNkUqnT6vmsQvORUCpJrWxAFAzpj7Het9VQZTinzZOfMzUlQezcMIKE_FHV0RgyNbj6cS3A4nCudgqQ7YKOguph87aBDNgaIWcnpWf_yh94QXczRCnLuBgbcI_sNJD84t6wZkVo1c46hcLlTRgIrr57i9oD0dIijDxcdzfrZ0Jyzdzj_H2_dCk9G0cntwV2oRsfX6XjK4v4bFt8k7eQW1DWtmw8fsBvDmiwSSECC570Ar6f3KvlfjTbE6ycd2rA_9QvLb_V_aTuXb5SWfQ4Wq0AnoyHRA8UWhibEDOT6wFxBSxdJcH-u2HLqgePpzUDxheQ&h=JgLffyixlU5j1k5NM8qDY1BLkrv8rAkq8fZGPGMhcZc",
        "Cache-Control": "no-cache",
        "Content-Length": "5504",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 04 Jun 2024 23:17:50 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba/providers/Microsoft.Help/Solutions/testResource2272/operationResults/51c9f045-89d1-4337-a448-1002c52dae4d?api-version=2024-03-01-preview&t=638531398717982070&c=MIIHpTCCBo2gAwIBAgITOgMLgtc7Cc87eiuz1wAEAwuC1zANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSU5GUkEgQ0EgMDEwHhcNMjQwNTE0MjM1NDE2WhcNMjUwNTA5MjM1NDE2WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOaEi-3zqsJBRoTW6v-hbr3zODw-Nh-eOXXe91NBg2Z3Oc9PRHKDZ0OVB1pdRvaSaxj_fTPqS7_zPMg37TSKP1jYOqimCgHmTsELmvkaboQVj3bAhFZM8R-EuxzmXxEIzoHqkXzdtsrO5DsXdYYlHDN_wp2LYd94JWWnq2nJqh-nub97Y4Ee_G0mXj86cKrC3JKJfdLXj9jnkXSpnqLZxVhA13YJvC2_f2WWpKnMYw4TYNfyuBRr6h9bG5HXnuYIZLqU-6YmjjvUDU75uYwwZJ3tD6TuDRJJUISwb56EdF9HaX4AK4WQeH0kIR3mpC1oKsrCEkosvSjav5cUhTeJcW0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFggvX2K4Py0SACAWQCAQowggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQlkyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMElORlJBJTIwQ0ElMjAwMSg0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JZMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CWTJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSU5GUkElMjBDQSUyMDAxKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQlkyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMElORlJBJTIwQ0ElMjAwMSg0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JZMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3J0MB0GA1UdDgQWBBSnK85HTzCdZ4rcO7N2a69b201FzTAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJTkZSQSUyMENBJTIwMDEoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwEwDAYKKwYBBAGCN3sEATAfBgNVHSMEGDAWgBTl2Ztn_PjsurvwwKidileIud8-YzAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAFNOYW41q3r-S4rfLmeNVcnYR7IvJtvAiXlY6eep1zrI3aUTHvJuYyY6vcP_4p5MlEr3FDCiW1CMJDLThVd46NQv0N3GoQIZlOvZKBWj8DK8W-Gtk8Vy7kyP5Xp1-CNrFl7SeFojKYONR2t1lVjbGz7_rALuwCLF02cTuVJsgdg3yHCVH9xnU-Y5tMQGCfL3c9Ju4zrxFGhJG9idwO6HSO1n2wsP0bXkmtW604JhkQOqYNFjM1JK-pGQadrEMz7XfJHseSLK8wkQk0Ow7uIYDAVA7R01Dj_84vasGdo3z-nB4JeB3Qx6EWEnfihZgP88K5MiIdTZgx1yKC4b7uOLe3w&s=CI9xLzH9BNwXRRonJM9hNkUqnT6vmsQvORUCpJrWxAFAzpj7Het9VQZTinzZOfMzUlQezcMIKE_FHV0RgyNbj6cS3A4nCudgqQ7YKOguph87aBDNgaIWcnpWf_yh94QXczRCnLuBgbcI_sNJD84t6wZkVo1c46hcLlTRgIrr57i9oD0dIijDxcdzfrZ0Jyzdzj_H2_dCk9G0cntwV2oRsfX6XjK4v4bFt8k7eQW1DWtmw8fsBvDmiwSSECC570Ar6f3KvlfjTbE6ycd2rA_9QvLb_V_aTuXb5SWfQ4Wq0AnoyHRA8UWhibEDOT6wFxBSxdJcH-u2HLqgePpzUDxheQ&h=JgLffyixlU5j1k5NM8qDY1BLkrv8rAkq8fZGPGMhcZc",
        "Pragma": "no-cache",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "e6d7b7bc-acb5-44b5-94f8-1c52f40d6db2",
        "x-ms-ratelimit-remaining-subscription-resource-requests": "499",
        "x-ms-request-id": "e6d7b7bc-acb5-44b5-94f8-1c52f40d6db2",
        "x-ms-routing-request-id": "EASTUS2:20240604T231751Z:e6d7b7bc-acb5-44b5-94f8-1c52f40d6db2",
        "X-MSEdge-Ref": "Ref A: 482CAF5EF2344AD191157230F5EA40A2 Ref B: BN1AA2051013053 Ref C: 2024-06-04T23:17:50Z",
        "X-Powered-By": "ASP.NET"
      },
      "ResponseBody": {
        "id": "/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba/resourceGroups/DiagnosticsRp-Gateway-Public-Dev-Global/providers/Microsoft.KeyVault/vaults/DiagRpGwPubDev/providers/Microsoft.Help/solutions/testResource2272",
        "name": "testResource2272",
        "type": "Microsoft.Help/Solutions",
        "properties": {
          "title": "lost or deleted keys and secrets in key vault",
          "content": "<h2>Resolve issues with soft delete and purge protection in Azure Key Vault</h2>\n<p>Key Vault's soft-delete feature allows recovery of deleted vaults and key vault objects, for example, keys, secrets, and certificates.</p>\n<p>This safeguard offers the following protections:</p>\n<ul>\n<li>Once a secret, key, certificate, or key vault is deleted, it will remain recoverable for a configurable period of 7 to 90 calendar days. If no configuration is specified, the default recovery period will be set to 90 days. This provides users with sufficient time to notice an accidental secret deletion and to respond.</li>\n<li>Two operations must be made to permanently delete a secret. First, a user must delete the object, which puts it into the soft-deleted state. Second, a user must purge the object in the soft-deleted state. The purge operation requires additional access policy permissions. These additional protections reduce the risk of a user accidentally or maliciously deleting a secret or a key vault.</li>\n<li>To purge a secret in the soft-deleted state, a service principal must be granted an additional <em>purge</em> access policy permission. The purge access policy permission isn't granted by default to any service principal, including key vault and subscription owners, and must be deliberately set. By requiring an elevated access policy permission to purge a soft-deleted secret, it reduces the probability of accidentally deleting a secret.</li>\n</ul>\n<p>Use the following guidance to resolve common issues with the soft-delete feature, such as not being able to delete a key vault or disabling purge protection, and learn how to enable Key Vault recovery features.</p>\n<h3>Key Vault diagnostics</h3>\n<p>The following diagnostics check for any Key Vault issues related to throttling or unauthorized access.</p>\n<!--62dc27c1-9827-4962-bafb-a00be09348ed-->\n<h3>Soft-delete feature overview</h3>\n<ul>\n<li>See <a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-ovw-soft-delete\">Azure Key Vault soft-delete overview</a> to learn about backup and restore behavior while using Key Vault's soft-delete feature.</li>\n<li>See <a href=\"https://docs.microsoft.com/azure/key-vault/general/soft-delete-overview#purge-protection\">Purge Protection</a>.</li>\n</ul>\n<h3>Common issues and solutions</h3>\n<p><strong>Why can't I purge a deleted key vault and disable purge protection?</strong></p>\n<ul>\n<li>When purge protection is enabled, a vault or an object in the deleted state can't be purged until the retention period has passed. Once the retention period elapses, the key vault or key vault object will be purged automatically.</li>\n</ul>\n<p><strong>Note</strong>: Once purge protection is enabled, it can't be disabled or overridden by anyone, including Microsoft.</p>\n<ul>\n<li><p>You must wait for the mandatory retention period to elapse before you're able to permanently delete your key vault or secrets.</p>\n</li>\n<li><p>Ensure there is no Azure policy or resource lock in place; you must remove any resource locks to delete a key vault.</p>\n</li>\n</ul>\n<p><strong>Why can't I recover a deleted key vault?</strong></p>\n<ul>\n<li><p>If you deleted a key vault, it'll exist in the soft-deleted state if you had soft delete enabled on the key vault and if the retention period hasn't elapsed.\n<strong>If you didn't have soft delete enabled, or the soft-delete retention period has elapsed, your key vault has been permanently deleted.</strong></p>\n</li>\n<li><p>Use this reference to <a href=\"https://docs.microsoft.com/azure/key-vault/general/key-vault-recovery?tabs=azure-portal#list-recover-or-purge-a-soft-deleted-key-vault\">list and recover a deleted key vault</a>.</p>\n</li>\n</ul>\n<h3>Resources</h3>\n<ul>\n<li><a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-soft-delete-powershell\">Using soft-delete with Key Vault with PowerShell</a></li>\n<li><a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-soft-delete-cli\">Using soft-delete with Key Vault with CLI 2.0</a></li>\n<li><a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-ovw-security-worlds\">Understanding backup and restore behavior in Key Vault</a></li>\n</ul>\n<h3>Relevant results from the web</h3>\n<!--00f7a97f-c958-4c7f-afb8-f2f47c106ba7-->\n",
          "replacementMaps": {
            "diagnostics": [
              {
                "solutionId": "KeyVaultVaultNotFoundInsight",
                "status": "Failed",
                "statusDetails": "The diagnostic failed to execute, please try again later.",
                "replacementKey": "<!--62dc27c1-9827-4962-bafb-a00be09348ed-->"
              }
            ],
            "webResults": [
              {
                "searchResults": [
                  {
                    "solutionId": "MicrosoftQnA_1289295",
                    "content": "...rdp in azure portal and image is windows 11 everything worked fine I can connect to rdp too but inside rdp the internet is not working I cant open any...",
                    "title": "RDP network issue",
                    "confidence": "High",
                    "source": "MicrosoftQnA",
                    "resultType": "Community",
                    "rank": 1,
                    "link": "https://learn.microsoft.com/answers/questions/1289295/rdp-network-issue/"
                  }
                ],
                "replacementKey": "<!--00f7a97f-c958-4c7f-afb8-f2f47c106ba7-->"
              }
            ]
          },
          "sections": [],
          "solutionId": "keyvault-lostdeletedkeys-apollo-solution",
          "provisioningState": "Succeeded"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba/resourceGroups/DiagnosticsRp-Gateway-Public-Dev-Global/providers/Microsoft.KeyVault/vaults/DiagRpGwPubDev/providers/Microsoft.Help/solutions/testResource2272?api-version=2024-03-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "traceparent": "00-bbd52679621f9527fce48b0944e65c25-e702df95e98db639-00",
        "User-Agent": "azsdk-net-ResourceManager.SelfHelp/1.1.0-alpha.20240604.1 (.NET 6.0.31; Microsoft Windows 10.0.22631)",
        "x-ms-client-request-id": "Sanitized",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "5528",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 04 Jun 2024 23:17:51 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "bde5dd29-1725-4e99-a827-d793d7cfcd7c",
        "x-ms-ratelimit-remaining-subscription-resource-requests": "499",
        "x-ms-request-id": "bde5dd29-1725-4e99-a827-d793d7cfcd7c",
        "x-ms-routing-request-id": "EASTUS2:20240604T231752Z:bde5dd29-1725-4e99-a827-d793d7cfcd7c",
        "X-MSEdge-Ref": "Ref A: CA1ED591369543AE83164CC147FB68B4 Ref B: BN1AA2051013053 Ref C: 2024-06-04T23:17:51Z",
        "X-Powered-By": "ASP.NET"
      },
      "ResponseBody": {
        "id": "/subscriptions/6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba/resourceGroups/DiagnosticsRp-Gateway-Public-Dev-Global/providers/Microsoft.KeyVault/vaults/DiagRpGwPubDev/providers/Microsoft.Help/solutions/testResource2272",
        "name": "testResource2272",
        "type": "Microsoft.Help/Solutions",
        "properties": {
          "title": "lost or deleted keys and secrets in key vault",
          "content": "<h2>Resolve issues with soft delete and purge protection in Azure Key Vault</h2>\n<p>Key Vault's soft-delete feature allows recovery of deleted vaults and key vault objects, for example, keys, secrets, and certificates.</p>\n<p>This safeguard offers the following protections:</p>\n<ul>\n<li>Once a secret, key, certificate, or key vault is deleted, it will remain recoverable for a configurable period of 7 to 90 calendar days. If no configuration is specified, the default recovery period will be set to 90 days. This provides users with sufficient time to notice an accidental secret deletion and to respond.</li>\n<li>Two operations must be made to permanently delete a secret. First, a user must delete the object, which puts it into the soft-deleted state. Second, a user must purge the object in the soft-deleted state. The purge operation requires additional access policy permissions. These additional protections reduce the risk of a user accidentally or maliciously deleting a secret or a key vault.</li>\n<li>To purge a secret in the soft-deleted state, a service principal must be granted an additional <em>purge</em> access policy permission. The purge access policy permission isn't granted by default to any service principal, including key vault and subscription owners, and must be deliberately set. By requiring an elevated access policy permission to purge a soft-deleted secret, it reduces the probability of accidentally deleting a secret.</li>\n</ul>\n<p>Use the following guidance to resolve common issues with the soft-delete feature, such as not being able to delete a key vault or disabling purge protection, and learn how to enable Key Vault recovery features.</p>\n<h3>Key Vault diagnostics</h3>\n<p>The following diagnostics check for any Key Vault issues related to throttling or unauthorized access.</p>\n<!--62dc27c1-9827-4962-bafb-a00be09348ed-->\n<h3>Soft-delete feature overview</h3>\n<ul>\n<li>See <a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-ovw-soft-delete\">Azure Key Vault soft-delete overview</a> to learn about backup and restore behavior while using Key Vault's soft-delete feature.</li>\n<li>See <a href=\"https://docs.microsoft.com/azure/key-vault/general/soft-delete-overview#purge-protection\">Purge Protection</a>.</li>\n</ul>\n<h3>Common issues and solutions</h3>\n<p><strong>Why can't I purge a deleted key vault and disable purge protection?</strong></p>\n<ul>\n<li>When purge protection is enabled, a vault or an object in the deleted state can't be purged until the retention period has passed. Once the retention period elapses, the key vault or key vault object will be purged automatically.</li>\n</ul>\n<p><strong>Note</strong>: Once purge protection is enabled, it can't be disabled or overridden by anyone, including Microsoft.</p>\n<ul>\n<li><p>You must wait for the mandatory retention period to elapse before you're able to permanently delete your key vault or secrets.</p>\n</li>\n<li><p>Ensure there is no Azure policy or resource lock in place; you must remove any resource locks to delete a key vault.</p>\n</li>\n</ul>\n<p><strong>Why can't I recover a deleted key vault?</strong></p>\n<ul>\n<li><p>If you deleted a key vault, it'll exist in the soft-deleted state if you had soft delete enabled on the key vault and if the retention period hasn't elapsed.\n<strong>If you didn't have soft delete enabled, or the soft-delete retention period has elapsed, your key vault has been permanently deleted.</strong></p>\n</li>\n<li><p>Use this reference to <a href=\"https://docs.microsoft.com/azure/key-vault/general/key-vault-recovery?tabs=azure-portal#list-recover-or-purge-a-soft-deleted-key-vault\">list and recover a deleted key vault</a>.</p>\n</li>\n</ul>\n<h3>Resources</h3>\n<ul>\n<li><a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-soft-delete-powershell\">Using soft-delete with Key Vault with PowerShell</a></li>\n<li><a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-soft-delete-cli\">Using soft-delete with Key Vault with CLI 2.0</a></li>\n<li><a href=\"https://docs.microsoft.com/azure/key-vault/key-vault-ovw-security-worlds\">Understanding backup and restore behavior in Key Vault</a></li>\n</ul>\n<h3>Relevant results from the web</h3>\n<!--00f7a97f-c958-4c7f-afb8-f2f47c106ba7-->\n",
          "replacementMaps": {
            "diagnostics": [
              {
                "solutionId": "KeyVaultVaultNotFoundInsight",
                "status": "Failed",
                "statusDetails": "The diagnostic failed to execute, please try again later.",
                "replacementKey": "<!--62dc27c1-9827-4962-bafb-a00be09348ed-->"
              }
            ],
            "webResults": [
              {
                "searchResults": [
                  {
                    "solutionId": "MicrosoftQnA_1289295",
                    "content": "...rdp in azure portal and image is windows 11 everything worked fine I can connect to rdp too but inside rdp the internet is not working I cant open any...",
                    "title": "RDP network issue",
                    "confidence": "High",
                    "source": "MicrosoftQnA",
                    "resultType": "Community",
                    "rank": 1,
                    "link": "https://learn.microsoft.com/answers/questions/1289295/rdp-network-issue/"
                  }
                ],
                "replacementKey": "<!--00f7a97f-c958-4c7f-afb8-f2f47c106ba7-->"
              }
            ],
            "metricsBasedCharts": []
          },
          "sections": [],
          "solutionId": "keyvault-lostdeletedkeys-apollo-solution",
          "provisioningState": "Succeeded"
        }
      }
    }
  ],
  "Variables": {
    "AZURE_AUTHORITY_HOST": "https://login.microsoftonline.com",
    "CLIENT_ID": "d9524254-3ac7-4629-a8e2-44ccaa7b6017",
    "RandomSeed": "500530945",
    "RESOURCE_MANAGER_URL": null,
    "SUBSCRIPTION_ID": "6bded6d5-a6af-43e1-96d3-bf71f6f5f8ba",
    "TENANT_ID": "72f988bf-86f1-41af-91ab-2d7cd011db47"
  }
}
