{
  "Entries": [
    {
      "RequestUri": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0/.well-known/openid-configuration",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-identity/1.14.1 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Access-Control-Allow-Methods": "GET, OPTIONS",
        "Access-Control-Allow-Origin": "*",
        "Cache-Control": "max-age=86400, private",
        "Content-Length": "1753",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:09 GMT",
        "P3P": "CP=\u0022DSP CUR OTPi IND OTRi ONL FIN\u0022",
        "Set-Cookie": [
          "fpc=AnQ-kP9u3OdJnXFMQlxOMr0; expires=Sat, 23-Sep-2023 09:34:09 GMT; path=/; secure; HttpOnly; SameSite=None",
          "esctx=PAQABAAEAAAAtyolDObpQQ5VtlI4uGjEPoIXbGjN5hvp1PD59tDgDUHazQsfH1ppDeKEQcDANhUqzb_5YYXBLwHUigt7NkBy5bZ3O1jdPIILEdYJvmfjDw64vTfvGh4927Y7CcGLU25zDxjkaqJwdvMLo8Po-jfnQSdzpE1tEml_jPP-6ok79qRhWV7VK5ExjUThKzSaLscEgAA; domain=.login.microsoftonline.com; path=/; secure; HttpOnly; SameSite=None",
          "x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly",
          "stsservicecookie=estsfd; path=/; secure; samesite=none; httponly"
        ],
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Content-Type-Options": "nosniff",
        "x-ms-ests-server": "2.1.16150.3 - WUS2 ProdSlices",
        "X-XSS-Protection": "0"
      },
      "ResponseBody": {
        "token_endpoint": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/oauth2/v2.0/token",
        "token_endpoint_auth_methods_supported": [
          "client_secret_post",
          "private_key_jwt",
          "client_secret_basic"
        ],
        "jwks_uri": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/discovery/v2.0/keys",
        "response_modes_supported": [
          "query",
          "fragment",
          "form_post"
        ],
        "subject_types_supported": [
          "pairwise"
        ],
        "id_token_signing_alg_values_supported": [
          "RS256"
        ],
        "response_types_supported": [
          "code",
          "id_token",
          "code id_token",
          "id_token token"
        ],
        "scopes_supported": [
          "openid",
          "profile",
          "email",
          "offline_access"
        ],
        "issuer": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/v2.0",
        "request_uri_parameter_supported": false,
        "userinfo_endpoint": "https://graph.microsoft.com/oidc/userinfo",
        "authorization_endpoint": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/oauth2/v2.0/authorize",
        "device_authorization_endpoint": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/oauth2/v2.0/devicecode",
        "http_logout_supported": true,
        "frontchannel_logout_supported": true,
        "end_session_endpoint": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/oauth2/v2.0/logout",
        "claims_supported": [
          "sub",
          "iss",
          "cloud_instance_name",
          "cloud_instance_host_name",
          "cloud_graph_host_name",
          "msgraph_host",
          "aud",
          "exp",
          "iat",
          "auth_time",
          "acr",
          "nonce",
          "preferred_username",
          "name",
          "tid",
          "ver",
          "at_hash",
          "c_hash",
          "email"
        ],
        "kerberos_endpoint": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/kerberos",
        "tenant_region_scope": "WW",
        "cloud_instance_name": "microsoftonline.com",
        "cloud_graph_host_name": "graph.windows.net",
        "msgraph_host": "graph.microsoft.com",
        "rbac_url": "https://pas.windows.net"
      }
    },
    {
      "RequestUri": "https://login.microsoftonline.com/72f988bf-86f1-41af-91ab-2d7cd011db47/oauth2/v2.0/token",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "client-request-id": "efdc9107-a448-4545-8e52-529d320572ea",
        "Connection": "keep-alive",
        "Content-Length": "197",
        "Content-Type": "application/x-www-form-urlencoded",
        "Cookie": "fpc=AnQ-kP9u3OdJnXFMQlxOMr0; stsservicecookie=estsfd; x-ms-gateway-slice=estsfd",
        "User-Agent": "azsdk-python-identity/1.14.1 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)",
        "x-client-cpu": "x64",
        "x-client-current-telemetry": "4|730,2|",
        "x-client-last-telemetry": "4|0|||",
        "x-client-os": "darwin",
        "x-client-sku": "MSAL.Python",
        "x-client-ver": "1.24.0b1",
        "x-ms-lib-capability": "retry-after, h429"
      },
      "RequestBody": "client_id=117311a5-df69-4fff-a301-6be98c1bd0ab\u0026grant_type=client_credentials\u0026client_info=1\u0026client_secret=lPk8Q~XKLqLaWoT1-IaqetKiEXQLO-ZEotB_YdpN\u0026scope=https%3A%2F%2Fmanagement.azure.com%2F.default",
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-store, no-cache",
        "client-request-id": "efdc9107-a448-4545-8e52-529d320572ea",
        "Content-Length": "92",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:09 GMT",
        "Expires": "-1",
        "P3P": "CP=\u0022DSP CUR OTPi IND OTRi ONL FIN\u0022",
        "Pragma": "no-cache",
        "Set-Cookie": [
          "fpc=AnQ-kP9u3OdJnXFMQlxOMr1-TvxDAQAAABAbedwOAAAA; expires=Sat, 23-Sep-2023 09:34:09 GMT; path=/; secure; HttpOnly; SameSite=None",
          "x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly"
        ],
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Content-Type-Options": "nosniff",
        "x-ms-clitelem": "1,0,0,,",
        "x-ms-ests-server": "2.1.16150.3 - EUS ProdSlices",
        "X-XSS-Protection": "0"
      },
      "ResponseBody": {
        "token_type": "Bearer",
        "expires_in": 86399,
        "ext_expires_in": 86399,
        "access_token": "Sanitized"
      }
    },
    {
      "RequestUri": "https://eastus.api.azureml.ms/registrymanagement/v1.0/registries/azureml/discovery",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json, text/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:11 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-response-type": "standard",
        "x-request-time": "0.024"
      },
      "ResponseBody": {
        "registryId": "b98c40bc-36d6-4175-b131-bad4502fe1a3",
        "registryName": "azureml",
        "tenantId": "33e01921-4d64-4f8c-a055-5bdaffd5e33d",
        "primaryRegion": "EastUS",
        "regions": [
          "eastus",
          "australiaeast",
          "australiasoutheast",
          "brazilsouth",
          "canadacentral",
          "canadaeast",
          "centralindia",
          "centralus",
          "eastasia",
          "eastus2",
          "francecentral",
          "germanywestcentral",
          "japaneast",
          "japanwest",
          "jioindiawest",
          "koreacentral",
          "northcentralus",
          "northeurope",
          "norwayeast",
          "southafricanorth",
          "southcentralus",
          "southeastasia",
          "swedencentral",
          "switzerlandnorth",
          "uaenorth",
          "uksouth",
          "ukwest",
          "westcentralus",
          "westeurope",
          "westus",
          "westus2",
          "westus3",
          "qatarcentral",
          "centraluseuap",
          "eastus2euap"
        ],
        "subscriptionId": "6c6683e9-e5fe-4038-8519-ce6ebec2ba15",
        "resourceGroup": "registry-builtin-prod-eastus-01",
        "workspaceName": null,
        "primaryRegionResourceProviderUri": "https://cert-EastUS.experiments.azureml.net/",
        "registryFqdns": {
          "eastus": {
            "uri": "https://eastus.api.azureml.ms"
          },
          "australiaeast": {
            "uri": "https://australiaeast.api.azureml.ms"
          },
          "australiasoutheast": {
            "uri": "https://australiasoutheast.api.azureml.ms"
          },
          "brazilsouth": {
            "uri": "https://brazilsouth.api.azureml.ms"
          },
          "canadacentral": {
            "uri": "https://canadacentral.api.azureml.ms"
          },
          "canadaeast": {
            "uri": "https://canadaeast.api.azureml.ms"
          },
          "centralindia": {
            "uri": "https://centralindia.api.azureml.ms"
          },
          "centralus": {
            "uri": "https://centralus.api.azureml.ms"
          },
          "eastasia": {
            "uri": "https://eastasia.api.azureml.ms"
          },
          "eastus2": {
            "uri": "https://eastus2.api.azureml.ms"
          },
          "francecentral": {
            "uri": "https://francecentral.api.azureml.ms"
          },
          "germanywestcentral": {
            "uri": "https://germanywestcentral.api.azureml.ms"
          },
          "japaneast": {
            "uri": "https://japaneast.api.azureml.ms"
          },
          "japanwest": {
            "uri": "https://japanwest.api.azureml.ms"
          },
          "jioindiawest": {
            "uri": "https://jioindiawest.api.azureml.ms"
          },
          "koreacentral": {
            "uri": "https://koreacentral.api.azureml.ms"
          },
          "northcentralus": {
            "uri": "https://northcentralus.api.azureml.ms"
          },
          "northeurope": {
            "uri": "https://northeurope.api.azureml.ms"
          },
          "norwayeast": {
            "uri": "https://norwayeast.api.azureml.ms"
          },
          "southafricanorth": {
            "uri": "https://southafricanorth.api.azureml.ms"
          },
          "southcentralus": {
            "uri": "https://southcentralus.api.azureml.ms"
          },
          "southeastasia": {
            "uri": "https://southeastasia.api.azureml.ms"
          },
          "swedencentral": {
            "uri": "https://swedencentral.api.azureml.ms"
          },
          "switzerlandnorth": {
            "uri": "https://switzerlandnorth.api.azureml.ms"
          },
          "uaenorth": {
            "uri": "https://uaenorth.api.azureml.ms"
          },
          "uksouth": {
            "uri": "https://uksouth.api.azureml.ms"
          },
          "ukwest": {
            "uri": "https://ukwest.api.azureml.ms"
          },
          "westcentralus": {
            "uri": "https://westcentralus.api.azureml.ms"
          },
          "westeurope": {
            "uri": "https://westeurope.api.azureml.ms"
          },
          "westus": {
            "uri": "https://westus.api.azureml.ms"
          },
          "westus2": {
            "uri": "https://westus2.api.azureml.ms"
          },
          "westus3": {
            "uri": "https://westus3.api.azureml.ms"
          },
          "qatarcentral": {
            "uri": "https://qatarcentral.api.azureml.ms"
          },
          "centraluseuap": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "int": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "eastus2euap": {
            "uri": "https://eastus2euap.api.azureml.ms"
          }
        },
        "intellectualPropertyPublisher": null
      }
    },
    {
      "RequestUri": "https://cert-eastus.experiments.azureml.net/mferp/managementfrontend/subscriptions/6c6683e9-e5fe-4038-8519-ce6ebec2ba15/resourceGroups/registry-builtin-prod-eastus-01/providers/Microsoft.MachineLearningServices/registries/azureml/components/llm_rag_crack_and_chunk/versions/azureml_default?api-version=2021-10-01-dataplanepreview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:12 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": [
          "nosniff",
          "nosniff"
        ],
        "x-ms-response-type": "standard",
        "x-request-time": "0.178"
      },
      "ResponseBody": {
        "id": "azureml://registries/azureml/components/llm_rag_crack_and_chunk/labels/default",
        "name": "azureml_default",
        "type": "Microsoft.MachineLearningServices/registries/components/versions",
        "properties": {
          "description": null,
          "tags": {
            "Preview": ""
          },
          "properties": {
            "client_component_hash": "f9f10326-91b9-3851-f888-7388dee23e6f"
          },
          "isArchived": false,
          "isAnonymous": false,
          "componentSpec": {
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "name": "llm_rag_crack_and_chunk",
            "version": "0.0.16",
            "display_name": "LLM - Crack and Chunk Data",
            "is_deterministic": "True",
            "type": "command",
            "description": "Creates chunks no larger than \u0060chunk_size\u0060 from \u0060input_data\u0060, extracted document titles are prepended to each chunk\n\nLLM models have token limits for the prompts passed to them, this is a limiting factor at embedding time and even more limiting at prompt completion time as only so much context can be passed along with instructions to the LLM and user queries.\nChunking allows splitting source data of various formats into small but coherent snippets of information which can be \u0027packed\u0027 into LLM prompts when asking for answers to user querys related to the sorce documents.\n\nSupported formats: md, txt, html/htm, pdf, ppt(x), doc(x), xls(x), py\n",
            "tags": {
              "Preview": ""
            },
            "inputs": {
              "input_data": {
                "type": "uri_folder",
                "optional": "False",
                "description": "Uri Folder containing files to be chunked."
              },
              "input_glob": {
                "type": "string",
                "optional": "True",
                "description": "Limit files opened from \u0060input_data\u0060, defaults to \u0027**/*\u0027."
              },
              "allowed_extensions": {
                "type": "string",
                "optional": "True",
                "description": "Comma separated list of extensions to include, if not provided the default list of supported extensions will be used. e.g. \u0027.md,.txt,.html,.py,.pdf.\u0027"
              },
              "chunk_size": {
                "type": "integer",
                "optional": "False",
                "default": "768",
                "description": "Maximum number of tokens to put in each chunk."
              },
              "chunk_overlap": {
                "type": "integer",
                "optional": "False",
                "default": "0",
                "description": "Number of tokens to overlap between chunks."
              },
              "data_source_url": {
                "type": "string",
                "optional": "True",
                "description": "Base URL to join with file paths to create full source file URL for chunk metadata."
              },
              "document_path_replacement_regex": {
                "type": "string",
                "optional": "True",
                "description": "A JSON string with two fields, \u0027match_pattern\u0027 and \u0027replacement_pattern\u0027 to be used with re.sub on the source url. e.g. \u0027{\u0022match_pattern\u0022: \u0022(.*)/articles/(.*)(\\\\.[^.]\u002B)$\u0022, \u0022replacement_pattern\u0022: \u0022\\\\1/\\\\2\u0022}\u0027 would remove \u0027/articles\u0027 from the middle of the url."
              },
              "max_sample_files": {
                "type": "integer",
                "optional": "False",
                "default": "-1",
                "description": "Number of files to chunk. Specify -1 to chunk all documents in input path."
              },
              "use_rcts": {
                "type": "string",
                "optional": "False",
                "default": "True",
                "description": "Whether to use RecursiveCharacterTextSplitter to split documents into chunks",
                "enum": [
                  "True",
                  "False"
                ]
              }
            },
            "outputs": {
              "output_chunks": {
                "type": "uri_folder",
                "description": "Uri Folder containing chunks. Each chunk will be a separate file in the folder"
              }
            },
            "code": "azureml://registries/azureml/codes/ebfbd999-364f-4fa2-9559-d2c573dcbdd0/versions/1",
            "environment": "azureml://registries/azureml/environments/llm-rag-embeddings/versions/9",
            "resources": {
              "instance_count": "1"
            },
            "command": "python -m azureml.rag.tasks.crack_and_chunk --input_data ${{inputs.input_data}} $[[--input_glob \u0027${{inputs.input_glob}}\u0027]] $[[--allowed_extensions ${{inputs.allowed_extensions}}]] --output_title_chunk ${{outputs.output_chunks}} --chunk_size ${{inputs.chunk_size}} --chunk_overlap ${{inputs.chunk_overlap}} $[[--data_source_url ${{inputs.data_source_url}}]] $[[--document_path_replacement_regex \u0027${{inputs.document_path_replacement_regex}}\u0027]] --max_sample_files ${{inputs.max_sample_files}} --use_rcts \u0027${{inputs.use_rcts}}\u0027"
          }
        },
        "systemData": {
          "createdAt": "2023-08-22T18:33:35.6488252\u002B00:00",
          "createdBy": "Microsoft",
          "createdByType": "User",
          "lastModifiedAt": "2023-08-22T18:33:35.6488253\u002B00:00",
          "lastModifiedBy": "Microsoft",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://eastus.api.azureml.ms/registrymanagement/v1.0/registries/azureml/discovery",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json, text/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:12 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-response-type": "standard",
        "x-request-time": "0.047"
      },
      "ResponseBody": {
        "registryId": "b98c40bc-36d6-4175-b131-bad4502fe1a3",
        "registryName": "azureml",
        "tenantId": "33e01921-4d64-4f8c-a055-5bdaffd5e33d",
        "primaryRegion": "EastUS",
        "regions": [
          "eastus",
          "australiaeast",
          "australiasoutheast",
          "brazilsouth",
          "canadacentral",
          "canadaeast",
          "centralindia",
          "centralus",
          "eastasia",
          "eastus2",
          "francecentral",
          "germanywestcentral",
          "japaneast",
          "japanwest",
          "jioindiawest",
          "koreacentral",
          "northcentralus",
          "northeurope",
          "norwayeast",
          "southafricanorth",
          "southcentralus",
          "southeastasia",
          "swedencentral",
          "switzerlandnorth",
          "uaenorth",
          "uksouth",
          "ukwest",
          "westcentralus",
          "westeurope",
          "westus",
          "westus2",
          "westus3",
          "qatarcentral",
          "centraluseuap",
          "eastus2euap"
        ],
        "subscriptionId": "6c6683e9-e5fe-4038-8519-ce6ebec2ba15",
        "resourceGroup": "registry-builtin-prod-eastus-01",
        "workspaceName": null,
        "primaryRegionResourceProviderUri": "https://cert-EastUS.experiments.azureml.net/",
        "registryFqdns": {
          "eastus": {
            "uri": "https://eastus.api.azureml.ms"
          },
          "australiaeast": {
            "uri": "https://australiaeast.api.azureml.ms"
          },
          "australiasoutheast": {
            "uri": "https://australiasoutheast.api.azureml.ms"
          },
          "brazilsouth": {
            "uri": "https://brazilsouth.api.azureml.ms"
          },
          "canadacentral": {
            "uri": "https://canadacentral.api.azureml.ms"
          },
          "canadaeast": {
            "uri": "https://canadaeast.api.azureml.ms"
          },
          "centralindia": {
            "uri": "https://centralindia.api.azureml.ms"
          },
          "centralus": {
            "uri": "https://centralus.api.azureml.ms"
          },
          "eastasia": {
            "uri": "https://eastasia.api.azureml.ms"
          },
          "eastus2": {
            "uri": "https://eastus2.api.azureml.ms"
          },
          "francecentral": {
            "uri": "https://francecentral.api.azureml.ms"
          },
          "germanywestcentral": {
            "uri": "https://germanywestcentral.api.azureml.ms"
          },
          "japaneast": {
            "uri": "https://japaneast.api.azureml.ms"
          },
          "japanwest": {
            "uri": "https://japanwest.api.azureml.ms"
          },
          "jioindiawest": {
            "uri": "https://jioindiawest.api.azureml.ms"
          },
          "koreacentral": {
            "uri": "https://koreacentral.api.azureml.ms"
          },
          "northcentralus": {
            "uri": "https://northcentralus.api.azureml.ms"
          },
          "northeurope": {
            "uri": "https://northeurope.api.azureml.ms"
          },
          "norwayeast": {
            "uri": "https://norwayeast.api.azureml.ms"
          },
          "southafricanorth": {
            "uri": "https://southafricanorth.api.azureml.ms"
          },
          "southcentralus": {
            "uri": "https://southcentralus.api.azureml.ms"
          },
          "southeastasia": {
            "uri": "https://southeastasia.api.azureml.ms"
          },
          "swedencentral": {
            "uri": "https://swedencentral.api.azureml.ms"
          },
          "switzerlandnorth": {
            "uri": "https://switzerlandnorth.api.azureml.ms"
          },
          "uaenorth": {
            "uri": "https://uaenorth.api.azureml.ms"
          },
          "uksouth": {
            "uri": "https://uksouth.api.azureml.ms"
          },
          "ukwest": {
            "uri": "https://ukwest.api.azureml.ms"
          },
          "westcentralus": {
            "uri": "https://westcentralus.api.azureml.ms"
          },
          "westeurope": {
            "uri": "https://westeurope.api.azureml.ms"
          },
          "westus": {
            "uri": "https://westus.api.azureml.ms"
          },
          "westus2": {
            "uri": "https://westus2.api.azureml.ms"
          },
          "westus3": {
            "uri": "https://westus3.api.azureml.ms"
          },
          "qatarcentral": {
            "uri": "https://qatarcentral.api.azureml.ms"
          },
          "centraluseuap": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "int": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "eastus2euap": {
            "uri": "https://eastus2euap.api.azureml.ms"
          }
        },
        "intellectualPropertyPublisher": null
      }
    },
    {
      "RequestUri": "https://cert-eastus.experiments.azureml.net/mferp/managementfrontend/subscriptions/6c6683e9-e5fe-4038-8519-ce6ebec2ba15/resourceGroups/registry-builtin-prod-eastus-01/providers/Microsoft.MachineLearningServices/registries/azureml/components/llm_rag_generate_embeddings/versions/azureml_default?api-version=2021-10-01-dataplanepreview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:12 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": [
          "nosniff",
          "nosniff"
        ],
        "x-ms-response-type": "standard",
        "x-request-time": "0.136"
      },
      "ResponseBody": {
        "id": "azureml://registries/azureml/components/llm_rag_generate_embeddings/labels/default",
        "name": "azureml_default",
        "type": "Microsoft.MachineLearningServices/registries/components/versions",
        "properties": {
          "description": null,
          "tags": {
            "Preview": ""
          },
          "properties": {
            "client_component_hash": "a4355b63-171e-e33e-5535-016635fb0886"
          },
          "isArchived": false,
          "isAnonymous": false,
          "componentSpec": {
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "name": "llm_rag_generate_embeddings",
            "version": "0.0.10",
            "display_name": "LLM - Generate Embeddings",
            "is_deterministic": "True",
            "type": "command",
            "description": "Generates embeddings vectors for data chunks read from \u0060chunks_source\u0060.\n\n\u0060chunks_source\u0060 is expected to contain \u0060csv\u0060 files containing two columns:\n- \u0022Chunk\u0022 - Chunk of text to be embedded\n- \u0022Metadata\u0022 - JSON object containing metadata for the chunk\n\nIf \u0060embeddings_container\u0060 is supplied, input chunks are compared to existing chunks in the Embeddings Container and only changed/new chunks are embedded, existing chunks being reused.\n",
            "tags": {
              "Preview": ""
            },
            "inputs": {
              "chunks_source": {
                "type": "uri_folder",
                "optional": "False",
                "description": "Folder containing chunks to be embedded."
              },
              "embeddings_container": {
                "type": "uri_folder",
                "optional": "True",
                "description": "Folder containing previously generated embeddings. Should be parent folder of the \u0027embeddings\u0027 output path used for for this component. Will compare input data to existing embeddings and only embed changed/new data, reusing existing chunks."
              },
              "deployment_validation": {
                "type": "uri_file",
                "optional": "True",
                "description": "Uri file containing information on if the Azure OpenAI deployments, if used, have been validated"
              },
              "embeddings_model": {
                "type": "string",
                "optional": "False",
                "default": "hugging_face://model/sentence-transformers/all-mpnet-base-v2",
                "description": "The model to use to embed data. E.g. \u0027hugging_face://model/sentence-transformers/all-mpnet-base-v2\u0027 or \u0027azure_open_ai://deployment/{deployment_name}/model/{model_name}\u0027"
              },
              "batch_size": {
                "type": "integer",
                "optional": "False",
                "default": "100",
                "description": "Batch size to use when embedding data"
              },
              "num_workers": {
                "type": "integer",
                "optional": "False",
                "default": "-1",
                "description": "Number of workers to use when embedding data. -1 means use half all available CPUs"
              }
            },
            "outputs": {
              "embeddings": {
                "type": "uri_folder",
                "description": "Where to save data with embeddings. This should be a subfolder of previous embeddings if supplied, typically named using \u0027${name}\u0027. e.g. /my/prev/embeddings/${name}"
              }
            },
            "code": "azureml://registries/azureml/codes/506fc2a5-d0c9-471f-b2e6-ed21fc40c443/versions/1",
            "environment": "azureml://registries/azureml/environments/llm-rag-embeddings/versions/9",
            "resources": {
              "instance_count": "1"
            },
            "command": "python -m azureml.rag.tasks.embed --chunks_source ${{inputs.chunks_source}} --embeddings_model ${{inputs.embeddings_model}} $[[--embeddings_container ${{inputs.embeddings_container}}]] --output ${{outputs.embeddings}} --batch_size ${{inputs.batch_size}} --num_workers ${{inputs.num_workers}}"
          }
        },
        "systemData": {
          "createdAt": "2023-08-22T18:31:49.0772912\u002B00:00",
          "createdBy": "Microsoft",
          "createdByType": "User",
          "lastModifiedAt": "2023-08-22T18:31:49.0772913\u002B00:00",
          "lastModifiedBy": "Microsoft",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://eastus.api.azureml.ms/registrymanagement/v1.0/registries/azureml/discovery",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json, text/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:12 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-response-type": "standard",
        "x-request-time": "0.027"
      },
      "ResponseBody": {
        "registryId": "b98c40bc-36d6-4175-b131-bad4502fe1a3",
        "registryName": "azureml",
        "tenantId": "33e01921-4d64-4f8c-a055-5bdaffd5e33d",
        "primaryRegion": "EastUS",
        "regions": [
          "eastus",
          "australiaeast",
          "australiasoutheast",
          "brazilsouth",
          "canadacentral",
          "canadaeast",
          "centralindia",
          "centralus",
          "eastasia",
          "eastus2",
          "francecentral",
          "germanywestcentral",
          "japaneast",
          "japanwest",
          "jioindiawest",
          "koreacentral",
          "northcentralus",
          "northeurope",
          "norwayeast",
          "southafricanorth",
          "southcentralus",
          "southeastasia",
          "swedencentral",
          "switzerlandnorth",
          "uaenorth",
          "uksouth",
          "ukwest",
          "westcentralus",
          "westeurope",
          "westus",
          "westus2",
          "westus3",
          "qatarcentral",
          "centraluseuap",
          "eastus2euap"
        ],
        "subscriptionId": "6c6683e9-e5fe-4038-8519-ce6ebec2ba15",
        "resourceGroup": "registry-builtin-prod-eastus-01",
        "workspaceName": null,
        "primaryRegionResourceProviderUri": "https://cert-EastUS.experiments.azureml.net/",
        "registryFqdns": {
          "eastus": {
            "uri": "https://eastus.api.azureml.ms"
          },
          "australiaeast": {
            "uri": "https://australiaeast.api.azureml.ms"
          },
          "australiasoutheast": {
            "uri": "https://australiasoutheast.api.azureml.ms"
          },
          "brazilsouth": {
            "uri": "https://brazilsouth.api.azureml.ms"
          },
          "canadacentral": {
            "uri": "https://canadacentral.api.azureml.ms"
          },
          "canadaeast": {
            "uri": "https://canadaeast.api.azureml.ms"
          },
          "centralindia": {
            "uri": "https://centralindia.api.azureml.ms"
          },
          "centralus": {
            "uri": "https://centralus.api.azureml.ms"
          },
          "eastasia": {
            "uri": "https://eastasia.api.azureml.ms"
          },
          "eastus2": {
            "uri": "https://eastus2.api.azureml.ms"
          },
          "francecentral": {
            "uri": "https://francecentral.api.azureml.ms"
          },
          "germanywestcentral": {
            "uri": "https://germanywestcentral.api.azureml.ms"
          },
          "japaneast": {
            "uri": "https://japaneast.api.azureml.ms"
          },
          "japanwest": {
            "uri": "https://japanwest.api.azureml.ms"
          },
          "jioindiawest": {
            "uri": "https://jioindiawest.api.azureml.ms"
          },
          "koreacentral": {
            "uri": "https://koreacentral.api.azureml.ms"
          },
          "northcentralus": {
            "uri": "https://northcentralus.api.azureml.ms"
          },
          "northeurope": {
            "uri": "https://northeurope.api.azureml.ms"
          },
          "norwayeast": {
            "uri": "https://norwayeast.api.azureml.ms"
          },
          "southafricanorth": {
            "uri": "https://southafricanorth.api.azureml.ms"
          },
          "southcentralus": {
            "uri": "https://southcentralus.api.azureml.ms"
          },
          "southeastasia": {
            "uri": "https://southeastasia.api.azureml.ms"
          },
          "swedencentral": {
            "uri": "https://swedencentral.api.azureml.ms"
          },
          "switzerlandnorth": {
            "uri": "https://switzerlandnorth.api.azureml.ms"
          },
          "uaenorth": {
            "uri": "https://uaenorth.api.azureml.ms"
          },
          "uksouth": {
            "uri": "https://uksouth.api.azureml.ms"
          },
          "ukwest": {
            "uri": "https://ukwest.api.azureml.ms"
          },
          "westcentralus": {
            "uri": "https://westcentralus.api.azureml.ms"
          },
          "westeurope": {
            "uri": "https://westeurope.api.azureml.ms"
          },
          "westus": {
            "uri": "https://westus.api.azureml.ms"
          },
          "westus2": {
            "uri": "https://westus2.api.azureml.ms"
          },
          "westus3": {
            "uri": "https://westus3.api.azureml.ms"
          },
          "qatarcentral": {
            "uri": "https://qatarcentral.api.azureml.ms"
          },
          "centraluseuap": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "int": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "eastus2euap": {
            "uri": "https://eastus2euap.api.azureml.ms"
          }
        },
        "intellectualPropertyPublisher": null
      }
    },
    {
      "RequestUri": "https://cert-eastus.experiments.azureml.net/mferp/managementfrontend/subscriptions/6c6683e9-e5fe-4038-8519-ce6ebec2ba15/resourceGroups/registry-builtin-prod-eastus-01/providers/Microsoft.MachineLearningServices/registries/azureml/components/llm_rag_update_acs_index/versions/azureml_default?api-version=2021-10-01-dataplanepreview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:13 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": [
          "nosniff",
          "nosniff"
        ],
        "x-ms-response-type": "standard",
        "x-request-time": "0.142"
      },
      "ResponseBody": {
        "id": "azureml://registries/azureml/components/llm_rag_update_acs_index/labels/default",
        "name": "azureml_default",
        "type": "Microsoft.MachineLearningServices/registries/components/versions",
        "properties": {
          "description": null,
          "tags": {
            "Preview": ""
          },
          "properties": {
            "client_component_hash": "ab4bf7fd-6a0f-3f2c-74af-b76aaa819eff"
          },
          "isArchived": false,
          "isAnonymous": false,
          "componentSpec": {
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "name": "llm_rag_update_acs_index",
            "version": "0.0.15",
            "display_name": "LLM - Update ACS Index",
            "is_deterministic": "True",
            "type": "command",
            "description": "Uploads \u0060embeddings\u0060 into Azure Cognitive Search instance specified in \u0060acs_config\u0060. The Index will be created if it doesn\u0027t exist.\n\nThe Index will have the following fields populated:\n- \u0022id\u0022, String, key=True\n- \u0022content\u0022, String,\n- \u0022content_vector_(open_ai|hugging_face)\u0022, Collection(Single)\n- \u0022category\u0022, String\n- \u0022sourcepage\u0022, String\n- \u0022sourcefile\u0022, String\n- \u0022content_hash\u0022, String\n- \u0022meta_json_string\u0022, String\n\n\u0022meta_json_string\u0022 contains all metadata for a document serialized as a JSON string.\n",
            "tags": {
              "Preview": ""
            },
            "inputs": {
              "embeddings": {
                "type": "uri_folder",
                "optional": "False",
                "description": "Embeddings output produced from parallel_create_embeddings."
              },
              "acs_config": {
                "type": "string",
                "optional": "False",
                "description": "JSON string containing the ACS configuration. e.g. {\u0022endpoint\u0022: \u0022https://my-cog.search.windows.net\u0022, \u0022index_name\u0022: \u0022my-index\u0022, \u0022api_version\u0022: \u00222021-04-30-Preview\u0022, \u0022endpoint_key_name\u0022: \u0022ACS-PROD-KEY\u0022}"
              }
            },
            "outputs": {
              "index": {
                "type": "uri_folder",
                "description": "Uri folder containing MLINdex yaml describing the newly created/updated ACS index"
              }
            },
            "code": "azureml://registries/azureml/codes/2562b099-d24d-490c-9622-a6fe62c1a0e4/versions/1",
            "environment": "azureml://registries/azureml/environments/llm-rag-embeddings/versions/9",
            "resources": {
              "instance_count": "1"
            },
            "command": "python -m azureml.rag.tasks.update_acs --embeddings ${{inputs.embeddings}} --acs_config \u0027${{inputs.acs_config}}\u0027 --output ${{outputs.index}}"
          }
        },
        "systemData": {
          "createdAt": "2023-08-22T18:41:38.7558629\u002B00:00",
          "createdBy": "Microsoft",
          "createdByType": "User",
          "lastModifiedAt": "2023-08-22T18:41:38.755863\u002B00:00",
          "lastModifiedBy": "Microsoft",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://eastus.api.azureml.ms/registrymanagement/v1.0/registries/azureml/discovery",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json, text/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:13 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": "nosniff",
        "x-ms-response-type": "standard",
        "x-request-time": "0.023"
      },
      "ResponseBody": {
        "registryId": "b98c40bc-36d6-4175-b131-bad4502fe1a3",
        "registryName": "azureml",
        "tenantId": "33e01921-4d64-4f8c-a055-5bdaffd5e33d",
        "primaryRegion": "EastUS",
        "regions": [
          "eastus",
          "australiaeast",
          "australiasoutheast",
          "brazilsouth",
          "canadacentral",
          "canadaeast",
          "centralindia",
          "centralus",
          "eastasia",
          "eastus2",
          "francecentral",
          "germanywestcentral",
          "japaneast",
          "japanwest",
          "jioindiawest",
          "koreacentral",
          "northcentralus",
          "northeurope",
          "norwayeast",
          "southafricanorth",
          "southcentralus",
          "southeastasia",
          "swedencentral",
          "switzerlandnorth",
          "uaenorth",
          "uksouth",
          "ukwest",
          "westcentralus",
          "westeurope",
          "westus",
          "westus2",
          "westus3",
          "qatarcentral",
          "centraluseuap",
          "eastus2euap"
        ],
        "subscriptionId": "6c6683e9-e5fe-4038-8519-ce6ebec2ba15",
        "resourceGroup": "registry-builtin-prod-eastus-01",
        "workspaceName": null,
        "primaryRegionResourceProviderUri": "https://cert-EastUS.experiments.azureml.net/",
        "registryFqdns": {
          "eastus": {
            "uri": "https://eastus.api.azureml.ms"
          },
          "australiaeast": {
            "uri": "https://australiaeast.api.azureml.ms"
          },
          "australiasoutheast": {
            "uri": "https://australiasoutheast.api.azureml.ms"
          },
          "brazilsouth": {
            "uri": "https://brazilsouth.api.azureml.ms"
          },
          "canadacentral": {
            "uri": "https://canadacentral.api.azureml.ms"
          },
          "canadaeast": {
            "uri": "https://canadaeast.api.azureml.ms"
          },
          "centralindia": {
            "uri": "https://centralindia.api.azureml.ms"
          },
          "centralus": {
            "uri": "https://centralus.api.azureml.ms"
          },
          "eastasia": {
            "uri": "https://eastasia.api.azureml.ms"
          },
          "eastus2": {
            "uri": "https://eastus2.api.azureml.ms"
          },
          "francecentral": {
            "uri": "https://francecentral.api.azureml.ms"
          },
          "germanywestcentral": {
            "uri": "https://germanywestcentral.api.azureml.ms"
          },
          "japaneast": {
            "uri": "https://japaneast.api.azureml.ms"
          },
          "japanwest": {
            "uri": "https://japanwest.api.azureml.ms"
          },
          "jioindiawest": {
            "uri": "https://jioindiawest.api.azureml.ms"
          },
          "koreacentral": {
            "uri": "https://koreacentral.api.azureml.ms"
          },
          "northcentralus": {
            "uri": "https://northcentralus.api.azureml.ms"
          },
          "northeurope": {
            "uri": "https://northeurope.api.azureml.ms"
          },
          "norwayeast": {
            "uri": "https://norwayeast.api.azureml.ms"
          },
          "southafricanorth": {
            "uri": "https://southafricanorth.api.azureml.ms"
          },
          "southcentralus": {
            "uri": "https://southcentralus.api.azureml.ms"
          },
          "southeastasia": {
            "uri": "https://southeastasia.api.azureml.ms"
          },
          "swedencentral": {
            "uri": "https://swedencentral.api.azureml.ms"
          },
          "switzerlandnorth": {
            "uri": "https://switzerlandnorth.api.azureml.ms"
          },
          "uaenorth": {
            "uri": "https://uaenorth.api.azureml.ms"
          },
          "uksouth": {
            "uri": "https://uksouth.api.azureml.ms"
          },
          "ukwest": {
            "uri": "https://ukwest.api.azureml.ms"
          },
          "westcentralus": {
            "uri": "https://westcentralus.api.azureml.ms"
          },
          "westeurope": {
            "uri": "https://westeurope.api.azureml.ms"
          },
          "westus": {
            "uri": "https://westus.api.azureml.ms"
          },
          "westus2": {
            "uri": "https://westus2.api.azureml.ms"
          },
          "westus3": {
            "uri": "https://westus3.api.azureml.ms"
          },
          "qatarcentral": {
            "uri": "https://qatarcentral.api.azureml.ms"
          },
          "centraluseuap": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "int": {
            "uri": "https://int.api.azureml-test.ms"
          },
          "eastus2euap": {
            "uri": "https://eastus2euap.api.azureml.ms"
          }
        },
        "intellectualPropertyPublisher": null
      }
    },
    {
      "RequestUri": "https://cert-eastus.experiments.azureml.net/mferp/managementfrontend/subscriptions/6c6683e9-e5fe-4038-8519-ce6ebec2ba15/resourceGroups/registry-builtin-prod-eastus-01/providers/Microsoft.MachineLearningServices/registries/azureml/components/llm_rag_register_mlindex_asset/versions/azureml_default?api-version=2021-10-01-dataplanepreview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Connection": "keep-alive",
        "Content-Encoding": "gzip",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:13 GMT",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=15724800; includeSubDomains; preload",
        "Transfer-Encoding": "chunked",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Content-Type-Options": [
          "nosniff",
          "nosniff"
        ],
        "x-ms-response-type": "standard",
        "x-request-time": "0.128"
      },
      "ResponseBody": {
        "id": "azureml://registries/azureml/components/llm_rag_register_mlindex_asset/labels/default",
        "name": "azureml_default",
        "type": "Microsoft.MachineLearningServices/registries/components/versions",
        "properties": {
          "description": null,
          "tags": {
            "Preview": ""
          },
          "properties": {
            "client_component_hash": "05ba1b64-5845-88ff-b4cf-da0212c74637"
          },
          "isArchived": false,
          "isAnonymous": false,
          "componentSpec": {
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "name": "llm_rag_register_mlindex_asset",
            "version": "0.0.15",
            "display_name": "LLM - Register Vector Index Asset",
            "is_deterministic": "True",
            "type": "command",
            "description": "Registers a MLIndex yaml and supporting files as an AzureML data asset\n",
            "tags": {
              "Preview": ""
            },
            "inputs": {
              "storage_uri": {
                "type": "uri_folder",
                "optional": "False",
                "description": "Folder containing MLIndex to be registered."
              },
              "asset_name": {
                "type": "string",
                "optional": "True",
                "description": "Name of the MLIndex registered dataset"
              }
            },
            "outputs": {
              "asset_id": {
                "type": "uri_file",
                "description": "Asset ID of the newly created data asset"
              }
            },
            "code": "azureml://registries/azureml/codes/53251c8e-b52d-412e-97f7-08665f5a1c13/versions/1",
            "environment": "azureml://registries/azureml/environments/llm-rag-embeddings/versions/9",
            "resources": {
              "instance_count": "1"
            },
            "command": "python -m azureml.rag.tasks.register_mlindex --storage-uri ${{inputs.storage_uri}} $[[--asset-name ${{inputs.asset_name}}]] --output-asset-id ${{outputs.asset_id}}"
          }
        },
        "systemData": {
          "createdAt": "2023-08-22T18:35:23.9195891\u002B00:00",
          "createdBy": "Microsoft",
          "createdByType": "User",
          "lastModifiedAt": "2023-08-22T18:35:23.9195892\u002B00:00",
          "lastModifiedBy": "Microsoft",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-acs-v2?api-version=2023-06-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1050",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:13 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "d5177e75-e051-4854-8776-1fb3f490b354",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "WESTCENTRALUS:20230824T093414Z:d5177e75-e051-4854-8776-1fb3f490b354",
        "X-MSEdge-Ref": "Ref A: 1C3FA355E4424BA09275BE65F2DB7831 Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:14Z",
        "x-request-time": "0.017"
      },
      "ResponseBody": {
        "tags": null,
        "location": null,
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-acs-v2",
        "name": "azureml-rag-acs-v2",
        "type": "Microsoft.MachineLearningServices/workspaces/connections",
        "properties": {
          "authType": "ApiKey",
          "credentials": null,
          "category": "CognitiveSearch",
          "expiryTime": null,
          "target": "https://azureml-rag-acs.search.windows.net",
          "createdByWorkspaceId": null,
          "isSharedToAll": false,
          "sharedUserList": [],
          "metadata": {
            "azureml.flow.connection_type": "CognitiveSearch",
            "azureml.flow.module": "promptflow.connections",
            "ApiVersion": "2023-07-01-Preview"
          }
        },
        "systemData": {
          "createdAt": "2023-05-29T23:02:49.9169608Z",
          "createdBy": "lupickup@microsoft.com",
          "createdByType": "User",
          "lastModifiedAt": "2023-05-29T23:02:49.9169608Z",
          "lastModifiedBy": "lupickup@microsoft.com",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-aoai-v2?api-version=2023-06-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "961",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:14 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "41532fa5-90a2-4892-ab31-05014545067e",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "NORTHCENTRALUS:20230824T093414Z:41532fa5-90a2-4892-ab31-05014545067e",
        "X-MSEdge-Ref": "Ref A: E240C02F42C14121A050E3A08763471C Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:14Z",
        "x-request-time": "0.063"
      },
      "ResponseBody": {
        "tags": null,
        "location": null,
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-aoai-v2",
        "name": "azureml-rag-aoai-v2",
        "type": "Microsoft.MachineLearningServices/workspaces/connections",
        "properties": {
          "authType": "ApiKey",
          "credentials": null,
          "category": "AzureOpenAI",
          "expiryTime": null,
          "target": "https://azureml-rag-oai.openai.azure.com/",
          "createdByWorkspaceId": null,
          "isSharedToAll": false,
          "sharedUserList": [],
          "metadata": {
            "apiType": "azure",
            "apiVersion": "2023-03-15-preview"
          }
        },
        "systemData": {
          "createdAt": "2023-05-15T20:02:20.6058328Z",
          "createdBy": "lupickup@microsoft.com",
          "createdByType": "User",
          "lastModifiedAt": "2023-05-15T20:02:20.6058328Z",
          "lastModifiedBy": "lupickup@microsoft.com",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore?api-version=2023-04-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1200",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:14 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "8ec0ef9d-f939-4bfb-906c-ba9eddeb6384",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CENTRALUS:20230824T093415Z:8ec0ef9d-f939-4bfb-906c-ba9eddeb6384",
        "X-MSEdge-Ref": "Ref A: 5B9E52B9F57445BAB88BB90D517904BB Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:14Z",
        "x-request-time": "0.340"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore",
        "name": "workspaceblobstore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": null,
          "tags": null,
          "properties": null,
          "isDefault": true,
          "credentials": {
            "credentialsType": "AccountKey"
          },
          "intellectualProperty": null,
          "subscriptionId": "00000000-0000-0000-0000-000000000",
          "resourceGroup": "00000",
          "datastoreType": "AzureBlob",
          "accountName": "azuremlrageast0769507664",
          "containerName": "azureml-blobstore-efa80d2b-53b4-4a3e-ab12-5f0fc1e0cf25",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
        },
        "systemData": {
          "createdAt": "2023-05-15T19:41:16.3609207\u002B00:00",
          "createdBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "createdByType": "Application",
          "lastModifiedAt": "2023-05-15T19:41:17.1485329\u002B00:00",
          "lastModifiedBy": "779301c0-18b2-4cdc-801b-a0a3368fee0a",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore/listSecrets?api-version=2023-04-01-preview",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "61",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:15 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "95ae2da6-4d57-451b-bdc1-430c6b6c26f8",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230824T093415Z:95ae2da6-4d57-451b-bdc1-430c6b6c26f8",
        "X-MSEdge-Ref": "Ref A: 916E43CE4523427E9D5356826085FAB8 Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:15Z",
        "x-request-time": "0.351"
      },
      "ResponseBody": {
        "secretsType": "AccountKey",
        "key": "dGhpcyBpcyBmYWtlIGtleQ=="
      }
    },
    {
      "RequestUri": "https://azuremlrageast0769507664.blob.core.windows.net/azureml-blobstore-efa80d2b-53b4-4a3e-ab12-5f0fc1e0cf25/LocalUpload/00000000000000000000000000000000/test_data/file1.md",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.13.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)",
        "x-ms-date": "Thu, 24 Aug 2023 09:34:15 GMT",
        "x-ms-version": "2021-08-06"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Accept-Ranges": "bytes",
        "Content-Length": "76",
        "Content-MD5": "G3DvVYPWbEYLO9V117lOsw==",
        "Content-Type": "application/octet-stream",
        "Date": "Thu, 24 Aug 2023 09:34:16 GMT",
        "ETag": "\u00220x8DBA21B39CDFFC5\u0022",
        "Last-Modified": "Mon, 21 Aug 2023 07:50:02 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Vary": "Origin",
        "x-ms-access-tier": "Hot",
        "x-ms-access-tier-inferred": "true",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-creation-time": "Mon, 21 Aug 2023 07:50:01 GMT",
        "x-ms-lease-state": "available",
        "x-ms-lease-status": "unlocked",
        "x-ms-meta-name": "68fe630b-6211-46a9-aac9-b19058fb845e",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "7fcfc7a2-6633-4a1a-89db-82632931f0ce",
        "x-ms-server-encrypted": "true",
        "x-ms-version": "2021-08-06"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://azuremlrageast0769507664.blob.core.windows.net/azureml-blobstore-efa80d2b-53b4-4a3e-ab12-5f0fc1e0cf25/az-ml-artifacts/00000000000000000000000000000000/test_data/file1.md",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.13.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)",
        "x-ms-date": "Thu, 24 Aug 2023 09:34:16 GMT",
        "x-ms-version": "2021-08-06"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Thu, 24 Aug 2023 09:34:16 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "Vary": "Origin",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2021-08-06"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000?api-version=2023-06-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "3433",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:16 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "f51d1022-34bc-47f8-86de-3715daf9a518",
        "x-ms-ratelimit-remaining-subscription-reads": "11999",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230824T093416Z:f51d1022-34bc-47f8-86de-3715daf9a518",
        "X-MSEdge-Ref": "Ref A: BCB3A8928FC54A5BA9E7B7FC1848CDFC Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:16Z",
        "x-request-time": "0.018"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000",
        "name": "00000",
        "type": "Microsoft.MachineLearningServices/workspaces",
        "location": "eastus",
        "tags": {},
        "etag": null,
        "properties": {
          "friendlyName": "00000",
          "description": "",
          "storageAccount": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.Storage/storageAccounts/azuremlrageast0769507664",
          "keyVault": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.Keyvault/vaults/azuremlrageast3596263029",
          "applicationInsights": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.insights/components/azuremlrageast9912132565",
          "hbiWorkspace": false,
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47",
          "imageBuildCompute": null,
          "provisioningState": "Succeeded",
          "managedNetwork": {
            "changeableIsolationModes": [
              "AllowInternetOutbound",
              "AllowOnlyApprovedOutbound"
            ],
            "isolationMode": "Disabled"
          },
          "v1LegacyMode": false,
          "softDeleteEnabled": false,
          "containerRegistry": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.ContainerRegistry/registries/efa80d2b53b44a3eab125f0fc1e0cf25",
          "creationTime": "2023-05-15T19:41:00.4614834Z",
          "notebookInfo": {
            "resourceId": "e0f82414c81346cda6725379ae85548a",
            "fqdn": "ml-azureml-rag-east-eastus-efa80d2b-53b4-4a3e-ab12-5f0fc1e0cf25.eastus.notebooks.azure.net",
            "isPrivateLinkEnabled": false,
            "notebookPreparationError": null
          },
          "storageHnsEnabled": false,
          "workspaceId": "efa80d2b-53b4-4a3e-ab12-5f0fc1e0cf25",
          "linkedModelInventoryArmId": null,
          "privateLinkCount": 0,
          "publicNetworkAccess": "Enabled",
          "discoveryUrl": "https://eastus.api.azureml.ms/discovery",
          "mlFlowTrackingUri": "azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000",
          "sdkTelemetryAppInsightsKey": "71fa86c2-fe23-49db-bb2e-8537edfb6ead",
          "sasGetterUri": "",
          "enableDataIsolation": false,
          "azureOpenAI": {
            "provisioningState": "Succeeded",
            "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.CognitiveServices/accounts/00000-aoai",
            "endpoint": "https://00000-aoai.openai.azure.com/",
            "proxyResourceId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/oaiaccounts/id_c9d9df52c03d42d189f3d99f9f05c4b8",
            "failureReason": "The AzureOpenAI resource is not provisioned yet. or not supported in this workspace region"
          }
        },
        "identity": {
          "type": "SystemAssigned",
          "principalId": "b4b7c71a-fbab-4045-bbef-cffe66c9471e",
          "tenantId": "72f988bf-86f1-41af-91ab-2d7cd011db47"
        },
        "kind": "Default",
        "sku": {
          "name": "Basic",
          "tier": "Basic"
        },
        "systemData": {
          "createdAt": "2023-05-15T19:41:00.4614834Z",
          "createdBy": "lupickup@microsoft.com",
          "createdByType": "User",
          "lastModifiedAt": "2023-05-15T19:41:00.4614834Z",
          "lastModifiedBy": "lupickup@microsoft.com",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/767da271-1a93-00f5-b6e9-1086d3aeb201?api-version=2022-10-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "4135",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": {
        "properties": {
          "description": "data_index_azure_docs_ml_aoai",
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "name": "data_index_acs",
            "description": "data_index_azure_docs_ml_aoai",
            "display_name": "data_index_azure_docs_ml_aoai",
            "inputs": {
              "input_data": {
                "type": "uri_folder"
              },
              "embeddings_model": {
                "type": "string"
              },
              "acs_config": {
                "type": "string"
              },
              "acs_connection_id": {
                "type": "string"
              },
              "chunk_size": {
                "type": "integer",
                "default": "1024"
              },
              "data_source_glob": {
                "type": "string",
                "optional": true
              },
              "data_source_url": {
                "type": "string",
                "optional": true
              },
              "document_path_replacement_regex": {
                "type": "string",
                "optional": true
              },
              "aoai_connection_id": {
                "type": "string",
                "optional": true
              },
              "embeddings_container": {
                "type": "uri_folder",
                "optional": true
              }
            },
            "outputs": {
              "mlindex_asset_uri": {
                "type": "uri_folder"
              },
              "mlindex_asset_id": {
                "type": "uri_file"
              }
            },
            "type": "pipeline",
            "jobs": {
              "crack_and_chunk": {
                "resources": {
                  "instance_count": 1,
                  "instance_type": "Standard_E8s_v3",
                  "properties": {
                    "compute_specification": {
                      "automatic": true
                    }
                  }
                },
                "name": "crack_and_chunk",
                "type": "command",
                "inputs": {
                  "input_data": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.input_data}}"
                  },
                  "input_glob": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.data_source_glob}}"
                  },
                  "chunk_size": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.chunk_size}}"
                  },
                  "data_source_url": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.data_source_url}}"
                  },
                  "document_path_replacement_regex": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.document_path_replacement_regex}}"
                  }
                },
                "_source": "REMOTE.REGISTRY",
                "componentId": "azureml://registries/azureml/components/llm_rag_crack_and_chunk/labels/default"
              },
              "generate_embeddings": {
                "resources": {
                  "instance_count": 1,
                  "instance_type": "Standard_E8s_v3",
                  "properties": {
                    "compute_specification": {
                      "automatic": true
                    }
                  }
                },
                "environment_variables": {
                  "AZUREML_WORKSPACE_CONNECTION_ID_AOAI": "${{parent.inputs.aoai_connection_id}}"
                },
                "name": "generate_embeddings",
                "type": "command",
                "inputs": {
                  "chunks_source": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.crack_and_chunk.outputs.output_chunks}}"
                  },
                  "embeddings_container": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.embeddings_container}}"
                  },
                  "embeddings_model": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.embeddings_model}}"
                  }
                },
                "outputs": {
                  "embeddings": {
                    "uri": "azureml://datastores/workspaceblobstore/paths/embeddings_cache/azure_docs_ml_aoai/{name}",
                    "job_output_type": "uri_folder"
                  }
                },
                "_source": "REMOTE.REGISTRY",
                "componentId": "azureml://registries/azureml/components/llm_rag_generate_embeddings/labels/default"
              },
              "update_acs_index": {
                "resources": {
                  "instance_count": 1,
                  "instance_type": "Standard_E8s_v3",
                  "properties": {
                    "compute_specification": {
                      "automatic": true
                    }
                  }
                },
                "environment_variables": {
                  "AZUREML_WORKSPACE_CONNECTION_ID_ACS": "${{parent.inputs.acs_connection_id}}"
                },
                "name": "update_acs_index",
                "type": "command",
                "inputs": {
                  "embeddings": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.generate_embeddings.outputs.embeddings}}"
                  },
                  "acs_config": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.acs_config}}"
                  }
                },
                "outputs": {
                  "index": {
                    "value": "${{parent.outputs.mlindex_asset_uri}}",
                    "type": "literal"
                  }
                },
                "_source": "REMOTE.REGISTRY",
                "componentId": "azureml://registries/azureml/components/llm_rag_update_acs_index/labels/default"
              },
              "register_mlindex_asset": {
                "resources": {
                  "instance_count": 1,
                  "instance_type": "Standard_E8s_v3",
                  "properties": {
                    "compute_specification": {
                      "automatic": true
                    }
                  }
                },
                "name": "register_mlindex_asset",
                "type": "command",
                "inputs": {
                  "storage_uri": {
                    "job_input_type": "literal",
                    "value": "${{parent.jobs.update_acs_index.outputs.index}}"
                  },
                  "asset_name": {
                    "job_input_type": "literal",
                    "value": "azure_docs_ml_aoai"
                  }
                },
                "outputs": {
                  "asset_id": {
                    "value": "${{parent.outputs.mlindex_asset_id}}",
                    "type": "literal"
                  }
                },
                "_source": "REMOTE.REGISTRY",
                "componentId": "azureml://registries/azureml/components/llm_rag_register_mlindex_asset/labels/default"
              }
            },
            "_source": "DSL",
            "sourceJobId": null
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "2288",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:18 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/767da271-1a93-00f5-b6e9-1086d3aeb201?api-version=2022-10-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "cc590691-82be-4989-893a-130c8163b421",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230824T093418Z:cc590691-82be-4989-893a-130c8163b421",
        "X-MSEdge-Ref": "Ref A: 34BA58F5C75447F89B4555340DC30F0E Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:17Z",
        "x-request-time": "1.636"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/51c9fc4a-d377-47ec-a7a3-5cb8faeaa631",
        "name": "51c9fc4a-d377-47ec-a7a3-5cb8faeaa631",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "componentSpec": {
            "name": "data_index_acs",
            "version": "0",
            "display_name": "data_index_azure_docs_ml_aoai",
            "is_deterministic": "False",
            "type": "pipeline",
            "description": "data_index_azure_docs_ml_aoai",
            "inputs": {
              "input_data": {
                "type": "uri_folder",
                "optional": "False"
              },
              "embeddings_container": {
                "type": "uri_folder",
                "optional": "True"
              },
              "embeddings_model": {
                "type": "string",
                "optional": "False"
              },
              "acs_config": {
                "type": "string",
                "optional": "False"
              },
              "acs_connection_id": {
                "type": "string",
                "optional": "False"
              },
              "chunk_size": {
                "type": "integer",
                "optional": "False",
                "default": "1024"
              },
              "data_source_glob": {
                "type": "string",
                "optional": "True"
              },
              "data_source_url": {
                "type": "string",
                "optional": "True"
              },
              "document_path_replacement_regex": {
                "type": "string",
                "optional": "True"
              },
              "aoai_connection_id": {
                "type": "string",
                "optional": "True"
              }
            },
            "outputs": {
              "mlindex_asset_uri": {
                "type": "uri_folder"
              },
              "mlindex_asset_id": {
                "type": "uri_file"
              }
            }
          }
        },
        "systemData": {
          "createdAt": "2023-08-24T09:34:18.7292311\u002B00:00",
          "createdBy": "117311a5-df69-4fff-a301-6be98c1bd0ab",
          "createdByType": "Application",
          "lastModifiedAt": "2023-08-24T09:34:18.7292311\u002B00:00",
          "lastModifiedBy": "117311a5-df69-4fff-a301-6be98c1bd0ab",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/000000000000000000000?api-version=2023-04-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "2562",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.10.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.12 (macOS-10.16-x86_64-i386-64bit)"
      },
      "RequestBody": {
        "properties": {
          "description": "data_index_azure_docs_ml_aoai",
          "properties": {
            "azureml.mlIndexAssetName": "azure_docs_ml_aoai",
            "azureml.mlIndexAssetKind": "acs",
            "azureml.mlIndexAssetSource": "Data Asset"
          },
          "tags": {},
          "displayName": "data_index_azure_docs_ml_aoai",
          "experimentName": "data_index_azure_docs_ml_aoai",
          "isArchived": false,
          "jobType": "Pipeline",
          "inputs": {},
          "jobs": {
            "data_index_azure_docs_ml_aoai": {
              "type": "pipeline",
              "inputs": {
                "input_data": {
                  "uri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/00000000000000000000000000000000/test_data/",
                  "job_input_type": "uri_folder"
                },
                "embeddings_model": {
                  "job_input_type": "literal",
                  "value": "azure_open_ai://deployment/text-embedding-ada-002/model/text-embedding-ada-002"
                },
                "acs_config": {
                  "job_input_type": "literal",
                  "value": "{\u0022index_name\u0022: \u0022azure_docs_ml_aoai\u0022}"
                },
                "acs_connection_id": {
                  "job_input_type": "literal",
                  "value": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-acs-v2"
                },
                "chunk_size": {
                  "job_input_type": "literal",
                  "value": "1024"
                },
                "data_source_url": {
                  "job_input_type": "literal",
                  "value": "https://learn.microsoft.com/en-us/azure"
                },
                "document_path_replacement_regex": {
                  "job_input_type": "literal",
                  "value": "{\u0022match_pattern\u0022: \u0022(.*)/articles/(.*)(\\\\.[^.]\u002B)$\u0022, \u0022replacement_pattern\u0022: \u0022\\\\1/\\\\2\u0022}"
                },
                "aoai_connection_id": {
                  "job_input_type": "literal",
                  "value": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-aoai-v2"
                },
                "embeddings_container": {
                  "uri": "azureml://datastores/workspaceblobstore/paths/embeddings_cache/azure_docs_ml_aoai",
                  "job_input_type": "uri_folder"
                }
              },
              "outputs": {
                "mlindex_asset_uri": {
                  "uri": "azureml://datastores/workspaceblobstore/paths/{name}",
                  "job_output_type": "uri_folder"
                }
              },
              "properties": {
                "azureml.mlIndexAssetName": "azure_docs_ml_aoai",
                "azureml.mlIndexAssetKind": "acs",
                "azureml.mlIndexAssetSource": "Data Asset"
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/51c9fc4a-d377-47ec-a7a3-5cb8faeaa631"
            }
          },
          "outputs": {},
          "settings": {
            "default_compute": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/serverless",
            "force_rerun": true,
            "_source": "CLASS"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "5163",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Thu, 24 Aug 2023 09:34:20 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/000000000000000000000?api-version=2023-04-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-eastus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "98083728-35c8-4d23-8913-4cf0863af88c",
        "x-ms-ratelimit-remaining-subscription-writes": "1199",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "CANADACENTRAL:20230824T093421Z:98083728-35c8-4d23-8913-4cf0863af88c",
        "X-MSEdge-Ref": "Ref A: 4D4EA888A4D74B96A872F7F93B9D5A9F Ref B: SJC211051204051 Ref C: 2023-08-24T09:34:19Z",
        "x-request-time": "2.038"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/000000000000000000000",
        "name": "000000000000000000000",
        "type": "Microsoft.MachineLearningServices/workspaces/jobs",
        "properties": {
          "description": "data_index_azure_docs_ml_aoai",
          "tags": {},
          "properties": {
            "azureml.mlIndexAssetName": "azure_docs_ml_aoai",
            "azureml.mlIndexAssetKind": "acs",
            "azureml.mlIndexAssetSource": "Data Asset",
            "azureml.DevPlatv2": "true",
            "azureml.DatasetAccessMode": "Asset",
            "azureml.runsource": "azureml.PipelineRun",
            "runSource": "MFE",
            "runType": "HTTP",
            "azureml.parameters": "{}",
            "azureml.continue_on_step_failure": "True",
            "azureml.continue_on_failed_optional_input": "True",
            "azureml.enforceRerun": "True",
            "azureml.defaultComputeName": "serverless",
            "azureml.defaultDataStoreName": "workspaceblobstore",
            "azureml.pipelineComponent": "pipelinerun"
          },
          "displayName": "data_index_azure_docs_ml_aoai",
          "status": "Preparing",
          "experimentName": "data_index_azure_docs_ml_aoai",
          "services": {
            "Tracking": {
              "jobServiceType": "Tracking",
              "port": null,
              "endpoint": "azureml://eastus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000?",
              "status": null,
              "errorMessage": null,
              "properties": null,
              "nodes": null
            },
            "Studio": {
              "jobServiceType": "Studio",
              "port": null,
              "endpoint": "https://ml.azure.com/runs/000000000000000000000?wsid=/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/00000/workspaces/00000",
              "status": null,
              "errorMessage": null,
              "properties": null,
              "nodes": null
            }
          },
          "computeId": null,
          "isArchived": false,
          "identity": null,
          "componentId": null,
          "notificationSetting": null,
          "secretsConfiguration": null,
          "jobType": "Pipeline",
          "settings": {
            "default_compute": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/serverless",
            "force_rerun": true,
            "_source": "CLASS"
          },
          "jobs": {
            "data_index_azure_docs_ml_aoai": {
              "type": "pipeline",
              "inputs": {
                "input_data": {
                  "uri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/00000000000000000000000000000000/test_data/",
                  "job_input_type": "uri_folder"
                },
                "embeddings_model": {
                  "job_input_type": "literal",
                  "value": "azure_open_ai://deployment/text-embedding-ada-002/model/text-embedding-ada-002"
                },
                "acs_config": {
                  "job_input_type": "literal",
                  "value": "{\u0022index_name\u0022: \u0022azure_docs_ml_aoai\u0022}"
                },
                "acs_connection_id": {
                  "job_input_type": "literal",
                  "value": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-acs-v2"
                },
                "chunk_size": {
                  "job_input_type": "literal",
                  "value": "1024"
                },
                "data_source_url": {
                  "job_input_type": "literal",
                  "value": "https://learn.microsoft.com/en-us/azure"
                },
                "document_path_replacement_regex": {
                  "job_input_type": "literal",
                  "value": "{\u0022match_pattern\u0022: \u0022(.*)/articles/(.*)(\\\\.[^.]\u002B)$\u0022, \u0022replacement_pattern\u0022: \u0022\\\\1/\\\\2\u0022}"
                },
                "aoai_connection_id": {
                  "job_input_type": "literal",
                  "value": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/connections/azureml-rag-aoai-v2"
                },
                "embeddings_container": {
                  "uri": "azureml://datastores/workspaceblobstore/paths/embeddings_cache/azure_docs_ml_aoai",
                  "job_input_type": "uri_folder"
                }
              },
              "outputs": {
                "mlindex_asset_uri": {
                  "uri": "azureml://datastores/workspaceblobstore/paths/{name}",
                  "job_output_type": "uri_folder"
                }
              },
              "properties": {
                "azureml.mlIndexAssetName": "azure_docs_ml_aoai",
                "azureml.mlIndexAssetKind": "acs",
                "azureml.mlIndexAssetSource": "Data Asset"
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/51c9fc4a-d377-47ec-a7a3-5cb8faeaa631"
            }
          },
          "inputs": {},
          "outputs": {},
          "sourceJobId": null
        },
        "systemData": {
          "createdAt": "2023-08-24T09:34:20.7981818\u002B00:00",
          "createdBy": "117311a5-df69-4fff-a301-6be98c1bd0ab",
          "createdByType": "Application"
        }
      }
    }
  ],
  "Variables": {}
}
