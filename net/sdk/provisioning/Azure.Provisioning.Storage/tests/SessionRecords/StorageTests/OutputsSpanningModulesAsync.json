{
  "Entries": [
    {
      "RequestUri": "https://management.azure.com/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba?api-version=2022-12-01",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "traceparent": "00-c748b7a4b6ad953fd4bfdea62f1c6a8b-3644c8bbbf86a4ef-00",
        "User-Agent": "azsdk-net-ResourceManager/1.12.0 (.NET 6.0.31; Microsoft Windows 10.0.22631)",
        "x-ms-client-request-id": "Sanitized",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "438",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Sun, 16 Jun 2024 10:56:42 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "4ab97dbd-449e-44ca-90ba-97d401421c4e",
        "x-ms-ratelimit-remaining-subscription-reads": "11989",
        "x-ms-request-id": "4ab97dbd-449e-44ca-90ba-97d401421c4e",
        "x-ms-routing-request-id": "ISRAELCENTRAL:20240616T105642Z:4ab97dbd-449e-44ca-90ba-97d401421c4e",
        "X-MSEdge-Ref": "Ref A: 9A26F8D4FC9B46D791707E4371BDFEFA Ref B: AMS231020512021 Ref C: 2024-06-16T10:56:42Z"
      },
      "ResponseBody": {
        "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba",
        "authorizationSource": "RoleBased",
        "managedByTenants": [],
        "subscriptionId": "caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba",
        "tenantId": "00000000-0000-0000-0000-000000000000",
        "displayName": "Adallom Internal - Connectors Inline (DEV-02) Subscription",
        "state": "Enabled",
        "subscriptionPolicies": {
          "locationPlacementId": "Internal_2014-09-01",
          "quotaId": "Internal_2014-09-01",
          "spendingLimit": "Off"
        }
      }
    },
    {
      "RequestUri": "https://management.azure.com/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/providers/Microsoft.Resources/deployments/OutputsSpanningModules/validate?api-version=2022-09-01",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Authorization": "Sanitized",
        "Content-Length": "6885",
        "Content-Type": "application/json",
        "traceparent": "00-e4aad97cc16c54a6cc306a567964e4b4-b3c4fd6032bc52fa-00",
        "User-Agent": "azsdk-net-ResourceManager.Resources/1.7.3 (.NET 6.0.31; Microsoft Windows 10.0.22631)",
        "x-ms-client-request-id": "Sanitized",
        "x-ms-return-client-request-id": "true"
      },
      "RequestBody": {
        "location": "westus",
        "properties": {
          "template": {
            "$schema": "https://schema.management.azure.com/schemas/2018-05-01/subscriptionDeploymentTemplate.json#",
            "contentVersion": "1.0.0.0",
            "metadata": {
              "_generator": {
                "name": "bicep",
                "version": "Sanitized",
                "templateHash": "Sanitized"
              }
            },
            "parameters": {
              "enableSoftDelete": {
                "type": "string",
                "defaultValue": "True",
                "metadata": {
                  "description": "Enable soft delete"
                }
              }
            },
            "resources": [
              {
                "type": "Microsoft.Resources/resourceGroups",
                "apiVersion": "2023-07-01",
                "name": "rg1-TEST",
                "location": "westus",
                "tags": {
                  "azd-env-name": "TEST"
                }
              },
              {
                "type": "Microsoft.Resources/resourceGroups",
                "apiVersion": "2023-07-01",
                "name": "rg2-TEST",
                "location": "westus",
                "tags": {
                  "azd-env-name": "TEST"
                }
              },
              {
                "type": "Microsoft.Resources/resourceGroups",
                "apiVersion": "2023-07-01",
                "name": "rg3-TEST",
                "location": "westus",
                "tags": {
                  "azd-env-name": "TEST"
                }
              },
              {
                "type": "Microsoft.Resources/deployments",
                "apiVersion": "2022-09-01",
                "name": "rg1_TEST_module",
                "resourceGroup": "Sanitized",
                "properties": {
                  "expressionEvaluationOptions": {
                    "scope": "inner"
                  },
                  "mode": "Incremental",
                  "parameters": {
                    "enableSoftDelete": {
                      "value": "[parameters('enableSoftDelete')]"
                    }
                  },
                  "template": {
                    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
                    "contentVersion": "1.0.0.0",
                    "metadata": {
                      "_generator": {
                        "name": "bicep",
                        "version": "Sanitized",
                        "templateHash": "Sanitized"
                      }
                    },
                    "parameters": {
                      "enableSoftDelete": {
                        "type": "string",
                        "defaultValue": "True",
                        "metadata": {
                          "description": "Enable soft delete"
                        }
                      }
                    },
                    "resources": [
                      {
                        "type": "Microsoft.Storage/storageAccounts",
                        "apiVersion": "2022-09-01",
                        "name": "[toLower(take(format('sa{0}', uniqueString(resourceGroup().id)), 24))]",
                        "location": "westus",
                        "sku": {
                          "name": "Standard_GRS"
                        },
                        "kind": "Storage",
                        "properties": {
                          "networkAcls": {
                            "defaultAction": "Deny"
                          }
                        }
                      },
                      {
                        "type": "Microsoft.KeyVault/vaults",
                        "apiVersion": "2022-07-01",
                        "name": "[toLower(take(format('kv{0}', uniqueString(resourceGroup().id)), 24))]",
                        "location": "westus",
                        "properties": {
                          "tenantId": "00000000-0000-0000-0000-000000000000",
                          "sku": {
                            "family": "A",
                            "name": "standard"
                          },
                          "enableSoftDelete": "[parameters('enableSoftDelete')]",
                          "enableRbacAuthorization": true
                        }
                      }
                    ],
                    "outputs": {
                      "STORAGE_KIND": {
                        "type": "string",
                        "value": "[reference(resourceId('Microsoft.Storage/storageAccounts', toLower(take(format('sa{0}', uniqueString(resourceGroup().id)), 24))), '2022-09-01', 'full').kind]"
                      },
                      "PRIMARY_ENDPOINTS": {
                        "type": "object",
                        "value": "[reference(resourceId('Microsoft.Storage/storageAccounts', toLower(take(format('sa{0}', uniqueString(resourceGroup().id)), 24))), '2022-09-01').primaryEndpoints]"
                      }
                    }
                  }
                },
                "dependsOn": [
                  "[subscriptionResourceId('Microsoft.Resources/resourceGroups', 'rg1-TEST')]"
                ]
              },
              {
                "type": "Microsoft.Resources/deployments",
                "apiVersion": "2022-09-01",
                "name": "rg2_TEST_module",
                "resourceGroup": "Sanitized",
                "properties": {
                  "expressionEvaluationOptions": {
                    "scope": "inner"
                  },
                  "mode": "Incremental",
                  "parameters": {
                    "enableSoftDelete": {
                      "value": "[parameters('enableSoftDelete')]"
                    },
                    "STORAGE_KIND": {
                      "value": "[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module'), '2022-09-01').outputs.STORAGE_KIND.value]"
                    },
                    "PRIMARY_ENDPOINTS": {
                      "value": "[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module'), '2022-09-01').outputs.PRIMARY_ENDPOINTS.value]"
                    }
                  },
                  "template": {
                    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
                    "contentVersion": "1.0.0.0",
                    "metadata": {
                      "_generator": {
                        "name": "bicep",
                        "version": "Sanitized",
                        "templateHash": "Sanitized"
                      }
                    },
                    "parameters": {
                      "enableSoftDelete": {
                        "type": "string",
                        "defaultValue": "True",
                        "metadata": {
                          "description": "Enable soft delete"
                        }
                      },
                      "STORAGE_KIND": {
                        "type": "string",
                        "metadata": {
                          "description": ""
                        }
                      },
                      "PRIMARY_ENDPOINTS": {
                        "type": "object",
                        "metadata": {
                          "description": ""
                        }
                      }
                    },
                    "resources": [
                      {
                        "type": "Microsoft.Storage/storageAccounts",
                        "apiVersion": "2022-09-01",
                        "name": "[toLower(take(format('sa{0}', uniqueString(resourceGroup().id)), 24))]",
                        "location": "westus",
                        "sku": {
                          "name": "Standard_GRS"
                        },
                        "kind": "[parameters('STORAGE_KIND')]",
                        "properties": {
                          "primaryEndpoints": "[parameters('PRIMARY_ENDPOINTS')]",
                          "networkAcls": {
                            "defaultAction": "Deny"
                          }
                        }
                      }
                    ]
                  }
                },
                "dependsOn": [
                  "[subscriptionResourceId('Microsoft.Resources/resourceGroups', 'rg2-TEST')]",
                  "[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module')]"
                ]
              },
              {
                "type": "Microsoft.Resources/deployments",
                "apiVersion": "2022-09-01",
                "name": "rg3_TEST_module",
                "resourceGroup": "Sanitized",
                "properties": {
                  "expressionEvaluationOptions": {
                    "scope": "inner"
                  },
                  "mode": "Incremental",
                  "parameters": {
                    "enableSoftDelete": {
                      "value": "[parameters('enableSoftDelete')]"
                    },
                    "STORAGE_KIND": {
                      "value": "[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module'), '2022-09-01').outputs.STORAGE_KIND.value]"
                    },
                    "PRIMARY_ENDPOINTS": {
                      "value": "[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module'), '2022-09-01').outputs.PRIMARY_ENDPOINTS.value]"
                    }
                  },
                  "template": {
                    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
                    "contentVersion": "1.0.0.0",
                    "metadata": {
                      "_generator": {
                        "name": "bicep",
                        "version": "Sanitized",
                        "templateHash": "Sanitized"
                      }
                    },
                    "parameters": {
                      "enableSoftDelete": {
                        "type": "string",
                        "defaultValue": "True",
                        "metadata": {
                          "description": "Enable soft delete"
                        }
                      },
                      "STORAGE_KIND": {
                        "type": "string",
                        "metadata": {
                          "description": ""
                        }
                      },
                      "PRIMARY_ENDPOINTS": {
                        "type": "object",
                        "metadata": {
                          "description": ""
                        }
                      }
                    },
                    "resources": [
                      {
                        "type": "Microsoft.Storage/storageAccounts",
                        "apiVersion": "2022-09-01",
                        "name": "[toLower(take(format('sa{0}', uniqueString(resourceGroup().id)), 24))]",
                        "location": "westus",
                        "sku": {
                          "name": "Standard_GRS"
                        },
                        "kind": "Storage",
                        "properties": {
                          "networkAcls": {
                            "defaultAction": "Deny"
                          }
                        }
                      }
                    ]
                  }
                },
                "dependsOn": [
                  "[subscriptionResourceId('Microsoft.Resources/resourceGroups', 'rg3-TEST')]",
                  "[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module')]"
                ]
              }
            ],
            "outputs": {
              "STORAGE_KIND": {
                "type": "string",
                "value": "[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module'), '2022-09-01').outputs.STORAGE_KIND.value]"
              },
              "PRIMARY_ENDPOINTS": {
                "type": "object",
                "value": "[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'rg1-TEST'), 'Microsoft.Resources/deployments', 'rg1_TEST_module'), '2022-09-01').outputs.PRIMARY_ENDPOINTS.value]"
              }
            }
          },
          "mode": "Incremental"
        }
      },
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "3837",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Sun, 16 Jun 2024 10:56:55 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "1c1e8341-48f8-4e2b-b2a6-ae4444fa4cc6",
        "x-ms-ratelimit-remaining-subscription-writes": "1195",
        "x-ms-request-id": "1c1e8341-48f8-4e2b-b2a6-ae4444fa4cc6",
        "x-ms-routing-request-id": "ISRAELCENTRAL:20240616T105656Z:1c1e8341-48f8-4e2b-b2a6-ae4444fa4cc6",
        "X-MSEdge-Ref": "Ref A: B8B44D6B5D794A05BA2AB0E7236DFBCF Ref B: AMS231020512021 Ref C: 2024-06-16T10:56:52Z"
      },
      "ResponseBody": {
        "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/providers/Microsoft.Resources/deployments/OutputsSpanningModules",
        "name": "OutputsSpanningModules",
        "type": "Microsoft.Resources/deployments",
        "location": "westus",
        "properties": {
          "templateHash": "7507416034956454867",
          "parameters": {
            "enableSoftDelete": {
              "type": "String",
              "value": "True"
            }
          },
          "mode": "Incremental",
          "provisioningState": "Succeeded",
          "timestamp": "0001-01-01T00:00:00Z",
          "duration": "PT0S",
          "correlationId": "1c1e8341-48f8-4e2b-b2a6-ae4444fa4cc6",
          "providers": [
            {
              "namespace": "Microsoft.Resources",
              "resourceTypes": [
                {
                  "resourceType": "resourceGroups",
                  "locations": [
                    "westus"
                  ]
                },
                {
                  "resourceType": "deployments",
                  "locations": [
                    null
                  ]
                }
              ]
            }
          ],
          "dependencies": [
            {
              "dependsOn": [
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST",
                  "resourceType": "Microsoft.Resources/resourceGroups",
                  "resourceName": "rg1-TEST"
                }
              ],
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Resources/deployments/rg1_TEST_module",
              "resourceType": "Microsoft.Resources/deployments",
              "resourceName": "rg1_TEST_module"
            },
            {
              "dependsOn": [
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg2-TEST",
                  "resourceType": "Microsoft.Resources/resourceGroups",
                  "resourceName": "rg2-TEST"
                },
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Resources/deployments/rg1_TEST_module",
                  "resourceType": "Microsoft.Resources/deployments",
                  "resourceName": "rg1_TEST_module"
                },
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Resources/deployments/rg1_TEST_module",
                  "resourceType": "Microsoft.Resources/deployments",
                  "resourceName": "rg1_TEST_module",
                  "apiVersion": "2022-09-01"
                }
              ],
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg2-TEST/providers/Microsoft.Resources/deployments/rg2_TEST_module",
              "resourceType": "Microsoft.Resources/deployments",
              "resourceName": "rg2_TEST_module"
            },
            {
              "dependsOn": [
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg3-TEST",
                  "resourceType": "Microsoft.Resources/resourceGroups",
                  "resourceName": "rg3-TEST"
                },
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Resources/deployments/rg1_TEST_module",
                  "resourceType": "Microsoft.Resources/deployments",
                  "resourceName": "rg1_TEST_module"
                },
                {
                  "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Resources/deployments/rg1_TEST_module",
                  "resourceType": "Microsoft.Resources/deployments",
                  "resourceName": "rg1_TEST_module",
                  "apiVersion": "2022-09-01"
                }
              ],
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg3-TEST/providers/Microsoft.Resources/deployments/rg3_TEST_module",
              "resourceType": "Microsoft.Resources/deployments",
              "resourceName": "rg3_TEST_module"
            }
          ],
          "validatedResources": [
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg2-TEST"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg3-TEST"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Resources/deployments/rg1_TEST_module"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg2-TEST/providers/Microsoft.Resources/deployments/rg2_TEST_module"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg3-TEST/providers/Microsoft.Resources/deployments/rg3_TEST_module"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.Storage/storageAccounts/sax34wiurskncdq"
            },
            {
              "id": "/subscriptions/caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba/resourceGroups/rg1-TEST/providers/Microsoft.KeyVault/vaults/kvx34wiurskncdq"
            }
          ]
        }
      }
    }
  ],
  "Variables": {
    "RandomSeed": "753944199",
    "RESOURCE_MANAGER_URL": null,
    "SUBSCRIPTION_ID": "caedc0f5-7aa8-4612-98f7-9ce6ad4dc1ba"
  }
}
