{
  "Entries": [
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c?api-version=2023-04-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "379",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "isAnonymous": true,
          "isArchived": false,
          "condaFile": "channels:\n- defaults\ndependencies:\n- python=3.8.12\n- pip=21.2.2\n- pip:\n  - --extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\n  - mldesigner==0.0.71974906\n  - mlflow\n  - azureml-mlflow\nname: example-environment\n",
          "image": "mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Build-ID": "imgbldrun_2aa99d8",
        "Cache-Control": "no-cache",
        "Content-Length": "1362",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:29:52 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c?api-version=2023-04-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "8536e02a-ed1e-4f04-8916-a9bb75882584",
        "x-ms-ratelimit-remaining-subscription-global-writes": "12000",
        "x-ms-ratelimit-remaining-subscription-writes": "800",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T112952Z:8536e02a-ed1e-4f04-8916-a9bb75882584",
        "X-MSEdge-Ref": "Ref A: 251DCF17F16447CA89EAE7F7C2FE3EA9 Ref B: MAA201060516023 Ref C: 2025-03-18T11:29:45Z",
        "x-request-time": "5.582"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
        "name": "9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
        "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "azureml.labels": ""
          },
          "isArchived": false,
          "isAnonymous": true,
          "autoDeleteSetting": null,
          "environmentType": "UserCreated",
          "image": "mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04",
          "condaFile": "{\n  \"channels\": [\n    \"defaults\"\n  ],\n  \"dependencies\": [\n    \"python=3.8.12\",\n    \"pip=21.2.2\",\n    {\n      \"pip\": [\n        \"--extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\",\n        \"mldesigner==0.0.71974906\",\n        \"mlflow\",\n        \"azureml-mlflow\"\n      ]\n    }\n  ],\n  \"name\": \"example-environment\"\n}",
          "osType": "Linux",
          "autoRebuild": "Disabled",
          "provisioningState": "Succeeded",
          "stage": "Logged",
          "intellectualProperty": null
        },
        "systemData": {
          "createdAt": "2025-03-18T11:29:46.8069898+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User",
          "lastModifiedAt": "2025-03-18T11:29:46.8069898+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c?api-version=2023-04-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "379",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "isAnonymous": true,
          "isArchived": false,
          "condaFile": "channels:\n- defaults\ndependencies:\n- python=3.8.12\n- pip=21.2.2\n- pip:\n  - --extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\n  - mldesigner==0.0.71974906\n  - mlflow\n  - azureml-mlflow\nname: example-environment\n",
          "image": "mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Build-ID": "imgbldrun_2aa99d8",
        "Cache-Control": "no-cache",
        "Content-Length": "1362",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:29:54 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c?api-version=2023-04-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "bf019ceb-6885-460c-92d8-236804e8c0a4",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T112954Z:bf019ceb-6885-460c-92d8-236804e8c0a4",
        "X-MSEdge-Ref": "Ref A: 1CCD30AB4BC04F30B37A62E445B8EE92 Ref B: MAA201060516023 Ref C: 2025-03-18T11:29:52Z",
        "x-request-time": "0.266"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
        "name": "9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
        "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "azureml.labels": ""
          },
          "isArchived": false,
          "isAnonymous": true,
          "autoDeleteSetting": null,
          "environmentType": "UserCreated",
          "image": "mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04",
          "condaFile": "{\n  \"channels\": [\n    \"defaults\"\n  ],\n  \"dependencies\": [\n    \"python=3.8.12\",\n    \"pip=21.2.2\",\n    {\n      \"pip\": [\n        \"--extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\",\n        \"mldesigner==0.0.71974906\",\n        \"mlflow\",\n        \"azureml-mlflow\"\n      ]\n    }\n  ],\n  \"name\": \"example-environment\"\n}",
          "osType": "Linux",
          "autoRebuild": "Disabled",
          "provisioningState": "Succeeded",
          "stage": "Logged",
          "intellectualProperty": null
        },
        "systemData": {
          "createdAt": "2025-03-18T11:29:46.8069898+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User",
          "lastModifiedAt": "2025-03-18T11:29:46.8069898+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c?api-version=2023-04-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "379",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "isAnonymous": true,
          "isArchived": false,
          "condaFile": "channels:\n- defaults\ndependencies:\n- python=3.8.12\n- pip=21.2.2\n- pip:\n  - --extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\n  - mldesigner==0.0.71974906\n  - mlflow\n  - azureml-mlflow\nname: example-environment\n",
          "image": "mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Build-ID": "imgbldrun_2aa99d8",
        "Cache-Control": "no-cache",
        "Content-Length": "1362",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:29:55 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c?api-version=2023-04-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "66544d98-ac7d-4c40-8630-5c31b5a00229",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11998",
        "x-ms-ratelimit-remaining-subscription-writes": "798",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T112956Z:66544d98-ac7d-4c40-8630-5c31b5a00229",
        "X-MSEdge-Ref": "Ref A: 19DD9F11D1BE4FE486E649263BDCB62B Ref B: MAA201060516023 Ref C: 2025-03-18T11:29:54Z",
        "x-request-time": "0.438"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
        "name": "9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
        "type": "Microsoft.MachineLearningServices/workspaces/environments/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "azureml.labels": ""
          },
          "isArchived": false,
          "isAnonymous": true,
          "autoDeleteSetting": null,
          "environmentType": "UserCreated",
          "image": "mcr.microsoft.com/azureml/openmpi3.1.2-ubuntu18.04",
          "condaFile": "{\n  \"channels\": [\n    \"defaults\"\n  ],\n  \"dependencies\": [\n    \"python=3.8.12\",\n    \"pip=21.2.2\",\n    {\n      \"pip\": [\n        \"--extra-index-url=https://azuremlsdktestpypi.azureedge.net/sdk-cli-v2\",\n        \"mldesigner==0.0.71974906\",\n        \"mlflow\",\n        \"azureml-mlflow\"\n      ]\n    }\n  ],\n  \"name\": \"example-environment\"\n}",
          "osType": "Linux",
          "autoRebuild": "Disabled",
          "provisioningState": "Succeeded",
          "stage": "Logged",
          "intellectualProperty": null
        },
        "systemData": {
          "createdAt": "2025-03-18T11:29:46.8069898+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User",
          "lastModifiedAt": "2025-03-18T11:29:46.8069898+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions?api-version=2023-04-01&hash=634b294c48adbaa95bcf5efb308a0fcad4c9a1e4a5e7dcf6a44403430acd7a9a&hashVersion=202208",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "17",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:00 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "59e47b81-d94f-4026-84bd-d05b51f4556e",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113000Z:59e47b81-d94f-4026-84bd-d05b51f4556e",
        "X-MSEdge-Ref": "Ref A: 29A17B75C2FB4884B99AA192FBDA7E08 Ref B: MAA201060516023 Ref C: 2025-03-18T11:29:59Z",
        "x-request-time": "0.061"
      },
      "ResponseBody": {
        "value": []
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions/1/startPendingUpload?api-version=2023-04-01",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "47",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "pendingUploadType": "TemporaryBlobReference"
      },
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "869",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:02 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "73fa01dc-573a-4823-b45a-46bf063b835e",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113002Z:73fa01dc-573a-4823-b45a-46bf063b835e",
        "X-MSEdge-Ref": "Ref A: B0D8D56B44184935AA0FFC6749F37B61 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:00Z",
        "x-request-time": "0.598"
      },
      "ResponseBody": {
        "blobReferenceForConsumption": {
          "blobUri": "https://saw5gakqr75l2j2.blob.core.windows.net:443/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk",
          "storageAccountArmId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.Storage/storageAccounts/saw5gakqr75l2j2",
          "credential": {
            "credentialType": "SAS",
            "sasUri": "https://saw5gakqr75l2j2.blob.core.windows.net/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk?skoid=a7131bf7-66af-4a51-8e78-b1d7c60bfbbe&sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&skt=2025-03-18T11%3A00%3A45Z&ske=2025-03-19T03%3A10%3A45Z&sks=b&skv=2019-07-07&sv=Sanitized&st=Sanitized&se=Sanitized&sr=c&sp=rcwl&sig=000000000000000000000000000000000000"
          }
        },
        "pendingUploadId": "5a8d1187-c0f4-42de-9712-f0d522f6a517",
        "pendingUploadType": "None"
      }
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk/src/baisc_component.py?skoid=a7131bf7-66af-4a51-8e78-b1d7c60bfbbe&sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&skt=2025-03-18T11%3A00%3A45Z&ske=2025-03-19T03%3A10%3A45Z&sks=b&skv=2019-07-07&sv=Sanitized&st=Sanitized&se=Sanitized&sr=c&sp=rcwl&sig=000000000000000000000000000000000000",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:01 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Tue, 18 Mar 2025 11:30:02 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk/src/baisc_component.py?skoid=a7131bf7-66af-4a51-8e78-b1d7c60bfbbe&sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&skt=2025-03-18T11%3A00%3A45Z&ske=2025-03-19T03%3A10%3A45Z&sks=b&skv=2019-07-07&sv=Sanitized&st=Sanitized&se=Sanitized&sr=c&sp=rcwl&sig=000000000000000000000000000000000000",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1443",
        "Content-MD5": "zNiWfv/6Ym24qYJAsT0CDA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:02 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "aW1wb3J0IGFyZ3BhcnNlCmltcG9ydCBvcwoKZnJvbSBtbGRlc2lnbmVyLl9jb21wb25lbnRfZXhlY3V0b3IgaW1wb3J0IEV4ZWN1dG9yQmFzZQoKcGFyc2VyID0gYXJncGFyc2UuQXJndW1lbnRQYXJzZXIoKQpwYXJzZXIuYWRkX2FyZ3VtZW50KCItLWNvbXBvbmVudF9pbl9udW1iZXIiLCB0eXBlPWludCkKcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1jb21wb25lbnRfaW5fbnVtYmVyXzEiLCB0eXBlPWludCkKcGFyc2VyLmFkZF9hcmd1bWVudCgiLS1jb21wb25lbnRfaW5fcGF0aCIsIHR5cGU9c3RyKQpwYXJzZXIuYWRkX2FyZ3VtZW50KCItLW91dHB1dF9pbl9wYXRoIiwgdHlwZT1zdHIpCnBhcnNlci5hZGRfYXJndW1lbnQoIi0tb3V0cHV0X2luX251bWJlciIsIHR5cGU9c3RyKQoKCmFyZ3MgPSBwYXJzZXIucGFyc2VfYXJncygpCgpsaW5lcyA9IFsKICAgIGYiY29tcG9uZW50X2luX251bWJlcjoge2FyZ3MuY29tcG9uZW50X2luX251bWJlcn0iLAogICAgZiJjb21wb25lbnRfaW5fbnVtYmVyXzE6IHthcmdzLmNvbXBvbmVudF9pbl9udW1iZXJfMX0iLAogICAgZiJjb21wb25lbnRfaW5fcGF0aDoge2FyZ3MuY29tcG9uZW50X2luX3BhdGh9IiwKXQoKaWYgYXJncy5jb21wb25lbnRfaW5fbnVtYmVyIGlzIG5vdCBOb25lOgogICAgY29tcG9uZW50X2luX251bWJlciA9IGFyZ3MuY29tcG9uZW50X2luX251bWJlcgplbGlmIG9zLnBhdGguZXhpc3RzKG9zLnBhdGguam9pbihhcmdzLmNvbXBvbmVudF9pbl9wYXRoLCAib3V0cHV0LnR4dCIpKToKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oYXJncy5jb21wb25lbnRfaW5fcGF0aCwgIm91dHB1dC50eHQiKSwgInIiKSBhcyBmaWxlOgogICAgICAgIGNvbnRlbnQgPSBmaWxlLnJlYWQoKQogICAgICAgIHRyeToKICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlciA9IGludChjb250ZW50KQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXIgPSBhcmdzLmNvbXBvbmVudF9pbl9udW1iZXIKZWxzZToKICAgIGNvbXBvbmVudF9pbl9udW1iZXIgPSAwCgpvdXRwdXRfaW5fbnVtID0gY29tcG9uZW50X2luX251bWJlciAtIDEKCndpdGggb3Blbihvcy5wYXRoLmpvaW4oYXJncy5vdXRwdXRfaW5fcGF0aCwgIm91dHB1dC50eHQiKSwgInciKSBhcyBmaWxlOgogICAgZmlsZS53cml0ZShzdHIob3V0cHV0X2luX251bSkpCgpjb250cm9sX291dHB1dF9jb250ZW50ID0gJ3siaXNfbnVtYmVyX2xhcmdlcl90aGFuX3plcm8iOiAiJXMiLCAib3V0cHV0X2luX251bWJlciI6ICIlcyJ9JyAlICgKICAgIHN0cihvdXRwdXRfaW5fbnVtID4gMCksCiAgICBvdXRwdXRfaW5fbnVtLAopCkV4ZWN1dG9yQmFzZS5fd3JpdGVfY29udHJvbF9vdXRwdXRzX3RvX3J1bl9oaXN0b3J5KGNvbnRyb2xfb3V0cHV0X2NvbnRlbnQ9Y29udHJvbF9vdXRwdXRfY29udGVudCkK",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "zNiWfv/6Ym24qYJAsT0CDA==",
        "Date": "Tue, 18 Mar 2025 11:30:02 GMT",
        "ETag": "\"0x8DD661039E062DF\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:03 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "qXP+qljsVoo=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk/src/baisc_component.py?comp=metadata&skoid=a7131bf7-66af-4a51-8e78-b1d7c60bfbbe&sktid=72f988bf-86f1-41af-91ab-2d7cd011db47&skt=2025-03-18T11%3A00%3A45Z&ske=2025-03-19T03%3A10%3A45Z&sks=b&skv=2019-07-07&sv=Sanitized&st=Sanitized&se=Sanitized&sr=c&sp=rcwl&sig=000000000000000000000000000000000000",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:02 GMT",
        "x-ms-meta-name": "388afc39-37cf-4b3e-8bb6-fc7f15da379e",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "1",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Date": "Tue, 18 Mar 2025 11:30:02 GMT",
        "ETag": "\"0x8DD66103A08CC0C\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:03 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions/1?api-version=2023-04-01",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "260",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isAnonymous": true,
          "isArchived": false,
          "codeUri": "https://saw5gakqr75l2j2.blob.core.windows.net:443/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk/src"
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "814",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:05 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions/1?api-version=2023-04-01",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "65756395-b866-41cf-83fd-6270867918f5",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113005Z:65756395-b866-41cf-83fd-6270867918f5",
        "X-MSEdge-Ref": "Ref A: 74FBDC31A2B84832B9B299BDFFD57AE8 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:03Z",
        "x-request-time": "0.278"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions/1",
        "name": "1",
        "type": "Microsoft.MachineLearningServices/workspaces/codes/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {
            "hash_sha256": "0000000000000",
            "hash_version": "0000000000000"
          },
          "isArchived": false,
          "isAnonymous": false,
          "codeUri": "https://saw5gakqr75l2j2.blob.core.windows.net:443/4830284c-8448-41aa-bcdd-55399c88f511-a57rdv1m3ryfzubd791syn28uk/src",
          "provisioningState": "Succeeded"
        },
        "systemData": {
          "createdAt": "2025-03-18T11:30:05.1566709+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User",
          "lastModifiedAt": "2025-03-18T11:30:05.1566709+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/81a6c30b-6314-4f85-8fef-783f8b6cd507?api-version=2024-01-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1411",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "command": "python basic_component.py $[[--component_in_number ${{inputs.component_in_number}}]] $[[--component_in_number_1 ${{inputs.component_in_number_1}}]] --component_in_path ${{inputs.component_in_path}} --output_in_path ${{outputs.output_in_path}}",
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions/1",
            "environment": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
            "name": "basic_component",
            "version": "0.0.1",
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "display_name": "Basic component",
            "is_deterministic": true,
            "inputs": {
              "component_in_number": {
                "type": "integer",
                "optional": true
              },
              "component_in_number_1": {
                "type": "integer",
                "optional": true
              },
              "component_in_path": {
                "type": "uri_folder"
              }
            },
            "outputs": {
              "output_in_path": {
                "type": "uri_folder"
              },
              "output_in_number": {
                "type": "integer"
              },
              "is_number_larger_than_zero": {
                "type": "boolean"
              }
            },
            "type": "command",
            "_source": "YAML.COMPONENT"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "2042",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:11 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/81a6c30b-6314-4f85-8fef-783f8b6cd507?api-version=2024-01-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "be3e6579-06e7-43da-9667-5084533ef1c6",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113011Z:be3e6579-06e7-43da-9667-5084533ef1c6",
        "X-MSEdge-Ref": "Ref A: 03D6819A390847C8B49D92E910128B39 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:09Z",
        "x-request-time": "0.604"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5ae7a3cd-3f9c-40df-a161-bc7386219639",
        "name": "5ae7a3cd-3f9c-40df-a161-bc7386219639",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "autoDeleteSetting": null,
          "componentSpec": {
            "$schema": "https://azuremlschemas.azureedge.net/latest/commandComponent.schema.json",
            "name": "basic_component",
            "version": "0.0.1",
            "display_name": "Basic component",
            "is_deterministic": "True",
            "type": "command",
            "inputs": {
              "component_in_path": {
                "type": "uri_folder",
                "optional": "False"
              },
              "component_in_number": {
                "type": "integer",
                "optional": "True"
              },
              "component_in_number_1": {
                "type": "integer",
                "optional": "True"
              }
            },
            "outputs": {
              "output_in_path": {
                "type": "uri_folder"
              },
              "output_in_number": {
                "type": "integer"
              },
              "is_number_larger_than_zero": {
                "type": "boolean"
              }
            },
            "code": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/codes/388afc39-37cf-4b3e-8bb6-fc7f15da379e/versions/1",
            "environment": "azureml:/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/environments/CliV2AnonymousEnvironment/versions/9b937a65e7631050003420cee47e42d94d5866ffe40e89a860a58fd3a2e0794c",
            "resources": {
              "instance_count": "1"
            },
            "command": "python basic_component.py $[[--component_in_number ${{inputs.component_in_number}}]] $[[--component_in_number_1 ${{inputs.component_in_number_1}}]] --component_in_path ${{inputs.component_in_path}} --output_in_path ${{outputs.output_in_path}}"
          },
          "provisioningState": "Succeeded",
          "stage": "Development"
        },
        "systemData": {
          "createdAt": "2025-03-18T11:30:10.8505782+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User",
          "lastModifiedAt": "2025-03-18T11:30:10.8505782+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/1bee81a3-0567-43d6-8429-843965d608ff?api-version=2024-01-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "1738",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "description": "E2E dummy train-score-eval pipeline with components defined via yaml.",
          "properties": {},
          "tags": {},
          "isAnonymous": true,
          "isArchived": false,
          "componentSpec": {
            "name": "do_while_body_pipeline_component",
            "description": "E2E dummy train-score-eval pipeline with components defined via yaml.",
            "display_name": "do_while_body_pipeline_component",
            "inputs": {
              "component_in_number": {
                "type": "integer",
                "optional": true
              },
              "component_in_number_1": {
                "type": "integer",
                "optional": true
              },
              "component_in_path": {
                "type": "uri_folder"
              }
            },
            "outputs": {
              "output_in_path": {
                "type": "uri_folder"
              },
              "output_in_number": {
                "type": "integer"
              },
              "is_number_larger_than_zero": {
                "type": "boolean"
              }
            },
            "type": "pipeline",
            "jobs": {
              "train_with_sample_data": {
                "name": "train_with_sample_data",
                "type": "command",
                "inputs": {
                  "component_in_number": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.component_in_number}}"
                  },
                  "component_in_number_1": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.component_in_number_1}}"
                  },
                  "component_in_path": {
                    "job_input_type": "literal",
                    "value": "${{parent.inputs.component_in_path}}"
                  }
                },
                "outputs": {
                  "output_in_path": {
                    "value": "${{parent.outputs.output_in_path}}",
                    "type": "literal"
                  },
                  "output_in_number": {
                    "value": "${{parent.outputs.output_in_number}}",
                    "type": "literal"
                  },
                  "is_number_larger_than_zero": {
                    "value": "${{parent.outputs.is_number_larger_than_zero}}",
                    "type": "literal"
                  }
                },
                "_source": "YAML.COMPONENT",
                "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5ae7a3cd-3f9c-40df-a161-bc7386219639"
              }
            },
            "_source": "DSL",
            "sourceJobId": null
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "1315",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:14 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/1bee81a3-0567-43d6-8429-843965d608ff?api-version=2024-01-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "b41110ef-dfdb-4cb9-8abc-e628b7c17a0c",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113014Z:b41110ef-dfdb-4cb9-8abc-e628b7c17a0c",
        "X-MSEdge-Ref": "Ref A: F2F07EA9347542D0B9D1624052A6C4B8 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:11Z",
        "x-request-time": "0.941"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/f92a97e1-c591-41df-ae63-1dac467c7e28",
        "name": "f92a97e1-c591-41df-ae63-1dac467c7e28",
        "type": "Microsoft.MachineLearningServices/workspaces/components/versions",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "isArchived": false,
          "isAnonymous": true,
          "autoDeleteSetting": null,
          "componentSpec": {
            "name": "do_while_body_pipeline_component",
            "version": "0",
            "display_name": "do_while_body_pipeline_component",
            "is_deterministic": "False",
            "type": "pipeline",
            "description": "E2E dummy train-score-eval pipeline with components defined via yaml.",
            "inputs": {
              "component_in_path": {
                "type": "uri_folder",
                "optional": "False"
              },
              "component_in_number": {
                "type": "integer",
                "optional": "True"
              },
              "component_in_number_1": {
                "type": "integer",
                "optional": "True"
              }
            },
            "outputs": {
              "output_in_path": {
                "type": "uri_folder"
              },
              "output_in_number": {
                "type": "integer"
              },
              "is_number_larger_than_zero": {
                "type": "boolean"
              }
            }
          },
          "provisioningState": "Succeeded",
          "stage": "Development"
        },
        "systemData": {
          "createdAt": "2025-03-18T11:30:13.8741468+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User",
          "lastModifiedAt": "2025-03-18T11:30:13.8741468+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore?api-version=2024-07-01-preview",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "888",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:18 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "Vary": "Accept-Encoding",
        "x-aml-cluster": "vienna-westus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "6ff122fd-c562-4f90-9aba-ed7f0cd455db",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113018Z:6ff122fd-c562-4f90-9aba-ed7f0cd455db",
        "X-MSEdge-Ref": "Ref A: 739863B0989B439B8D666B122C599BFC Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:18Z",
        "x-request-time": "0.103"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore",
        "name": "workspaceblobstore",
        "type": "Microsoft.MachineLearningServices/workspaces/datastores",
        "properties": {
          "description": null,
          "tags": null,
          "properties": null,
          "isDefault": true,
          "credentials": {
            "credentialsType": "AccountKey"
          },
          "subscriptionId": "00000000-0000-0000-0000-000000000",
          "resourceGroup": "00000",
          "datastoreType": "AzureBlob",
          "accountName": "Sanitized",
          "containerName": "azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511",
          "endpoint": "core.windows.net",
          "protocol": "https",
          "serviceDataAccessAuthIdentity": "WorkspaceSystemAssignedIdentity"
        },
        "systemData": {
          "createdAt": "2025-03-18T09:24:59.629721+00:00",
          "lastModifiedAt": "2025-03-18T09:25:00.8938439+00:00",
          "lastModifiedBy": "Sanitized",
          "lastModifiedByType": "Application"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/datastores/workspaceblobstore/listSecrets?api-version=2024-07-01-preview",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "48",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "expirableSecret": true,
        "expireAfterHours": 1
      },
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "134",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "390d67a2-66bd-4c96-9a4c-d51e6b499269",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113019Z:390d67a2-66bd-4c96-9a4c-d51e6b499269",
        "X-MSEdge-Ref": "Ref A: 914790BEE64F4AACA8AC872AE86392BB Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:18Z",
        "x-request-time": "0.087"
      },
      "ResponseBody": {
        "secretsType": "Sas",
        "sasToken": "?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl"
      }
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/__init__.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "HEAD",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": null,
      "StatusCode": 404,
      "ResponseHeaders": {
        "Date": "Tue, 18 Mar 2025 11:30:18 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "Transfer-Encoding": "chunked",
        "x-ms-error-code": "BlobNotFound",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_dsl_pipeline_on_registry.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "4536",
        "Content-MD5": "d1TaRP31HP1J+Hb81i1/OQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "ZnJvbSBwYXRobGliIGltcG9ydCBQYXRoDQoNCmltcG9ydCBweXRlc3QNCmZyb20gYXp1cmUuY29yZS5leGNlcHRpb25zIGltcG9ydCBSZXNvdXJjZU5vdEZvdW5kRXJyb3INCg0KZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgSW5wdXQsIE1MQ2xpZW50LCBsb2FkX2NvbXBvbmVudCwgbG9hZF9tb2RlbA0KZnJvbSBhenVyZS5haS5tbC5jb25zdGFudHMgaW1wb3J0IEFzc2V0VHlwZXMNCmZyb20gYXp1cmUuYWkubWwuZHNsIGltcG9ydCBwaXBlbGluZQ0KZnJvbSBkZXZ0b29sc190ZXN0dXRpbHMgaW1wb3J0IEF6dXJlUmVjb3JkZWRUZXN0Q2FzZSwgaXNfbGl2ZQ0KZnJvbSB0ZXN0X3V0aWxpdGllcy51dGlscyBpbXBvcnQgX1BZVEVTVF9USU1FT1VUX01FVEhPRCwgYXNzZXJ0X2pvYl9jYW5jZWwNCmZyb20gLi5fdXRpbCBpbXBvcnQgX0RTTF9USU1FT1VUX1NFQ09ORA0KDQoNCmRlZiBhc3NlcnRfcGlwZWxpbmVfam9iX2NhbmNlbChjbGllbnQ6IE1MQ2xpZW50LCBzY29yZV9mdW5jLCBwaXBlbGluZV9tb2RlbF9pbnB1dCwgcGlwZWxpbmVfdGVzdF9kYXRhKToNCiAgICBAcGlwZWxpbmUNCiAgICBkZWYgc2NvcmVfcGlwZWxpbmUobW9kZWxfaW5wdXQsIHRlc3RfZGF0YSk6DQogICAgICAgIHNjb3JlID0gc2NvcmVfZnVuYyhtb2RlbF9pbnB1dD1tb2RlbF9pbnB1dCwgdGVzdF9kYXRhPXRlc3RfZGF0YSkgICMgbm9xYTogRjg0MQ0KICAgICAgICBzY29yZV9kdXBsaWNhdGUgPSBzY29yZV9mdW5jKG1vZGVsX2lucHV0PW1vZGVsX2lucHV0LCB0ZXN0X2RhdGE9dGVzdF9kYXRhKSAgIyBub3FhOiBGODQxDQoNCiAgICBwaXBlbGluZV9qb2IgPSBzY29yZV9waXBlbGluZShtb2RlbF9pbnB1dD1waXBlbGluZV9tb2RlbF9pbnB1dCwgdGVzdF9kYXRhPXBpcGVsaW5lX3Rlc3RfZGF0YSkNCiAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQoNCkBweXRlc3QubWFyay5za2lwaWYoY29uZGl0aW9uPW5vdCBpc19saXZlKCksIHJlYXNvbj0icmVnaXN0cnkgdGVzdCwgbWF5IGZhaWwgaW4gcGxheWJhY2sgbW9kZSIpDQpAcHl0ZXN0Lm1hcmsudXNlZml4dHVyZXMoImVuYWJsZV9waXBlbGluZV9wcml2YXRlX3ByZXZpZXdfZmVhdHVyZXMiLCAicmVjb3JkZWRfdGVzdCIpDQpAcHl0ZXN0Lm1hcmsudGltZW91dCh0aW1lb3V0PV9EU0xfVElNRU9VVF9TRUNPTkQsIG1ldGhvZD1fUFlURVNUX1RJTUVPVVRfTUVUSE9EKQ0KQHB5dGVzdC5tYXJrLmUyZXRlc3QNCkBweXRlc3QubWFyay5waXBlbGluZV90ZXN0DQpjbGFzcyBUZXN0RFNMUGlwZWxpbmVPblJlZ2lzdHJ5KEF6dXJlUmVjb3JkZWRUZXN0Q2FzZSk6DQogICAgdGVzdF9kYXRhID0gSW5wdXQoDQogICAgICAgIHR5cGU9QXNzZXRUeXBlcy5VUklfRklMRSwNCiAgICAgICAgcGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvcGlwZWxpbmVfam9icy9qb2Jfd2l0aF9yZWdpc3RyeV9tb2RlbF9hc19pbnB1dC9kYXRhL3NhbXBsZTEuY3N2IiwNCiAgICApDQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV9qb2JfY3JlYXRlX3dpdGhfcmVnaXN0ZXJlZF9jb21wb25lbnRfb25fcmVnaXN0cnkoc2VsZiwgcGlwZWxpbmVzX3JlZ2lzdHJ5X2NsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBsb2NhbF9jb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudCgiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9iYXNpY19jb21wb25lbnRfY29kZV9sb2NhbF9wYXRoLnltbCIpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGNyZWF0ZWRfY29tcG9uZW50ID0gcGlwZWxpbmVzX3JlZ2lzdHJ5X2NsaWVudC5jb21wb25lbnRzLmdldCgNCiAgICAgICAgICAgICAgICBsb2NhbF9jb21wb25lbnQubmFtZSwgdmVyc2lvbj1sb2NhbF9jb21wb25lbnQudmVyc2lvbg0KICAgICAgICAgICAgKQ0KICAgICAgICBleGNlcHQgUmVzb3VyY2VOb3RGb3VuZEVycm9yOg0KICAgICAgICAgICAgY3JlYXRlZF9jb21wb25lbnQgPSBwaXBlbGluZXNfcmVnaXN0cnlfY2xpZW50LmNvbXBvbmVudHMuY3JlYXRlX29yX3VwZGF0ZShsb2NhbF9jb21wb25lbnQpDQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBzYW1wbGVfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIGNyZWF0ZWRfY29tcG9uZW50KCkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBzYW1wbGVfcGlwZWxpbmUoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVzX3JlZ2lzdHJ5X2NsaWVudC5qb2JzLnZhbGlkYXRlKHBpcGVsaW5lX2pvYikucGFzc2VkDQoNCiAgICAjIHRoaXMgdGVzdCB3aWxsIGJyZWFrIGluIHBsYXliYWNrIG1vZGUsIHNvIGluY2x1ZGUgaXQgaW4gbGl2ZSB0ZXN0IG9ubHkNCiAgICBkZWYgdGVzdF9waXBlbGluZV93aXRoX2xvY2FsX2NvbXBvbmVudF9hbmRfcmVnaXN0cnlfbW9kZWxfYXNfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgICMgbG9hZF9jb21wb25lbnQNCiAgICAgICAgc2NvcmVfZnVuYyA9IGxvYWRfY29tcG9uZW50KCIuL3Rlc3RzL3Rlc3RfY29uZmlncy9waXBlbGluZV9qb2JzL2pvYl93aXRoX3JlZ2lzdHJ5X21vZGVsX2FzX2lucHV0L3Njb3JlLnltbCIpDQoNCiAgICAgICAgcGlwZWxpbmVfc2NvcmVfbW9kZWwgPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9ImN1c3RvbV9tb2RlbCIsIHBhdGg9ImF6dXJlbWw6Ly9yZWdpc3RyaWVzL3Nkay10ZXN0L21vZGVscy9pcmlzX21vZGVsL3ZlcnNpb25zLzEiDQogICAgICAgICkNCg0KICAgICAgICBhc3NlcnRfcGlwZWxpbmVfam9iX2NhbmNlbChjbGllbnQsIHNjb3JlX2Z1bmMsIHBpcGVsaW5lX3Njb3JlX21vZGVsLCBzZWxmLnRlc3RfZGF0YSkNCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3dpdGhfbG9jYWxfY29tcG9uZW50X2FuZF9yZWdpc3RyeV9tb2RlbF9hc19pbnB1dF93aXRoX21vZGVsX2lucHV0KA0KICAgICAgICBzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCBwaXBlbGluZXNfcmVnaXN0cnlfY2xpZW50OiBNTENsaWVudA0KICAgICk6DQogICAgICAgICMgbG9hZF9jb21wb25lbnQNCiAgICAgICAgc2NvcmVfZnVuYyA9IGxvYWRfY29tcG9uZW50KCIuL3Rlc3RzL3Rlc3RfY29uZmlncy9waXBlbGluZV9qb2JzL2pvYl93aXRoX3JlZ2lzdHJ5X21vZGVsX2FzX2lucHV0L3Njb3JlLnltbCIpDQoNCiAgICAgICAgbW9kZWxfcGF0aCA9IFBhdGgoIi4vdGVzdHMvdGVzdF9jb25maWdzL21vZGVsL21vZGVsX2lyaXMueW1sIikNCiAgICAgICAgbW9kZWxfZW50aXR5ID0gbG9hZF9tb2RlbChtb2RlbF9wYXRoKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwaXBlbGluZV9zY29yZV9tb2RlbCA9IHBpcGVsaW5lc19yZWdpc3RyeV9jbGllbnQubW9kZWxzLmdldCgNCiAgICAgICAgICAgICAgICBuYW1lPW1vZGVsX2VudGl0eS5uYW1lLCB2ZXJzaW9uPW1vZGVsX2VudGl0eS52ZXJzaW9uDQogICAgICAgICAgICApDQogICAgICAgIGV4Y2VwdCBSZXNvdXJjZU5vdEZvdW5kRXJyb3I6DQogICAgICAgICAgICBtb2RlbF9lbnRpdHkgPSBwaXBlbGluZXNfcmVnaXN0cnlfY2xpZW50Lm1vZGVscy5jcmVhdGVfb3JfdXBkYXRlKG1vZGVsX2VudGl0eSkNCiAgICAgICAgICAgIHBpcGVsaW5lX3Njb3JlX21vZGVsID0gcGlwZWxpbmVzX3JlZ2lzdHJ5X2NsaWVudC5tb2RlbHMuZ2V0KA0KICAgICAgICAgICAgICAgIG5hbWU9bW9kZWxfZW50aXR5Lm5hbWUsIHZlcnNpb249bW9kZWxfZW50aXR5LnZlcnNpb24NCiAgICAgICAgICAgICkNCg0KICAgICAgICBhc3NlcnRfcGlwZWxpbmVfam9iX2NhbmNlbChjbGllbnQsIHNjb3JlX2Z1bmMsIHBpcGVsaW5lX3Njb3JlX21vZGVsLCBzZWxmLnRlc3RfZGF0YSkNCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3dpdGhfcmVnaXN0cnlfY29tcG9uZW50X2FuZF9tb2RlbF9hc19pbnB1dCgNCiAgICAgICAgc2VsZiwgY2xpZW50OiBNTENsaWVudCwgcGlwZWxpbmVzX3JlZ2lzdHJ5X2NsaWVudDogTUxDbGllbnQNCiAgICApOg0KICAgICAgICAjIGxvYWRfY29tcG9uZW50DQogICAgICAgIHNjb3JlX2NvbXBvbmVudF9uYW1lLCBjb21wb25lbnRfdmVyc2lvbiA9ICJzY29yZV9jb21wb25lbnQiLCAiMiINCiAgICAgICAgc2NvcmVfZnVuYyA9IHBpcGVsaW5lc19yZWdpc3RyeV9jbGllbnQuY29tcG9uZW50cy5nZXQobmFtZT1zY29yZV9jb21wb25lbnRfbmFtZSwgdmVyc2lvbj1jb21wb25lbnRfdmVyc2lvbikNCg0KICAgICAgICBwaXBlbGluZV9zY29yZV9tb2RlbCA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT0ibWxmbG93X21vZGVsIiwgcGF0aD0iYXp1cmVtbDovL3JlZ2lzdHJpZXMvc2RrLXRlc3QvbW9kZWxzL2lyaXNfbW9kZWwvdmVyc2lvbnMvMSINCiAgICAgICAgKQ0KDQogICAgICAgIGFzc2VydF9waXBlbGluZV9qb2JfY2FuY2VsKGNsaWVudCwgc2NvcmVfZnVuYywgcGlwZWxpbmVfc2NvcmVfbW9kZWwsIHNlbGYudGVzdF9kYXRhKQ0K",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "d1TaRP31HP1J+Hb81i1/OQ==",
        "Date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "ETag": "\"0x8DD661043E2AF5C\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "0cWl0GL+lYU=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_controlflow_pipeline.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "45409",
        "Content-MD5": "eBc1OlQJYEK71KYfOY1ixA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "ZnJvbSBwYXRobGliIGltcG9ydCBQYXRoDQoNCmltcG9ydCBweXRlc3QNCmZyb20gZGV2dG9vbHNfdGVzdHV0aWxzIGltcG9ydCBBenVyZVJlY29yZGVkVGVzdENhc2UsIGlzX2xpdmUNCmZyb20gdGVzdF91dGlsaXRpZXMudXRpbHMgaW1wb3J0IF9QWVRFU1RfVElNRU9VVF9NRVRIT0QsIGFzc2VydF9qb2JfY2FuY2VsLCBvbWl0X3dpdGhfd2lsZGNhcmQNCg0KZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgSW5wdXQsIE1MQ2xpZW50LCBPdXRwdXQsIGxvYWRfY29tcG9uZW50DQpmcm9tIGF6dXJlLmFpLm1sLmRzbCBpbXBvcnQgcGlwZWxpbmUNCmZyb20gYXp1cmUuYWkubWwuZHNsLl9jb25kaXRpb24gaW1wb3J0IGNvbmRpdGlvbg0KZnJvbSBhenVyZS5haS5tbC5kc2wuX2RvX3doaWxlIGltcG9ydCBkb193aGlsZQ0KZnJvbSBhenVyZS5haS5tbC5kc2wuX2dyb3VwX2RlY29yYXRvciBpbXBvcnQgZ3JvdXANCmZyb20gYXp1cmUuYWkubWwuZHNsLl9wYXJhbGxlbF9mb3IgaW1wb3J0IHBhcmFsbGVsX2Zvcg0KDQpmcm9tIC4uX3V0aWwgaW1wb3J0IF9EU0xfVElNRU9VVF9TRUNPTkQsIGluY2x1ZGVfcHJpdmF0ZV9wcmV2aWV3X25vZGVzX2luX3BpcGVsaW5lDQoNCnRlc3RfaW5wdXQgPSBJbnB1dCgNCiAgICB0eXBlPSJ1cmlfZmlsZSIsDQogICAgcGF0aD0iaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiLA0KKQ0KDQpvbWl0X2ZpZWxkcyA9IFsNCiAgICAibmFtZSIsDQogICAgInByb3BlcnRpZXMuZGlzcGxheV9uYW1lIiwNCiAgICAicHJvcGVydGllcy5qb2JzLiouY29tcG9uZW50SWQiLA0KICAgICJwcm9wZXJ0aWVzLnNldHRpbmdzIiwNCl0NCg0KDQpAcHl0ZXN0Lm1hcmsudXNlZml4dHVyZXMoDQogICAgImVuYWJsZV9wcml2YXRlX3ByZXZpZXdfc2NoZW1hX2ZlYXR1cmVzIiwNCiAgICAiZW5hYmxlX2Vudmlyb25tZW50X2lkX2FybV9leHBhbnNpb24iLA0KICAgICJlbmFibGVfcGlwZWxpbmVfcHJpdmF0ZV9wcmV2aWV3X2ZlYXR1cmVzIiwNCiAgICAibW9ja19jb2RlX2hhc2giLA0KICAgICJtb2NrX2Fzc2V0X25hbWUiLA0KICAgICJtb2NrX2NvbXBvbmVudF9oYXNoIiwNCiAgICAibW9ja19zZXRfaGVhZGVyc193aXRoX3VzZXJfYW1sX3Rva2VuIiwNCiAgICAicmVjb3JkZWRfdGVzdCIsDQogICAgInVzZV9weXRob25fYW1saWdub3JlX2R1cmluZ191cGxvYWQiLA0KKQ0KQHB5dGVzdC5tYXJrLnRpbWVvdXQodGltZW91dD1fRFNMX1RJTUVPVVRfU0VDT05ELCBtZXRob2Q9X1BZVEVTVF9USU1FT1VUX01FVEhPRCkNCkBweXRlc3QubWFyay5lMmV0ZXN0DQpAcHl0ZXN0Lm1hcmsucGlwZWxpbmVfdGVzdA0KY2xhc3MgVGVzdENvbnRyb2xGbG93UGlwZWxpbmUoQXp1cmVSZWNvcmRlZFRlc3RDYXNlKToNCiAgICBwYXNzDQoNCg0KQHB5dGVzdC5tYXJrLnVzZWZpeHR1cmVzKCJtb2NrX2Fub25fY29tcG9uZW50X3ZlcnNpb24iKQ0KY2xhc3MgVGVzdElmRWxzZShUZXN0Q29udHJvbEZsb3dQaXBlbGluZSk6DQogICAgZGVmIHRlc3RfZHNsX2NvbmRpdGlvbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgIyB1cGRhdGUgam9icyBmaWVsZCB0byBpbmNsdWRlIHByaXZhdGUgcHJldmlldyBub2Rlcw0KDQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50X25vX3BhdGhzLnltbCINCiAgICAgICAgKQ0KICAgICAgICBiYXNpY19jb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9jb21wb25lbnRfd2l0aF9jb25kaXRpb25hbF9vdXRwdXQvc3BlYy55YW1sIg0KICAgICAgICApDQoNCiAgICAgICAgQHBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT0idGVzdF9tbGRlc2lnbmVyX2NvbXBvbmVudF93aXRoX2NvbmRpdGlvbmFsX291dHB1dCIsDQogICAgICAgICAgICBjb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICkNCiAgICAgICAgZGVmIGNvbmRpdGlvbl9waXBlbGluZSgpOg0KICAgICAgICAgICAgcmVzdWx0ID0gYmFzaWNfY29tcG9uZW50KCkNCg0KICAgICAgICAgICAgbm9kZTEgPSBoZWxsb193b3JsZF9jb21wb25lbnRfbm9fcGF0aHMoY29tcG9uZW50X2luX251bWJlcj0xKQ0KICAgICAgICAgICAgbm9kZTIgPSBoZWxsb193b3JsZF9jb21wb25lbnRfbm9fcGF0aHMoY29tcG9uZW50X2luX251bWJlcj0yKQ0KICAgICAgICAgICAgY29uZGl0aW9uKGNvbmRpdGlvbj1yZXN1bHQub3V0cHV0cy5vdXRwdXQsIGZhbHNlX2Jsb2NrPW5vZGUxLCB0cnVlX2Jsb2NrPW5vZGUyKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNvbmRpdGlvbl9waXBlbGluZSgpDQoNCiAgICAgICAgIyBpbmNsdWRlIHByaXZhdGUgcHJldmlldyBub2Rlcw0KICAgICAgICB3aXRoIGluY2x1ZGVfcHJpdmF0ZV9wcmV2aWV3X25vZGVzX2luX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBwaXBlbGluZV9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgICAgICBkc2xfcGlwZWxpbmVfam9iX2RpY3QgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAiY29uZGl0aW9ubm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJjb25kaXRpb24iOiAiJHt7cGFyZW50LmpvYnMucmVzdWx0Lm91dHB1dHMub3V0cHV0fX0iLA0KICAgICAgICAgICAgICAgICJmYWxzZV9ibG9jayI6ICIke3twYXJlbnQuam9icy5ub2RlMX19IiwNCiAgICAgICAgICAgICAgICAidHJ1ZV9ibG9jayI6ICIke3twYXJlbnQuam9icy5ub2RlMn19IiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJpZl9lbHNlIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAibm9kZTEiOiB7DQogICAgICAgICAgICAgICAgIl9zb3VyY2UiOiAiWUFNTC5DT01QT05FTlQiLA0KICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9fSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm5vZGUyIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogeyJjb21wb25lbnRfaW5fbnVtYmVyIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIifX0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAibm9kZTIiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJyZXN1bHQiOiB7DQogICAgICAgICAgICAgICAgIl9zb3VyY2UiOiAiWUFNTC5DT01QT05FTlQiLA0KICAgICAgICAgICAgICAgICJuYW1lIjogInJlc3VsdCIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9kc2xfY29uZGl0aW9uX3BpcGVsaW5lX3dpdGhfcHJpbWl0aXZlX2lucHV0KHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfbm9fcGF0aHMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudF9ub19wYXRocy55bWwiDQogICAgICAgICkNCg0KICAgICAgICBAcGlwZWxpbmUoDQogICAgICAgICAgICBuYW1lPSJ0ZXN0X21sZGVzaWduZXJfY29tcG9uZW50X3dpdGhfY29uZGl0aW9uYWxfb3V0cHV0IiwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgY29uZGl0aW9uX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBub2RlMSA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyhjb21wb25lbnRfaW5fbnVtYmVyPTEpDQogICAgICAgICAgICBub2RlMiA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyhjb21wb25lbnRfaW5fbnVtYmVyPTIpDQogICAgICAgICAgICBjb25kaXRpb24oY29uZGl0aW9uPVRydWUsIGZhbHNlX2Jsb2NrPW5vZGUxLCB0cnVlX2Jsb2NrPW5vZGUyKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNvbmRpdGlvbl9waXBlbGluZSgpDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHJlc3Rfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQoNCiAgICAgICAgZHNsX3BpcGVsaW5lX2pvYl9kaWN0ID0gb21pdF93aXRoX3dpbGRjYXJkKHJlc3Rfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAiY29uZGl0aW9ubm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJjb25kaXRpb24iOiBUcnVlLA0KICAgICAgICAgICAgICAgICJmYWxzZV9ibG9jayI6ICIke3twYXJlbnQuam9icy5ub2RlMX19IiwNCiAgICAgICAgICAgICAgICAidHJ1ZV9ibG9jayI6ICIke3twYXJlbnQuam9icy5ub2RlMn19IiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJpZl9lbHNlIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAibm9kZTEiOiB7DQogICAgICAgICAgICAgICAgIl9zb3VyY2UiOiAiWUFNTC5DT01QT05FTlQiLA0KICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9fSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm5vZGUyIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogeyJjb21wb25lbnRfaW5fbnVtYmVyIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIifX0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAibm9kZTIiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfZHNsX2NvbmRpdGlvbl9waXBlbGluZV93aXRoX29uZV9icmFuY2goc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50X25vX3BhdGhzLnltbCINCiAgICAgICAgKQ0KDQogICAgICAgIEBwaXBlbGluZSgNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgY29uZGl0aW9uX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBub2RlMSA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyhjb21wb25lbnRfaW5fbnVtYmVyPTEpDQogICAgICAgICAgICBjb25kaXRpb24oY29uZGl0aW9uPVRydWUsIGZhbHNlX2Jsb2NrPW5vZGUxKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNvbmRpdGlvbl9waXBlbGluZSgpDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHJlc3Rfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQoNCiAgICAgICAgZHNsX3BpcGVsaW5lX2pvYl9kaWN0ID0gb21pdF93aXRoX3dpbGRjYXJkKHJlc3Rfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAiY29uZGl0aW9ubm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJjb25kaXRpb24iOiBUcnVlLA0KICAgICAgICAgICAgICAgICJmYWxzZV9ibG9jayI6ICIke3twYXJlbnQuam9icy5ub2RlMX19IiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJpZl9lbHNlIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAibm9kZTEiOiB7DQogICAgICAgICAgICAgICAgIl9zb3VyY2UiOiAiWUFNTC5DT01QT05FTlQiLA0KICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9fSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9yZWdpc3RlcmVkX2NvbXBvbmVudF9pc19jb250cm9sKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBwcmltaXRpdmVfY29tcG9uZW50X3dpdGhfbm9ybWFsX2lucHV0X291dHB1dF92MiA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2RvX3doaWxlX3Rlc3QvcHJpbWl0aXZlX2NvbXBvbmVudF93aXRoX25vcm1hbF9pbnB1dF9vdXRwdXRfdjIueWFtbCINCiAgICAgICAgKQ0KICAgICAgICBwcmltaXRpdmVfY29tcG9uZW50X3dpdGhfbm9ybWFsX2lucHV0X291dHB1dF92Mi5vdXRwdXRzWyJib29sX3BhcmFtX291dHB1dCJdLmVhcmx5X2F2YWlsYWJsZSA9IFRydWUNCiAgICAgICAgcmVnaXN0ZXJlZF9jb21wb25lbnQgPSBjbGllbnQuY29tcG9uZW50cy5jcmVhdGVfb3JfdXBkYXRlKHByaW1pdGl2ZV9jb21wb25lbnRfd2l0aF9ub3JtYWxfaW5wdXRfb3V0cHV0X3YyKQ0KICAgICAgICByZXN0X2RpY3QgPSByZWdpc3RlcmVkX2NvbXBvbmVudC5fdG9fZGljdCgpDQogICAgICAgICMgQXNzZXJ0IGlzX2NvbnRyb2wgd2l0aCBjb3JyZWN0IGJvb2wgdHlwZQ0KICAgICAgICBleHBlY3RlZF9kaWN0ID0gew0KICAgICAgICAgICAgIm91dHB1dF9kYXRhIjogeyJ0eXBlIjogInVyaV9mb2xkZXIifSwNCiAgICAgICAgICAgICJib29sX3BhcmFtX291dHB1dCI6IHsidHlwZSI6ICJib29sZWFuIiwgImVhcmx5X2F2YWlsYWJsZSI6IFRydWV9LA0KICAgICAgICAgICAgImludF9wYXJhbV9vdXRwdXQiOiB7InR5cGUiOiAiaW50ZWdlciJ9LA0KICAgICAgICAgICAgImZsb2F0X3BhcmFtX291dHB1dCI6IHsidHlwZSI6ICJudW1iZXIifSwNCiAgICAgICAgICAgICJzdHJfcGFyYW1fb3V0cHV0IjogeyJ0eXBlIjogInN0cmluZyJ9LA0KICAgICAgICB9DQogICAgICAgIGFzc2VydCByZXN0X2RpY3RbIm91dHB1dHMiXSA9PSBleHBlY3RlZF9kaWN0DQoNCiAgICAgICAgIyBBc3NlcnQgb24gcGlwZWxpbmUgY29tcG9uZW50DQogICAgICAgIEBncm91cA0KICAgICAgICBjbGFzcyBDb250cm9sT3V0cHV0R3JvdXA6DQogICAgICAgICAgICBvdXRwdXRfZGF0YTogT3V0cHV0KHR5cGU9InVyaV9mb2xkZXIiKQ0KICAgICAgICAgICAgZmxvYXRfcGFyYW1fb3V0cHV0OiBPdXRwdXQodHlwZT0ibnVtYmVyIiwgaXNfY29udHJvbD1UcnVlKQ0KICAgICAgICAgICAgaW50X3BhcmFtX291dHB1dDogT3V0cHV0KHR5cGU9ImludGVnZXIiLCBpc19jb250cm9sPVRydWUpDQogICAgICAgICAgICBib29sX3BhcmFtX291dHB1dDogT3V0cHV0KHR5cGU9ImJvb2xlYW4iLCBpc19jb250cm9sPVRydWUpDQogICAgICAgICAgICBzdHJfcGFyYW1fb3V0cHV0OiBPdXRwdXQodHlwZT0ic3RyaW5nIiwgaXNfY29udHJvbD1UcnVlKQ0KDQogICAgICAgIEBwaXBlbGluZSgpDQogICAgICAgIGRlZiB0ZXN0X3BpcGVsaW5lX2NvbXBvbmVudF9jb250cm9sX291dHB1dCgpIC0+IENvbnRyb2xPdXRwdXRHcm91cDoNCiAgICAgICAgICAgIG5vZGUgPSBwcmltaXRpdmVfY29tcG9uZW50X3dpdGhfbm9ybWFsX2lucHV0X291dHB1dF92MigNCiAgICAgICAgICAgICAgICBpbnB1dF9kYXRhPXRlc3RfaW5wdXQsIHBhcmFtYm9vbD1UcnVlLCBwYXJhbWludD0yLCBwYXJhbWZsb2F0PTIuMiwgcGFyYW1zdHI9InRlc3QiDQogICAgICAgICAgICApDQogICAgICAgICAgICByZXR1cm4gbm9kZS5vdXRwdXRzDQoNCiAgICAgICAgcmVnaXN0ZXJlZF9waXBlbGluZV9jb21wb25lbnQgPSBjbGllbnQuY29tcG9uZW50cy5jcmVhdGVfb3JfdXBkYXRlKHRlc3RfcGlwZWxpbmVfY29tcG9uZW50X2NvbnRyb2xfb3V0cHV0KQ0KICAgICAgICByZXN0X2RpY3QgPSByZWdpc3RlcmVkX3BpcGVsaW5lX2NvbXBvbmVudC5fdG9fZGljdCgpDQogICAgICAgIGFzc2VydCByZXN0X2RpY3RbIm91dHB1dHMiXSA9PSBleHBlY3RlZF9kaWN0DQoNCiAgICBkZWYgdGVzdF9kb193aGlsZV9jb21iaW5lZF9pZl9lbHNlKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBkb193aGlsZV9ib2R5X2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2RvX3doaWxlX3Rlc3QvZG9fd2hpbGVfYm9keV9jb21wb25lbnQueWFtbCINCiAgICAgICAgKQ0KICAgICAgICBwcmltaXRpdmVfY29tcG9uZW50X3dpdGhfbm9ybWFsX2lucHV0X291dHB1dF92MiA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2RvX3doaWxlX3Rlc3QvcHJpbWl0aXZlX2NvbXBvbmVudF93aXRoX25vcm1hbF9pbnB1dF9vdXRwdXRfdjIueWFtbCINCiAgICAgICAgKQ0KDQogICAgICAgIEBwaXBlbGluZShkZWZhdWx0X2NvbXB1dGVfdGFyZ2V0PSJjcHUtY2x1c3RlciIsIGNvbnRpbnVlX29uX3N0ZXBfZmFpbHVyZT1UcnVlKQ0KICAgICAgICBkZWYgdGVzdF9waXBlbGluZShpbnB1dF9kYXRhLCBpbnRfcGFyYW0sIGJvb2xfcGFyYW0sIGZsb2F0X3BhcmFtLCBzdHJfcGFyYW0pOg0KICAgICAgICAgICAgZG9fd2hpbGVfYm9keV9mdW5jID0gZG9fd2hpbGVfYm9keV9jb21wb25lbnQoDQogICAgICAgICAgICAgICAgaW5wdXRfMT1pbnB1dF9kYXRhLA0KICAgICAgICAgICAgICAgIGlucHV0XzI9aW5wdXRfZGF0YSwNCiAgICAgICAgICAgICAgICBpbnRfcGFyYW09aW50X3BhcmFtLA0KICAgICAgICAgICAgICAgIGJvb2xfcGFyYW09Ym9vbF9wYXJhbSwNCiAgICAgICAgICAgICAgICBmbG9hdF9wYXJhbT1mbG9hdF9wYXJhbSwNCiAgICAgICAgICAgICAgICBzdHJfcGFyYW09c3RyX3BhcmFtLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgICAgICBkb193aGlsZSgNCiAgICAgICAgICAgICAgICBib2R5PWRvX3doaWxlX2JvZHlfZnVuYywNCiAgICAgICAgICAgICAgICBjb25kaXRpb249ZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuY29uZGl0aW9uLA0KICAgICAgICAgICAgICAgIG1hcHBpbmc9ew0KICAgICAgICAgICAgICAgICAgICBkb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5vdXRwdXRfMTogZG9fd2hpbGVfYm9keV9mdW5jLmlucHV0cy5pbnB1dF8xLA0KICAgICAgICAgICAgICAgICAgICBkb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5vdXRwdXRfMjogZG9fd2hpbGVfYm9keV9mdW5jLmlucHV0cy5pbnB1dF8yLA0KICAgICAgICAgICAgICAgICAgICBkb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5pbnRfcGFyYW1fb3V0cHV0OiBkb193aGlsZV9ib2R5X2Z1bmMuaW5wdXRzLmludF9wYXJhbSwNCiAgICAgICAgICAgICAgICAgICAgZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuYm9vbF9wYXJhbV9vdXRwdXQ6IGRvX3doaWxlX2JvZHlfZnVuYy5pbnB1dHMuYm9vbF9wYXJhbSwNCiAgICAgICAgICAgICAgICAgICAgZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuZmxvYXRfcGFyYW1fb3V0cHV0OiBkb193aGlsZV9ib2R5X2Z1bmMuaW5wdXRzLmZsb2F0X3BhcmFtLA0KICAgICAgICAgICAgICAgICAgICBkb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5zdHJfcGFyYW1fb3V0cHV0OiBkb193aGlsZV9ib2R5X2Z1bmMuaW5wdXRzLnN0cl9wYXJhbSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG1heF9pdGVyYXRpb25fY291bnQ9MywNCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgcHJpbWl0aXZlX291dHB1dF9jb21wb25lbnRfdHJ1ZSA9IHByaW1pdGl2ZV9jb21wb25lbnRfd2l0aF9ub3JtYWxfaW5wdXRfb3V0cHV0X3YyKA0KICAgICAgICAgICAgICAgIGlucHV0X2RhdGE9ZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMub3V0cHV0XzEsDQogICAgICAgICAgICAgICAgcGFyYW1ib29sPWRvX3doaWxlX2JvZHlfZnVuYy5vdXRwdXRzLmJvb2xfcGFyYW1fb3V0cHV0LA0KICAgICAgICAgICAgICAgIHBhcmFtaW50PWRvX3doaWxlX2JvZHlfZnVuYy5vdXRwdXRzLmludF9wYXJhbV9vdXRwdXQsDQogICAgICAgICAgICAgICAgcGFyYW1mbG9hdD1kb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5mbG9hdF9wYXJhbV9vdXRwdXQsDQogICAgICAgICAgICAgICAgcGFyYW1zdHI9ZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuc3RyX3BhcmFtX291dHB1dCwNCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgY29uZGl0aW9uKGNvbmRpdGlvbj1kb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5jb25kaXRpb24sIHRydWVfYmxvY2s9cHJpbWl0aXZlX291dHB1dF9jb21wb25lbnRfdHJ1ZSkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSB0ZXN0X3BpcGVsaW5lKA0KICAgICAgICAgICAgaW5wdXRfZGF0YT10ZXN0X2lucHV0LCBpbnRfcGFyYW09NCwgYm9vbF9wYXJhbT1UcnVlLCBmbG9hdF9wYXJhbT0yMi4wLCBzdHJfcGFyYW09InN0cmluZ19wYXJhbV9ub19zcGFjZSINCiAgICAgICAgKQ0KDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHJlc3Rfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQoNCiAgICAgICAgZHNsX3BpcGVsaW5lX2pvYl9kaWN0ID0gb21pdF93aXRoX3dpbGRjYXJkKHJlc3Rfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAiY29uZGl0aW9ubm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJjb25kaXRpb24iOiAiJHt7cGFyZW50LmpvYnMuZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuY29uZGl0aW9ufX0iLA0KICAgICAgICAgICAgICAgICJ0cnVlX2Jsb2NrIjogIiR7e3BhcmVudC5qb2JzLnByaW1pdGl2ZV9vdXRwdXRfY29tcG9uZW50X3RydWV9fSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiaWZfZWxzZSIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImRvX3doaWxlX2JvZHlfZnVuYyI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJZQU1MLkNPTVBPTkVOVCIsDQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImJvb2xfcGFyYW0iOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5ib29sX3BhcmFtfX0ifSwNCiAgICAgICAgICAgICAgICAgICAgImZsb2F0X3BhcmFtIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuZmxvYXRfcGFyYW19fSJ9LA0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRfMSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmlucHV0X2RhdGF9fSJ9LA0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRfMiI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmlucHV0X2RhdGF9fSJ9LA0KICAgICAgICAgICAgICAgICAgICAiaW50X3BhcmFtIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuaW50X3BhcmFtfX0ifSwNCiAgICAgICAgICAgICAgICAgICAgInN0cl9wYXJhbSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnN0cl9wYXJhbX19In0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJkb193aGlsZV9ib2R5X2Z1bmMiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJkb3doaWxlIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIkRTTCIsDQogICAgICAgICAgICAgICAgImJvZHkiOiAiJHt7cGFyZW50LmpvYnMuZG9fd2hpbGVfYm9keV9mdW5jfX0iLA0KICAgICAgICAgICAgICAgICJjb25kaXRpb24iOiAiY29uZGl0aW9uIiwNCiAgICAgICAgICAgICAgICAibGltaXRzIjogeyJtYXhfaXRlcmF0aW9uX2NvdW50IjogM30sDQogICAgICAgICAgICAgICAgIm1hcHBpbmciOiB7DQogICAgICAgICAgICAgICAgICAgICJib29sX3BhcmFtX291dHB1dCI6IFsiYm9vbF9wYXJhbSJdLA0KICAgICAgICAgICAgICAgICAgICAiZmxvYXRfcGFyYW1fb3V0cHV0IjogWyJmbG9hdF9wYXJhbSJdLA0KICAgICAgICAgICAgICAgICAgICAiaW50X3BhcmFtX291dHB1dCI6IFsiaW50X3BhcmFtIl0sDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRfMSI6IFsiaW5wdXRfMSJdLA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0XzIiOiBbImlucHV0XzIiXSwNCiAgICAgICAgICAgICAgICAgICAgInN0cl9wYXJhbV9vdXRwdXQiOiBbInN0cl9wYXJhbSJdLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgInR5cGUiOiAiZG9fd2hpbGUiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwcmltaXRpdmVfb3V0cHV0X2NvbXBvbmVudF90cnVlIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRfZGF0YSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuam9icy5kb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5vdXRwdXRfMX19IiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgInBhcmFtYm9vbCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuam9icy5kb193aGlsZV9ib2R5X2Z1bmMub3V0cHV0cy5ib29sX3BhcmFtX291dHB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgInBhcmFtZmxvYXQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmpvYnMuZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuZmxvYXRfcGFyYW1fb3V0cHV0fX0iLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAicGFyYW1pbnQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmpvYnMuZG9fd2hpbGVfYm9keV9mdW5jLm91dHB1dHMuaW50X3BhcmFtX291dHB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgInBhcmFtc3RyIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5qb2JzLmRvX3doaWxlX2JvZHlfZnVuYy5vdXRwdXRzLnN0cl9wYXJhbV9vdXRwdXR9fSIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJwcmltaXRpdmVfb3V0cHV0X2NvbXBvbmVudF90cnVlIiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X2lmX2Vsc2VfbXVsdGlwbGVfYmxvY2tzKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfbm9fcGF0aHMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudF9ub19wYXRocy55bWwiDQogICAgICAgICkNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCIpDQogICAgICAgIGJhc2ljX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2NvbXBvbmVudF93aXRoX2NvbmRpdGlvbmFsX291dHB1dC9zcGVjLnlhbWwiDQogICAgICAgICkNCg0KICAgICAgICBAcGlwZWxpbmUoDQogICAgICAgICAgICBjb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICkNCiAgICAgICAgZGVmIGNvbmRpdGlvbl9waXBlbGluZSgpOg0KICAgICAgICAgICAgcmVzdWx0ID0gYmFzaWNfY29tcG9uZW50KCkNCg0KICAgICAgICAgICAgbm9kZTEgPSBoZWxsb193b3JsZF9jb21wb25lbnRfbm9fcGF0aHMoY29tcG9uZW50X2luX251bWJlcj0xKQ0KDQogICAgICAgICAgICBub2RlMiA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyhjb21wb25lbnRfaW5fbnVtYmVyPTIpDQogICAgICAgICAgICBub2RlMyA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudChjb21wb25lbnRfaW5fbnVtYmVyPTMsIGNvbXBvbmVudF9pbl9wYXRoPXRlc3RfaW5wdXQpDQogICAgICAgICAgICBub2RlNCA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudChjb21wb25lbnRfaW5fbnVtYmVyPTQsIGNvbXBvbmVudF9pbl9wYXRoPXRlc3RfaW5wdXQpDQogICAgICAgICAgICBjb25kaXRpb24oY29uZGl0aW9uPXJlc3VsdC5vdXRwdXRzLm91dHB1dCwgZmFsc2VfYmxvY2s9W25vZGUxLCBub2RlM10sIHRydWVfYmxvY2s9W25vZGUyLCBub2RlNF0pDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY29uZGl0aW9uX3BpcGVsaW5lKCkNCiAgICAgICAgd2l0aCBpbmNsdWRlX3ByaXZhdGVfcHJldmlld19ub2Rlc19pbl9waXBlbGluZSgpOg0KICAgICAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQoNCiAgICAgICAgZHNsX3BpcGVsaW5lX2pvYl9kaWN0ID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCksICpvbWl0X2ZpZWxkcykNCiAgICAgICAgYXNzZXJ0IGRzbF9waXBlbGluZV9qb2JfZGljdFsicHJvcGVydGllcyJdWyJqb2JzIl1bImNvbmRpdGlvbm5vZGUiXSA9PSB7DQogICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgImNvbmRpdGlvbiI6ICIke3twYXJlbnQuam9icy5yZXN1bHQub3V0cHV0cy5vdXRwdXR9fSIsDQogICAgICAgICAgICAiZmFsc2VfYmxvY2siOiBbIiR7e3BhcmVudC5qb2JzLm5vZGUxfX0iLCAiJHt7cGFyZW50LmpvYnMubm9kZTN9fSJdLA0KICAgICAgICAgICAgInRydWVfYmxvY2siOiBbIiR7e3BhcmVudC5qb2JzLm5vZGUyfX0iLCAiJHt7cGFyZW50LmpvYnMubm9kZTR9fSJdLA0KICAgICAgICAgICAgInR5cGUiOiAiaWZfZWxzZSIsDQogICAgICAgIH0NCg0KICAgIEBweXRlc3QubWFyay5za2lwaWYoY29uZGl0aW9uPW5vdCBpc19saXZlKCksIHJlYXNvbj0iVE9ETygyMTc3MzUzKTogY2hlY2sgd2h5IHJlY29yZGVkIHRlc3RzIGZhaWx1cmUuIikNCiAgICBkZWYgdGVzdF9pZl9lbHNlX211bHRpcGxlX2Jsb2Nrc19zdWJncmFwaChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X25vX3BhdGhzID0gbG9hZF9jb21wb25lbnQoDQogICAgICAgICAgICBzb3VyY2U9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnRfbm9fcGF0aHMueW1sIg0KICAgICAgICApDQogICAgICAgIGJhc2ljX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2NvbXBvbmVudF93aXRoX2NvbmRpdGlvbmFsX291dHB1dC9zcGVjLnlhbWwiDQogICAgICAgICkNCg0KICAgICAgICBAcGlwZWxpbmUoKQ0KICAgICAgICBkZWYgc3ViZ3JhcGgoKToNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9ub19wYXRocyhjb21wb25lbnRfaW5fbnVtYmVyPTIpDQoNCiAgICAgICAgQHBpcGVsaW5lKA0KICAgICAgICAgICAgY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBjb25kaXRpb25fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHJlc3VsdCA9IGJhc2ljX2NvbXBvbmVudCgpDQoNCiAgICAgICAgICAgIG5vZGUxID0gaGVsbG9fd29ybGRfY29tcG9uZW50X25vX3BhdGhzKGNvbXBvbmVudF9pbl9udW1iZXI9MSkNCg0KICAgICAgICAgICAgbm9kZTIgPSBzdWJncmFwaCgpDQoNCiAgICAgICAgICAgIGNvbmRpdGlvbihjb25kaXRpb249cmVzdWx0Lm91dHB1dHMub3V0cHV0LCB0cnVlX2Jsb2NrPVtub2RlMSwgbm9kZTJdKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNvbmRpdGlvbl9waXBlbGluZSgpDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQogICAgICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpLCAqb21pdF9maWVsZHMpDQogICAgICAgIGFzc2VydCBkc2xfcGlwZWxpbmVfam9iX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdWyJjb25kaXRpb25ub2RlIl0gPT0gew0KICAgICAgICAgICAgIl9zb3VyY2UiOiAiRFNMIiwNCiAgICAgICAgICAgICJjb25kaXRpb24iOiAiJHt7cGFyZW50LmpvYnMucmVzdWx0Lm91dHB1dHMub3V0cHV0fX0iLA0KICAgICAgICAgICAgInRydWVfYmxvY2siOiBbIiR7e3BhcmVudC5qb2JzLm5vZGUxfX0iLCAiJHt7cGFyZW50LmpvYnMubm9kZTJ9fSJdLA0KICAgICAgICAgICAgInR5cGUiOiAiaWZfZWxzZSIsDQogICAgICAgIH0NCg0KDQpAcHl0ZXN0Lm1hcmsudXNlZml4dHVyZXMoIm1vY2tfYW5vbl9jb21wb25lbnRfdmVyc2lvbiIpDQpjbGFzcyBUZXN0RG9XaGlsZVBpcGVsaW5lKFRlc3RDb250cm9sRmxvd1BpcGVsaW5lKToNCiAgICBAcHJvcGVydHkNCiAgICBkZWYgX2Jhc2ljX2NvbXBvbmVudF9mdW5jKHNlbGYpOg0KICAgICAgICByZXR1cm4gbG9hZF9jb21wb25lbnQoIi4vdGVzdHMvdGVzdF9jb25maWdzL2RzbF9waXBlbGluZS9kb193aGlsZS9iYXNpY19jb21wb25lbnQvY29tcG9uZW50LnltbCIpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuc2tpcGlmKA0KICAgICAgICBjb25kaXRpb249bm90IGlzX2xpdmUoKSwNCiAgICAgICAgcmVhc29uPSJUT0RPICgyMzc0NjEwKTogaGFzaCBzYW5pdGl6ZXIgaXMgYmVpbmcgYXBwbGllZCB1bm5lY2Vzc2FyaWx5IGFuZCBmb3JjaW5nIHBsYXliYWNrIGZhaWx1cmVzIiwNCiAgICApDQogICAgQHB5dGVzdC5tYXJrLnVzZWZpeHR1cmVzKCJtb2NrX2Fub25fY29tcG9uZW50X3ZlcnNpb24iKQ0KICAgIGRlZiB0ZXN0X2RvX3doaWxlX3BpcGVsaW5lKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBAcGlwZWxpbmUNCiAgICAgICAgZGVmIGRvX3doaWxlX2JvZHlfcGlwZWxpbmVfY29tcG9uZW50KA0KICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcjogSW5wdXQodHlwZT0iaW50ZWdlciIsIG9wdGlvbmFsPVRydWUpLA0KICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg6IElucHV0KHR5cGU9InVyaV9mb2xkZXIiKSwNCiAgICAgICAgKToNCiAgICAgICAgICAgICMgQ2FsbCBjb21wb25lbnQgb2JqIGFzIGZ1bmN0aW9uOiBhcHBseSBnaXZlbiBpbnB1dHMgJiBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIG5vZGUgaW4gcGlwZWxpbmUNCiAgICAgICAgICAgIGJhc2ljX2NvbXBvbmVudCA9IHNlbGYuX2Jhc2ljX2NvbXBvbmVudF9mdW5jKA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI9Y29tcG9uZW50X2luX251bWJlciwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHJldHVybiBiYXNpY19jb21wb25lbnQub3V0cHV0cw0KDQogICAgICAgIEBwaXBlbGluZQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kb193aGlsZSgNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI6IElucHV0KHR5cGU9ImludGVnZXIiKSwNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoOiBJbnB1dCh0eXBlPSJ1cmlfZm9sZGVyIiksDQogICAgICAgICk6DQogICAgICAgICAgICAjIERvIHdoaWxlIG5vZGUgd2l0aCBwaXBlbGluZSBjb21wb25lbnQNCiAgICAgICAgICAgIGRvX3doaWxlX2JvZHlfcGlwZWxpbmUgPSBkb193aGlsZV9ib2R5X3BpcGVsaW5lX2NvbXBvbmVudCgNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWNvbXBvbmVudF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2luX3BhdGgsDQogICAgICAgICAgICApDQogICAgICAgICAgICBkb193aGlsZV93aXRoX3BpcGVsaW5lID0gZG9fd2hpbGUoICAjIG5vcWE6IEY4NDENCiAgICAgICAgICAgICAgICBib2R5PWRvX3doaWxlX2JvZHlfcGlwZWxpbmUsDQogICAgICAgICAgICAgICAgY29uZGl0aW9uPWRvX3doaWxlX2JvZHlfcGlwZWxpbmUub3V0cHV0cy5pc19udW1iZXJfbGFyZ2VyX3RoYW5femVybywNCiAgICAgICAgICAgICAgICBtYXBwaW5nPXsNCiAgICAgICAgICAgICAgICAgICAgZG9fd2hpbGVfYm9keV9waXBlbGluZS5vdXRwdXRzLm91dHB1dF9pbl9wYXRoOiBkb193aGlsZV9ib2R5X3BpcGVsaW5lLmlucHV0cy5jb21wb25lbnRfaW5fcGF0aCwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG1heF9pdGVyYXRpb25fY291bnQ9NSwNCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgY29tbWFuZF9jb21wb25lbnQgPSBzZWxmLl9iYXNpY19jb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWNvbXBvbmVudF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2luX3BhdGgsDQogICAgICAgICAgICApDQogICAgICAgICAgICBkb193aGlsZV93aXRoX2NvbW1hbmRfY29tcG9uZW50ID0gZG9fd2hpbGUoICAjIG5vcWE6IEY4NDENCiAgICAgICAgICAgICAgICBib2R5PWNvbW1hbmRfY29tcG9uZW50LA0KICAgICAgICAgICAgICAgIGNvbmRpdGlvbj1jb21tYW5kX2NvbXBvbmVudC5vdXRwdXRzLmlzX251bWJlcl9sYXJnZXJfdGhhbl96ZXJvLA0KICAgICAgICAgICAgICAgIG1hcHBpbmc9ew0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0X2luX251bWJlciI6IGNvbW1hbmRfY29tcG9uZW50LmlucHV0cy5jb21wb25lbnRfaW5fbnVtYmVyLA0KICAgICAgICAgICAgICAgICAgICBjb21tYW5kX2NvbXBvbmVudC5vdXRwdXRzLm91dHB1dF9pbl9wYXRoOiBjb21tYW5kX2NvbXBvbmVudC5pbnB1dHMuY29tcG9uZW50X2luX3BhdGgsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBtYXhfaXRlcmF0aW9uX2NvdW50PTUsDQogICAgICAgICAgICApDQoNCiAgICAgICAgICAgICMgVXNlIHRoZSBvdXRwdXRzIG9mIGRvX3doaWxlIG5vZGUNCiAgICAgICAgICAgIGJhc2ljX2NvbXBvbmVudCA9IGRvX3doaWxlX2JvZHlfcGlwZWxpbmVfY29tcG9uZW50KA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI9Tm9uZSwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aD1jb21tYW5kX2NvbXBvbmVudC5vdXRwdXRzLm91dHB1dF9pbl9wYXRoLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgcmV0dXJuIHsib3V0cHV0X2luX3BhdGgiOiBiYXNpY19jb21wb25lbnQub3V0cHV0cy5vdXRwdXRfaW5fcGF0aH0NCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwaXBlbGluZV93aXRoX2RvX3doaWxlKA0KICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj0yLA0KICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9SW5wdXQodHlwZT0idXJpX2ZvbGRlciIsIHBhdGg9c3RyKFBhdGgoX19maWxlX18pLnBhcmVudCkpLA0KICAgICAgICApDQogICAgICAgICMgc2V0IHBpcGVsaW5lIGxldmVsIGNvbXB1dGUNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgIGRlZiB0ZXN0X2RvX3doaWxlX3BpcGVsaW5lX3dpdGhfcHJpbWl0aXZlX2lucHV0cyhzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBkb193aGlsZV9ib2R5X3BpcGVsaW5lX2NvbXBvbmVudCgNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI6IElucHV0KHR5cGU9ImludGVnZXIiKSwNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXJfMTogSW5wdXQodHlwZT0iaW50ZWdlciIpLA0KICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg6IElucHV0KHR5cGU9InVyaV9mb2xkZXIiKSwNCiAgICAgICAgKToNCiAgICAgICAgICAgICIiIkUyRSBkdW1teSB0cmFpbi1zY29yZS1ldmFsIHBpcGVsaW5lIHdpdGggY29tcG9uZW50cyBkZWZpbmVkIHZpYSB5YW1sLiIiIg0KICAgICAgICAgICAgIyBDYWxsIGNvbXBvbmVudCBvYmogYXMgZnVuY3Rpb246IGFwcGx5IGdpdmVuIGlucHV0cyAmIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgbm9kZSBpbiBwaXBlbGluZQ0KICAgICAgICAgICAgdHJhaW5fd2l0aF9zYW1wbGVfZGF0YSA9IHNlbGYuX2Jhc2ljX2NvbXBvbmVudF9mdW5jKA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI9Y29tcG9uZW50X2luX251bWJlciwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyXzE9Y29tcG9uZW50X2luX251bWJlcl8xLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbl9wYXRoLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgcmV0dXJuIHRyYWluX3dpdGhfc2FtcGxlX2RhdGEub3V0cHV0cw0KDQogICAgICAgIEBwaXBlbGluZQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kb193aGlsZSgNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI6IElucHV0KHR5cGU9ImludGVnZXIiKSwNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoOiBJbnB1dCh0eXBlPSJ1cmlfZm9sZGVyIiksDQogICAgICAgICk6DQogICAgICAgICAgICAjIERvIHdoaWxlIG5vZGUgd2l0aCBwaXBlbGluZSBjb21wb25lbnQNCiAgICAgICAgICAgIGRvX3doaWxlX2JvZHlfcGlwZWxpbmUgPSBkb193aGlsZV9ib2R5X3BpcGVsaW5lX2NvbXBvbmVudCgNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWNvbXBvbmVudF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcl8xPWNvbXBvbmVudF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2luX3BhdGgsDQogICAgICAgICAgICApDQogICAgICAgICAgICBkb193aGlsZV93aXRoX3BpcGVsaW5lID0gZG9fd2hpbGUoICAjIG5vcWE6IEY4NDENCiAgICAgICAgICAgICAgICBib2R5PWRvX3doaWxlX2JvZHlfcGlwZWxpbmUsDQogICAgICAgICAgICAgICAgY29uZGl0aW9uPWRvX3doaWxlX2JvZHlfcGlwZWxpbmUub3V0cHV0cy5pc19udW1iZXJfbGFyZ2VyX3RoYW5femVybywNCiAgICAgICAgICAgICAgICBtYXBwaW5nPXsNCiAgICAgICAgICAgICAgICAgICAgZG9fd2hpbGVfYm9keV9waXBlbGluZS5vdXRwdXRzLm91dHB1dF9pbl9udW1iZXI6IFsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvX3doaWxlX2JvZHlfcGlwZWxpbmUuaW5wdXRzLmNvbXBvbmVudF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBkb193aGlsZV9ib2R5X3BpcGVsaW5lLmlucHV0cy5jb21wb25lbnRfaW5fbnVtYmVyXzEsDQogICAgICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRfaW5fcGF0aCI6IGRvX3doaWxlX2JvZHlfcGlwZWxpbmUuaW5wdXRzLmNvbXBvbmVudF9pbl9wYXRoLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbWF4X2l0ZXJhdGlvbl9jb3VudD01LA0KICAgICAgICAgICAgKQ0KDQogICAgICAgICAgICBjb21tYW5kX2NvbXBvbmVudCA9IHNlbGYuX2Jhc2ljX2NvbXBvbmVudF9mdW5jKA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI9Y29tcG9uZW50X2luX251bWJlciwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyXzE9Y29tcG9uZW50X2luX251bWJlciwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGRvX3doaWxlX3dpdGhfY29tbWFuZF9jb21wb25lbnQgPSBkb193aGlsZSggICMgbm9xYTogRjg0MQ0KICAgICAgICAgICAgICAgIGJvZHk9Y29tbWFuZF9jb21wb25lbnQsDQogICAgICAgICAgICAgICAgY29uZGl0aW9uPWNvbW1hbmRfY29tcG9uZW50Lm91dHB1dHMuaXNfbnVtYmVyX2xhcmdlcl90aGFuX3plcm8sDQogICAgICAgICAgICAgICAgbWFwcGluZz17DQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRfaW5fbnVtYmVyIjogWw0KICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZF9jb21wb25lbnQuaW5wdXRzLmNvbXBvbmVudF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kX2NvbXBvbmVudC5pbnB1dHMuY29tcG9uZW50X2luX251bWJlcl8xLA0KICAgICAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0X2luX3BhdGgiOiBjb21tYW5kX2NvbXBvbmVudC5pbnB1dHMuY29tcG9uZW50X2luX3BhdGgsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBtYXhfaXRlcmF0aW9uX2NvdW50PTUsDQogICAgICAgICAgICApDQoNCiAgICAgICAgICAgICMgVXNlIHRoZSBvdXRwdXRzIG9mIGRvX3doaWxlIG5vZGUNCiAgICAgICAgICAgIGJhc2ljX2NvbXBvbmVudCA9IGRvX3doaWxlX2JvZHlfcGlwZWxpbmVfY29tcG9uZW50KA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI9ZG9fd2hpbGVfYm9keV9waXBlbGluZS5vdXRwdXRzLm91dHB1dF9pbl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcl8xPWNvbW1hbmRfY29tcG9uZW50Lm91dHB1dHMub3V0cHV0X2luX251bWJlciwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aD1kb193aGlsZV9ib2R5X3BpcGVsaW5lLm91dHB1dHMub3V0cHV0X2luX3BhdGgsDQogICAgICAgICAgICApDQogICAgICAgICAgICByZXR1cm4geyJvdXRwdXRfaW5fcGF0aCI6IGJhc2ljX2NvbXBvbmVudC5vdXRwdXRzLm91dHB1dF9pbl9wYXRofQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IHBpcGVsaW5lX3dpdGhfZG9fd2hpbGUoDQogICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPTIsDQogICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aD1JbnB1dCh0eXBlPSJ1cmlfZm9sZGVyIiwgcGF0aD1zdHIoUGF0aChfX2ZpbGVfXykucGFyZW50KSksDQogICAgICAgICkNCiAgICAgICAgIyBzZXQgcGlwZWxpbmUgbGV2ZWwgY29tcHV0ZQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQoNCkBweXRlc3QubWFyay5za2lwaWYoDQogICAgY29uZGl0aW9uPWlzX2xpdmUoKSwNCiAgICAjIFRPRE86IHJlb3BlbiBsaXZlIHRlc3Qgd2hlbiBwYXJhbGxlbF9mb3IgZGVwbG95ZWQgdG8gY2FuYXJ5DQogICAgcmVhc29uPSJwYXJhbGxlbF9mb3IgaXMgbm90IGF2YWlsYWJsZSBpbiBjYW5hcnkuIiwNCikNCmNsYXNzIFRlc3RQYXJhbGxlbEZvclBpcGVsaW5lKFRlc3RDb250cm9sRmxvd1BpcGVsaW5lKToNCiAgICBkZWYgdGVzdF9zaW1wbGVfZHNsX3BhcmFsbGVsX2Zvcl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCIpDQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBoZWxsb193b3JsZF9jb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9dGVzdF9pbnB1dCkNCiAgICAgICAgICAgIHBhcmFsbGVsX25vZGUgPSBwYXJhbGxlbF9mb3IoDQogICAgICAgICAgICAgICAgYm9keT1wYXJhbGxlbF9ib2R5LA0KICAgICAgICAgICAgICAgIGl0ZW1zPVsNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMX0sDQogICAgICAgICAgICAgICAgICAgIHsiY29tcG9uZW50X2luX251bWJlciI6IDJ9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICApDQogICAgICAgICAgICBhZnRlcl9ub2RlID0gaGVsbG9fd29ybGRfY29tcG9uZW50KA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoPXBhcmFsbGVsX25vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICApDQogICAgICAgICAgICBhZnRlcl9ub2RlLmNvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gcGFyYWxsZWxfZm9yX3BpcGVsaW5lKCkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICB3aXRoIGluY2x1ZGVfcHJpdmF0ZV9wcmV2aWV3X25vZGVzX2luX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBwaXBlbGluZV9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgICAgICBkc2xfcGlwZWxpbmVfam9iX2RpY3QgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAiYWZ0ZXJfbm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJZQU1MLkNPTVBPTkVOVCIsDQogICAgICAgICAgICAgICAgImNvbXB1dGVJZCI6ICJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5qb2JzLnBhcmFsbGVsX25vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJuYW1lIjogImFmdGVyX25vZGUiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwYXJhbGxlbF9ib2R5Ijogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAidXJpX2ZpbGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgInVyaSI6ICJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIsDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJuYW1lIjogInBhcmFsbGVsX2JvZHkiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJwYXJhbGxlbF9ub2RlIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIkRTTCIsDQogICAgICAgICAgICAgICAgImJvZHkiOiAiJHt7cGFyZW50LmpvYnMucGFyYWxsZWxfYm9keX19IiwNCiAgICAgICAgICAgICAgICAiaXRlbXMiOiAnW3siY29tcG9uZW50X2luX251bWJlciI6IDF9LCAnICd7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAyfV0nLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogInBhcmFsbGVsX2ZvciIsDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9kc2xfcGFyYWxsZWxfZm9yX3BpcGVsaW5lX3VucHJvdmlkZWRfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudF9hbHQxLnltbCIpDQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBoZWxsb193b3JsZF9jb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9dGVzdF9pbnB1dCkNCiAgICAgICAgICAgIHBhcmFsbGVsX25vZGUgPSBwYXJhbGxlbF9mb3IoDQogICAgICAgICAgICAgICAgYm9keT1wYXJhbGxlbF9ib2R5LA0KICAgICAgICAgICAgICAgIGl0ZW1zPVsNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMX0sDQogICAgICAgICAgICAgICAgICAgIHsiY29tcG9uZW50X2luX251bWJlciI6IDJ9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICApDQogICAgICAgICAgICBhZnRlcl9ub2RlID0gaGVsbG9fd29ybGRfY29tcG9uZW50KA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoPXBhcmFsbGVsX25vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsIGNvbXBvbmVudF9pbl9udW1iZXI9MQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgYWZ0ZXJfbm9kZS5jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IHBhcmFsbGVsX2Zvcl9waXBlbGluZSgpDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQoNCiAgICAgICAgd2l0aCBpbmNsdWRlX3ByaXZhdGVfcHJldmlld19ub2Rlc19pbl9waXBlbGluZSgpOg0KICAgICAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQogICAgICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpLCAqb21pdF9maWVsZHMpDQogICAgICAgIGFzc2VydCBkc2xfcGlwZWxpbmVfam9iX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdID09IHsNCiAgICAgICAgICAgICJhZnRlcl9ub2RlIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiY29tcHV0ZUlkIjogImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX251bWJlciI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIxIn0sDQogICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuam9icy5wYXJhbGxlbF9ub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAiYWZ0ZXJfbm9kZSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBhcmFsbGVsX2JvZHkiOiB7DQogICAgICAgICAgICAgICAgIl9zb3VyY2UiOiAiWUFNTC5DT01QT05FTlQiLA0KICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZmlsZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAidXJpIjogImh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAicGFyYWxsZWxfYm9keSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBhcmFsbGVsX25vZGUiOiB7DQogICAgICAgICAgICAgICAgIl9zb3VyY2UiOiAiRFNMIiwNCiAgICAgICAgICAgICAgICAiYm9keSI6ICIke3twYXJlbnQuam9icy5wYXJhbGxlbF9ib2R5fX0iLA0KICAgICAgICAgICAgICAgICJpdGVtcyI6ICdbeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMX0sICcgJ3siY29tcG9uZW50X2luX251bWJlciI6IDJ9XScsDQogICAgICAgICAgICAgICAgInR5cGUiOiAicGFyYWxsZWxfZm9yIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X3BhcmFsbGVsX2Zvcl9waXBlbGluZV93aXRoX3N1YmdyYXBoKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnQueW1sIikNCg0KICAgICAgICBAcGlwZWxpbmUNCiAgICAgICAgZGVmIHN1Yl9ncmFwaChjb21wb25lbnRfaW5fbnVtYmVyOiBpbnQgPSAxMCk6DQogICAgICAgICAgICBub2RlID0gaGVsbG9fd29ybGRfY29tcG9uZW50KGNvbXBvbmVudF9pbl9wYXRoPXRlc3RfaW5wdXQsIGNvbXBvbmVudF9pbl9udW1iZXI9Y29tcG9uZW50X2luX251bWJlcikNCiAgICAgICAgICAgIHJldHVybiB7ImNvbXBvbmVudF9vdXRfcGF0aCI6IG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9DQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBzdWJfZ3JhcGgoKQ0KICAgICAgICAgICAgcGFyYWxsZWxfbm9kZSA9IHBhcmFsbGVsX2ZvcigNCiAgICAgICAgICAgICAgICBib2R5PXBhcmFsbGVsX2JvZHksDQogICAgICAgICAgICAgICAgaXRlbXM9Ww0KICAgICAgICAgICAgICAgICAgICB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAxfSwNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMn0sDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGFmdGVyX25vZGUgPSBoZWxsb193b3JsZF9jb21wb25lbnQoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9cGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGFmdGVyX25vZGUuY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQogICAgICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpLCAqb21pdF9maWVsZHMpDQogICAgICAgIGFzc2VydCBkc2xfcGlwZWxpbmVfam9iX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdID09IHsNCiAgICAgICAgICAgICJhZnRlcl9ub2RlIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiY29tcHV0ZUlkIjogImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmpvYnMucGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19IiwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAiYWZ0ZXJfbm9kZSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBhcmFsbGVsX2JvZHkiOiB7Il9zb3VyY2UiOiAiRFNMIiwgIm5hbWUiOiAicGFyYWxsZWxfYm9keSIsICJ0eXBlIjogInBpcGVsaW5lIn0sDQogICAgICAgICAgICAicGFyYWxsZWxfbm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJib2R5IjogIiR7e3BhcmVudC5qb2JzLnBhcmFsbGVsX2JvZHl9fSIsDQogICAgICAgICAgICAgICAgIml0ZW1zIjogJ1t7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAxfSwgJyAneyJjb21wb25lbnRfaW5fbnVtYmVyIjogMn1dJywNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJwYXJhbGxlbF9mb3IiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfcGFyYWxsZWxfZm9yX3BpcGVsaW5lX3N1YmdyYXBoX3VucHJvdmlkZWRfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiKQ0KDQogICAgICAgIEBwaXBlbGluZQ0KICAgICAgICBkZWYgc3ViX2dyYXBoKGNvbXBvbmVudF9pbl9udW1iZXI6IGludCk6DQogICAgICAgICAgICBub2RlID0gaGVsbG9fd29ybGRfY29tcG9uZW50KGNvbXBvbmVudF9pbl9wYXRoPXRlc3RfaW5wdXQsIGNvbXBvbmVudF9pbl9udW1iZXI9Y29tcG9uZW50X2luX251bWJlcikNCiAgICAgICAgICAgIHJldHVybiB7ImNvbXBvbmVudF9vdXRfcGF0aCI6IG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9DQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBzdWJfZ3JhcGgoKQ0KICAgICAgICAgICAgcGFyYWxsZWxfbm9kZSA9IHBhcmFsbGVsX2ZvcigNCiAgICAgICAgICAgICAgICBib2R5PXBhcmFsbGVsX2JvZHksDQogICAgICAgICAgICAgICAgaXRlbXM9Ww0KICAgICAgICAgICAgICAgICAgICB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAxfSwNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMn0sDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGFmdGVyX25vZGUgPSBoZWxsb193b3JsZF9jb21wb25lbnQoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9cGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGFmdGVyX25vZGUuY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQogICAgICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpLCAqb21pdF9maWVsZHMpDQogICAgICAgIGFzc2VydCBkc2xfcGlwZWxpbmVfam9iX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdID09IHsNCiAgICAgICAgICAgICJhZnRlcl9ub2RlIjogew0KICAgICAgICAgICAgICAgICJfc291cmNlIjogIllBTUwuQ09NUE9ORU5UIiwNCiAgICAgICAgICAgICAgICAiY29tcHV0ZUlkIjogImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmpvYnMucGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19IiwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAiYWZ0ZXJfbm9kZSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInBhcmFsbGVsX2JvZHkiOiB7Il9zb3VyY2UiOiAiRFNMIiwgIm5hbWUiOiAicGFyYWxsZWxfYm9keSIsICJ0eXBlIjogInBpcGVsaW5lIn0sDQogICAgICAgICAgICAicGFyYWxsZWxfbm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJib2R5IjogIiR7e3BhcmVudC5qb2JzLnBhcmFsbGVsX2JvZHl9fSIsDQogICAgICAgICAgICAgICAgIml0ZW1zIjogJ1t7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAxfSwgJyAneyJjb21wb25lbnRfaW5fbnVtYmVyIjogMn1dJywNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJwYXJhbGxlbF9mb3IiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfcGFyYWxsZWxfZm9yX3BpcGVsaW5lX3dpdGhfcG9ydF9vdXRwdXRzKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiLA0KICAgICAgICAgICAgcGFyYW1zX292ZXJyaWRlPVsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJ1cmlfZm9sZGVyIn0sDQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF9maWxlIjogeyJ0eXBlIjogInVyaV9maWxlIn0sDQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF90YWJsZSI6IHsidHlwZSI6ICJtbHRhYmxlIn0sDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICApDQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBoZWxsb193b3JsZF9jb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9dGVzdF9pbnB1dCkNCiAgICAgICAgICAgIHBhcmFsbGVsX25vZGUgPSBwYXJhbGxlbF9mb3IoDQogICAgICAgICAgICAgICAgYm9keT1wYXJhbGxlbF9ib2R5LA0KICAgICAgICAgICAgICAgIGl0ZW1zPVsNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogM30sDQogICAgICAgICAgICAgICAgICAgIHsiY29tcG9uZW50X2luX251bWJlciI6IDR9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICApDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X3BhdGgiOiBwYXJhbGxlbF9ub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X2ZpbGUiOiBwYXJhbGxlbF9ub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9maWxlLA0KICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X3RhYmxlIjogcGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfdGFibGUsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gcGFyYWxsZWxfZm9yX3BpcGVsaW5lKCkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICB3aXRoIGluY2x1ZGVfcHJpdmF0ZV9wcmV2aWV3X25vZGVzX2luX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBwaXBlbGluZV9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgICAgICBkc2xfcGlwZWxpbmVfam9iX2RpY3QgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAicGFyYWxsZWxfYm9keSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJZQU1MLkNPTVBPTkVOVCIsDQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogInVyaV9maWxlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ1cmkiOiAiaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiLA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJwYXJhbGxlbF9ib2R5IiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAicGFyYWxsZWxfbm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJib2R5IjogIiR7e3BhcmVudC5qb2JzLnBhcmFsbGVsX2JvZHl9fSIsDQogICAgICAgICAgICAgICAgIml0ZW1zIjogJ1t7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAzfSwgJyAneyJjb21wb25lbnRfaW5fbnVtYmVyIjogNH1dJywNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJwYXJhbGxlbF9mb3IiLA0KICAgICAgICAgICAgICAgICJvdXRwdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF9maWxlIjogeyJ0eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMuY29tcG9uZW50X291dF9maWxlfX0ifSwNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19In0sDQogICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X3RhYmxlIjogeyJ0eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMuY29tcG9uZW50X291dF90YWJsZX19In0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGRzbF9waXBlbGluZV9qb2JfZGljdFsicHJvcGVydGllcyJdWyJvdXRwdXRzIl0gPT0gew0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfZmlsZSI6IHsiam9iX291dHB1dF90eXBlIjogIm1sdGFibGUiLCAibW9kZSI6ICJSZWFkV3JpdGVNb3VudCJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsiam9iX291dHB1dF90eXBlIjogIm1sdGFibGUiLCAibW9kZSI6ICJSZWFkV3JpdGVNb3VudCJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfdGFibGUiOiB7ImpvYl9vdXRwdXRfdHlwZSI6ICJtbHRhYmxlIiwgIm1vZGUiOiAiUmVhZFdyaXRlTW91bnQifSwNCiAgICAgICAgfQ0KDQogICAgICAgICMgcGFyYWxsZWwgZm9yIHBpcGVsaW5lIGNvbXBvbmVudCBpcyBjb3JyZWN0bHkgZ2VuZXJhdGVkDQogICAgICAgIEBwaXBlbGluZQ0KICAgICAgICBkZWYgcGFyZW50X3BpcGVsaW5lKCk6DQogICAgICAgICAgICBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IHBhcmVudF9waXBlbGluZSgpDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQoNCiAgICAgICAgcmVzdF9waXBlbGluZV9jb21wb25lbnQgPSBwaXBlbGluZV9qb2Iuam9ic1sicGFyYWxsZWxfZm9yX3BpcGVsaW5lIl0uY29tcG9uZW50Ll90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQ0KICAgICAgICBhc3NlcnQgcmVzdF9waXBlbGluZV9jb21wb25lbnRbInByb3BlcnRpZXMiXVsiY29tcG9uZW50X3NwZWMiXVsib3V0cHV0cyJdID09IHsNCiAgICAgICAgICAgICJjb21wb25lbnRfb3V0X2ZpbGUiOiB7InR5cGUiOiAibWx0YWJsZSJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJtbHRhYmxlIn0sDQogICAgICAgICAgICAiY29tcG9uZW50X291dF90YWJsZSI6IHsidHlwZSI6ICJtbHRhYmxlIn0sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IHJlc3RfcGlwZWxpbmVfY29tcG9uZW50WyJwcm9wZXJ0aWVzIl1bImNvbXBvbmVudF9zcGVjIl1bImpvYnMiXVsicGFyYWxsZWxfbm9kZSJdID09IHsNCiAgICAgICAgICAgICJib2R5IjogIiR7e3BhcmVudC5qb2JzLnBhcmFsbGVsX2JvZHl9fSIsDQogICAgICAgICAgICAiaXRlbXMiOiAnW3siY29tcG9uZW50X2luX251bWJlciI6IDN9LCB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiA0fV0nLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7DQogICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfZmlsZSI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLmNvbXBvbmVudF9vdXRfZmlsZX19In0sDQogICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19In0sDQogICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfdGFibGUiOiB7InR5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQub3V0cHV0cy5jb21wb25lbnRfb3V0X3RhYmxlfX0ifSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAidHlwZSI6ICJwYXJhbGxlbF9mb3IiLA0KICAgICAgICAgICAgIl9zb3VyY2UiOiAiRFNMIiwNCiAgICAgICAgfQ0KDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQogICAgZGVmIHRlc3RfcGFyYWxsZWxfZm9yX3BpcGVsaW5lX3dpdGhfcHJpbWl0aXZlX291dHB1dHMoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCIsDQogICAgICAgICAgICBwYXJhbXNfb3ZlcnJpZGU9Ww0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIm91dHB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF9wYXRoIjogeyJ0eXBlIjogInVyaV9mb2xkZXIifSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X251bWJlciI6IHsidHlwZSI6ICJudW1iZXIifSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X2Jvb2xlYW4iOiB7InR5cGUiOiAiYm9vbGVhbiIsICJpc19jb250cm9sIjogVHJ1ZX0sDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICApDQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBoZWxsb193b3JsZF9jb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9dGVzdF9pbnB1dCkNCiAgICAgICAgICAgIHBhcmFsbGVsX25vZGUgPSBwYXJhbGxlbF9mb3IoDQogICAgICAgICAgICAgICAgYm9keT1wYXJhbGxlbF9ib2R5LA0KICAgICAgICAgICAgICAgIGl0ZW1zPVsNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMX0sDQogICAgICAgICAgICAgICAgICAgIHsiY29tcG9uZW50X2luX251bWJlciI6IDJ9LA0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICApDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X3BhdGgiOiBwYXJhbGxlbF9ub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgICAgICJjb21wb25lbnRfb3V0X251bWJlciI6IHBhcmFsbGVsX25vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X251bWJlciwNCiAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF9ib29sZWFuIjogcGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfYm9vbGVhbiwNCiAgICAgICAgICAgIH0NCg0KICAgICAgICBAcGlwZWxpbmUNCiAgICAgICAgZGVmIHBhcmVudF9waXBlbGluZSgpOg0KICAgICAgICAgICAgcGFyYWxsZWxfZm9yX3BpcGVsaW5lKCkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwYXJlbnRfcGlwZWxpbmUoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIHJlc3RfcGlwZWxpbmVfY29tcG9uZW50ID0gcGlwZWxpbmVfam9iLmpvYnNbInBhcmFsbGVsX2Zvcl9waXBlbGluZSJdLmNvbXBvbmVudC5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgYXNzZXJ0IHJlc3RfcGlwZWxpbmVfY29tcG9uZW50WyJwcm9wZXJ0aWVzIl1bImNvbXBvbmVudF9zcGVjIl1bIm91dHB1dHMiXSA9PSB7DQogICAgICAgICAgICAiY29tcG9uZW50X291dF9ib29sZWFuIjogeyJ0eXBlIjogInN0cmluZyJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfbnVtYmVyIjogeyJ0eXBlIjogInN0cmluZyJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJtbHRhYmxlIn0sDQogICAgICAgIH0NCg0KICAgICAgICBhc3NlcnQgcmVzdF9waXBlbGluZV9jb21wb25lbnRbInByb3BlcnRpZXMiXVsiY29tcG9uZW50X3NwZWMiXVsiam9icyJdWyJwYXJhbGxlbF9ub2RlIl0gPT0gew0KICAgICAgICAgICAgImJvZHkiOiAiJHt7cGFyZW50LmpvYnMucGFyYWxsZWxfYm9keX19IiwNCiAgICAgICAgICAgICJpdGVtcyI6ICdbeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMX0sIHsiY29tcG9uZW50X2luX251bWJlciI6IDJ9XScsDQogICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF9ib29sZWFuIjogeyJ0eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMuY29tcG9uZW50X291dF9ib29sZWFufX0ifSwNCiAgICAgICAgICAgICAgICAiY29tcG9uZW50X291dF9udW1iZXIiOiB7InR5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQub3V0cHV0cy5jb21wb25lbnRfb3V0X251bWJlcn19In0sDQogICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19In0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInR5cGUiOiAicGFyYWxsZWxfZm9yIiwNCiAgICAgICAgICAgICJfc291cmNlIjogIkRTTCIsDQogICAgICAgIH0NCg0KICAgICAgICAjIHBhcmFsbGVsIGZvciBwaXBlbGluZSBjb21wb25lbnQgaXMgY29ycmVjdGx5IGdlbmVyYXRlZA0KICAgICAgICB3aXRoIGluY2x1ZGVfcHJpdmF0ZV9wcmV2aWV3X25vZGVzX2luX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgIGRlZiB0ZXN0X3BhcmFsbGVsX2Zvcl9waXBlbGluZV93aXRoX2VtcHR5X2lucHV0cyhzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoDQogICAgICAgICAgICBzb3VyY2U9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnRfbm9faW5wdXRzLnltbCIsDQogICAgICAgICkNCg0KICAgICAgICBAcGlwZWxpbmUNCiAgICAgICAgZGVmIHBhcmFsbGVsX2Zvcl9waXBlbGluZSgpOg0KICAgICAgICAgICAgcGFyYWxsZWxfYm9keSA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudCgpDQogICAgICAgICAgICBmb3JlYWNoX2NvbmZpZyA9IHt9DQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgxMCk6DQogICAgICAgICAgICAgICAgZm9yZWFjaF9jb25maWdbZiJzaWxvX3tpfSJdID0ge30NCiAgICAgICAgICAgIHBhcmFsbGVsX25vZGUgPSBwYXJhbGxlbF9mb3IoYm9keT1wYXJhbGxlbF9ib2R5LCBpdGVtcz1mb3JlYWNoX2NvbmZpZykNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHBhcmFsbGVsX25vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gcGFyYWxsZWxfZm9yX3BpcGVsaW5lKCkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICB3aXRoIGluY2x1ZGVfcHJpdmF0ZV9wcmV2aWV3X25vZGVzX2luX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgICAgICBkc2xfcGlwZWxpbmVfam9iX2RpY3QgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgZHNsX3BpcGVsaW5lX2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXSA9PSB7DQogICAgICAgICAgICAicGFyYWxsZWxfYm9keSI6IHsiX3NvdXJjZSI6ICJZQU1MLkNPTVBPTkVOVCIsICJuYW1lIjogInBhcmFsbGVsX2JvZHkiLCAidHlwZSI6ICJjb21tYW5kIn0sDQogICAgICAgICAgICAicGFyYWxsZWxfbm9kZSI6IHsNCiAgICAgICAgICAgICAgICAiX3NvdXJjZSI6ICJEU0wiLA0KICAgICAgICAgICAgICAgICJib2R5IjogIiR7e3BhcmVudC5qb2JzLnBhcmFsbGVsX2JvZHl9fSIsDQogICAgICAgICAgICAgICAgIml0ZW1zIjogJ3sic2lsb18wIjoge30sICJzaWxvXzEiOiB7fSwgInNpbG9fMiI6IHt9LCAnDQogICAgICAgICAgICAgICAgJyJzaWxvXzMiOiB7fSwgInNpbG9fNCI6IHt9LCAic2lsb181Ijoge30sICcNCiAgICAgICAgICAgICAgICAnInNpbG9fNiI6IHt9LCAic2lsb183Ijoge30sICJzaWxvXzgiOiB7fSwgJw0KICAgICAgICAgICAgICAgICcic2lsb185Ijoge319JywNCiAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19In0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJ0eXBlIjogInBhcmFsbGVsX2ZvciIsDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9wYXJhbGxlbF9mb3JfcGlwZWxpbmVfd2l0aF9hc3NldF9pdGVtcyhzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCIpDQoNCiAgICAgICAgQHBpcGVsaW5lDQogICAgICAgIGRlZiBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2JvZHkgPSBoZWxsb193b3JsZF9jb21wb25lbnQoKQ0KICAgICAgICAgICAgcGFyYWxsZWxfbm9kZSA9IHBhcmFsbGVsX2ZvcigNCiAgICAgICAgICAgICAgICBib2R5PXBhcmFsbGVsX2JvZHksDQogICAgICAgICAgICAgICAgaXRlbXM9Ww0KICAgICAgICAgICAgICAgICAgICB7ImNvbXBvbmVudF9pbl9udW1iZXIiOiAxLCAiY29tcG9uZW50X2luX3BhdGgiOiB0ZXN0X2lucHV0fSwNCiAgICAgICAgICAgICAgICAgICAgeyJjb21wb25lbnRfaW5fbnVtYmVyIjogMiwgImNvbXBvbmVudF9pbl9wYXRoIjogdGVzdF9pbnB1dH0sDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGFmdGVyX25vZGUgPSBoZWxsb193b3JsZF9jb21wb25lbnQoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9cGFyYWxsZWxfbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwYXJhbGxlbF9mb3JfcGlwZWxpbmUoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIHdpdGggaW5jbHVkZV9wcml2YXRlX3ByZXZpZXdfbm9kZXNfaW5fcGlwZWxpbmUoKToNCiAgICAgICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQogICAgICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpLCAqb21pdF9maWVsZHMpDQogICAgICAgIGFzc2VydCBkc2xfcGlwZWxpbmVfam9iX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdWyJwYXJhbGxlbF9ub2RlIl0gPT0gew0KICAgICAgICAgICAgImJvZHkiOiAiJHt7cGFyZW50LmpvYnMucGFyYWxsZWxfYm9keX19IiwNCiAgICAgICAgICAgICJpdGVtcyI6ICdbeyJjb21wb25lbnRfaW5fcGF0aCI6IHsidXJpIjogJw0KICAgICAgICAgICAgJyJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIsICcNCiAgICAgICAgICAgICciam9iX2lucHV0X3R5cGUiOiAidXJpX2ZpbGUifSwgJw0KICAgICAgICAgICAgJyJjb21wb25lbnRfaW5fbnVtYmVyIjogMX0sIHsiY29tcG9uZW50X2luX3BhdGgiOiAnDQogICAgICAgICAgICAneyJ1cmkiOiAnDQogICAgICAgICAgICAnImh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiwgJw0KICAgICAgICAgICAgJyJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZmlsZSJ9LCAnDQogICAgICAgICAgICAnImNvbXBvbmVudF9pbl9udW1iZXIiOiAyfV0nLA0KICAgICAgICAgICAgInR5cGUiOiAicGFyYWxsZWxfZm9yIiwNCiAgICAgICAgICAgICJfc291cmNlIjogIkRTTCIsDQogICAgICAgIH0NCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "eBc1OlQJYEK71KYfOY1ixA==",
        "Date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "ETag": "\"0x8DD6610442B7483\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "Dgv87Lk3Yhc=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/__init__.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": null,
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "1B2M2Y8AsgTpgAmY7PhCfg==",
        "Date": "Tue, 18 Mar 2025 11:30:20 GMT",
        "ETag": "\"0x8DD66104438D30F\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "AAAAAAAAAAA=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_dsl_fl.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "10689",
        "Content-MD5": "inmxw/YWaah2Xwl6ksU/EQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "aW1wb3J0IHB5dGVzdA0KZnJvbSBwYXRobGliIGltcG9ydCBQYXRoDQpmcm9tIGRldnRvb2xzX3Rlc3R1dGlscyBpbXBvcnQgQXp1cmVSZWNvcmRlZFRlc3RDYXNlLCBpc19saXZlDQpmcm9tIGF6dXJlLmNvcmUuZXhjZXB0aW9ucyBpbXBvcnQgUmVzb3VyY2VOb3RGb3VuZEVycm9yDQpmcm9tIC4uX3V0aWwgaW1wb3J0IF9EU0xfVElNRU9VVF9TRUNPTkQNCmZyb20gdGVzdF91dGlsaXRpZXMudXRpbHMgaW1wb3J0IF9QWVRFU1RfVElNRU9VVF9NRVRIT0QNCmZyb20gYXp1cmUuYWkubWwgaW1wb3J0IElucHV0LCBsb2FkX2NvbXBvbmVudA0KZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlDQpmcm9tIGF6dXJlLmFpLm1sLmRzbC5fZmxfc2NhdHRlcl9nYXRoZXJfbm9kZSBpbXBvcnQgZmxfc2NhdHRlcl9nYXRoZXINCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2Fzc2V0cy5mZWRlcmF0ZWRfbGVhcm5pbmdfc2lsbyBpbXBvcnQgRmVkZXJhdGVkTGVhcm5pbmdTaWxvDQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cyBpbXBvcnQgQXNzZXRUeXBlcw0KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fY3JlZGVudGlhbHMgaW1wb3J0ICgNCiAgICBJZGVudGl0eUNvbmZpZ3VyYXRpb24sDQogICAgSWRlbnRpdHlDb25maWd1cmF0aW9uVHlwZSwNCiAgICBNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLA0KKQ0KZnJvbSBhenVyZS5haS5tbC5kc2wgaW1wb3J0IHBpcGVsaW5lDQppbXBvcnQgb3MNCmZyb20gYXp1cmUuYWkubWwgaW1wb3J0ICgNCiAgICBNTENsaWVudCwNCikNCg0KDQojIFJFU09VUkNFIE5PVEVTIC0gQXMgYW4gZTJlIHRlc3QgZmlsZSwgdGhpcyBmaWxlIG1ha2VzIGFuZCByZWZlcmVuY2VzIHJlYWwgQU1MIHJlc291cmNlcy4NCiMgQWxsIHJlc291cmNlcyByZWZlcmVuY2VzIGJ5IHRoaXMgZmlsZSBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGUgZm9sbG93aW5nOg0KIyBzdWJzY3JpcHRpb246IGRhdGEgc2NpZW5jZSBWTSBUZWFtIChEU1ZNKQ0KIyByZXNvdXJjZSBncm91cDogZmwtZTJlLXRlc3RpbmctcmcNCiMgd29ya3NwYWNlOiBmbC1lMmUtdGVzdGluZy13cw0KIyBJZiB5b3UncmUgcnVubmluZyB0aGlzIHRlc3QgbG9jYWxseSBpbiBsaXZlIG1vZGUsIG1ha2Ugc3VyZSB5b3UndmUgc2V0IHRoZSBhYm92ZSB2YWx1ZXMgaW4NCiMgeW91ciAuZW52IGZpbGUuDQojIHJlc291cmNlcyBvZiBub3RlOg0KIyAtIG11bHRpcGxlIHN0b3JhZ2UgY29udGFpbmVycw0KIyAtIG11bHRpcGxlIGNvbXB1dGVzIHdpdGggdmFyeWluZyBtYW5hZ2VkIGlkZW50aXRpZXMgdG8gYWxsb3cgYWNjZXNzIHRvIGRpZmZlcmVudCBzdG9yYWdlIGNvbnRhaW5lcnMNCkBweXRlc3QubWFyay50aW1lb3V0KHRpbWVvdXQ9X0RTTF9USU1FT1VUX1NFQ09ORCwgbWV0aG9kPV9QWVRFU1RfVElNRU9VVF9NRVRIT0QpDQpAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KQHB5dGVzdC5tYXJrLmNvcmVfc2RrX3Rlc3QNCmNsYXNzIFRlc3REU0xQaXBlbGluZShBenVyZVJlY29yZGVkVGVzdENhc2UpOg0KICAgICMgREVWIE5PVEU6IFRoaXMgdGVzdCBleHBlY3RzIGEgbG90IG9mIHJlc291cmNlcyB0byBhbHJlYWR5IGV4aXN0IGluIEFNTC4gVGhlIGluaXRpYWwgaW1wbGVtZW50YXRpb24NCiAgICAjIG9mIHRoaXMgdGVzdCBpbXBsZW1lbnRlZCBhbGwgb2YgdGhlc2UgdGhpZ25zIHVuZGVyIHRoZSAnZmwtZTJlLXRlc3RpbmctcmcnIHJlc291cmNlIGdyb3VwIGFuZA0KICAgICMgdGhlICdmbC1lMmUtdGVzdGluZy13cycgd29ya3NwYWNlIGluc2lkZSB0aGF0IFJHLg0KICAgICMgVGhlIG5lZWRlZCByZXNvdXJjZXMgYXJlOg0KICAgICMgLSBJbiB0aGUgd29ya3NwYWNlJ3Mgc3RvcmFnZSBhY2NvdW50LCAzIGNvbnRhaW5lcnMgbmFtZWQgJ3NpbG8tY29udGFpbmVyMScsICdzaWxvLWNvbnRhaW5lcjIzJywNCiAgICAjICAgICAgIGFuZCAnYWdnLWNvbnRhaW5lcicuIEVhY2ggY29udGFpbmVyIG5lZWRzIHRvIGhhdmUgYXNzaWduZWQgdGhlIGJsb2Igb3duZXIgcGVybWlzc2lvbg0KICAgICMgICAgICAgdG8gdGhlICd0ZXN0LW1zaS1pZCcgbWFuYWdlZCBpZGVudGl0eQ0KICAgICMgLSA0IGNvbXB1dGUgY2x1c3RlcnMgaW4gdGhlIHdvcmtzcGFjZSBuYW1lZCBzaWxvQ29tcHV0ZTEvMi8zIGFuZCBhZ2dDb21wdXRlLiBFYWNoIG9mIHdoaWNoDQogICAgIyAgICAgICBoYXMgYmVlbiBhc3NpZ25lZCB0aGUgJ3Rlc3QtbXNpLWlkJyBJRA0KICAgICMgLSA0IGRhdGFzdG9yZXMgY29ubmVjdGVkIHRvIHRoZSBhZm9yZW1lbnRpb25lZCBzdG9yYWdlIGNvbnRhaW5lcnMgbmFtZWQgc2lsb19kYXRhc3RvcmUxLzIvMyBhbmQNCiAgICAjICAgICAgIGFnZ19kYXRhc3RvcmUuDQogICAgQHB5dGVzdC5tYXJrLnNraXBpZigNCiAgICAgICAgY29uZGl0aW9uPW5vdCBpc19saXZlKCksDQogICAgICAgIHJlYXNvbj0oDQogICAgICAgICAgICAiVE9ETyAoMjIzNTAzNCkgVGhlIGNyaXRpY2FsIGNhbGwgdG8gYGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGVgIHNlZW1zIHRvIG1ha2UgZGlmZmVyZW50Ig0KICAgICAgICAgICAgKyAiQVBJIGNhbGxzIGluIHBsYXliYWNrIG1vZGUgY29tcGFyZWQgdG8gcmVjb3JkaW5nIG1vZGUiDQogICAgICAgICksDQogICAgKQ0KICAgIGRlZiB0ZXN0X2ZsX3BpcGVsaW5lKA0KICAgICAgICBzZWxmLA0KICAgICAgICBjbGllbnQ6IE1MQ2xpZW50LA0KICAgICAgICBmZWRlcmF0ZWRfbGVhcm5pbmdfY29tcG9uZW50c19mb2xkZXI6IFBhdGgsDQogICAgICAgIGZlZGVyYXRlZF9sZWFybmluZ19sb2NhbF9kYXRhX2ZvbGRlcjogUGF0aCwNCiAgICApIC0+IE5vbmU6DQogICAgICAgIGlkID0gSWRlbnRpdHlDb25maWd1cmF0aW9uKA0KICAgICAgICAgICAgdHlwZT1JZGVudGl0eUNvbmZpZ3VyYXRpb25UeXBlLk1BTkFHRUQsDQogICAgICAgICAgICB1c2VyX2Fzc2lnbmVkX2lkZW50aXRpZXM9W01hbmFnZWRJZGVudGl0eUNvbmZpZ3VyYXRpb24oY2xpZW50X2lkPSIzYWRmZjc0Mi0wMTQyLTQ1YTYtODE0Mi0zZDk0Zjk0NGNhZmIiKV0sDQogICAgICAgICkNCg0KICAgICAgICAjIFRvIHN1cHBvcnQgZHNsIHBpcGVsaW5lIGt3YXJncw0KICAgICAgICBvcy5lbnZpcm9uWyJBWlVSRV9NTF9DTElfUFJJVkFURV9GRUFUVVJFU19FTkFCTEVEIl0gPSAiVHJ1ZSINCiAgICAgICAgY29tcHV0ZV9uYW1lcyA9IFsNCiAgICAgICAgICAgICJzaWxvQ29tcHV0ZTEiLA0KICAgICAgICAgICAgInNpbG9Db21wdXRlMiIsDQogICAgICAgICAgICAic2lsb0NvbXB1dGUzIiwNCiAgICAgICAgICAgICJhZ2dDb21wdXRlIiwNCiAgICAgICAgXQ0KICAgICAgICBjb21wdXRlcyA9IFtdDQogICAgICAgIGZvciBuYW1lIGluIGNvbXB1dGVfbmFtZXM6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgZXh0YW50X2NvbXB1dGUgPSBjbGllbnQuY29tcHV0ZS5nZXQobmFtZSkNCiAgICAgICAgICAgICAgICBwcmludChmIkZvdW5kIGV4aXN0aW5nIGNvbXB1dGUgJ3tuYW1lfScsIHVzaW5nIHRoYXQgaW5zdGVhZCBvZiBjcmVhdGluZyBpdC4iKQ0KICAgICAgICAgICAgICAgIGNvbXB1dGVzLmFwcGVuZChleHRhbnRfY29tcHV0ZSkNCiAgICAgICAgICAgIGV4Y2VwdCBSZXNvdXJjZU5vdEZvdW5kRXJyb3IgYXMgZToNCiAgICAgICAgICAgICAgICByYWlzZSAoZSkNCg0KICAgICAgICBkYXRhc3RvcmVfbmFtZXMgPSBbDQogICAgICAgICAgICAic2lsb19kYXRhc3RvcmUxIiwNCiAgICAgICAgICAgICJzaWxvX2RhdGFzdG9yZTIiLA0KICAgICAgICAgICAgInNpbG9fZGF0YXN0b3JlMyIsDQogICAgICAgICAgICAiYWdnX2RhdGFzdG9yZSIsDQogICAgICAgIF0NCg0KICAgICAgICBkYXRhc3RvcmVzID0gW10NCiAgICAgICAgZm9yIGRhdGFzdG9yZV9uYW1lIGluIGRhdGFzdG9yZV9uYW1lczoNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBleHRhbnRfZHMgPSBjbGllbnQuZGF0YXN0b3Jlcy5nZXQoZGF0YXN0b3JlX25hbWUpDQogICAgICAgICAgICAgICAgcHJpbnQoZiJGb3VuZCBleGlzdGluZyBkYXRhc3RvcmUgJ3tkYXRhc3RvcmVfbmFtZX0nLCB1c2luZyB0aGF0IGluc3RlYWQgb2YgY3JlYXRpbmcgaXQuIikNCiAgICAgICAgICAgICAgICBkYXRhc3RvcmVzLmFwcGVuZChleHRhbnRfZHMpDQogICAgICAgICAgICBleGNlcHQgUmVzb3VyY2VOb3RGb3VuZEVycm9yIGFzIGU6DQogICAgICAgICAgICAgICAgcmFpc2UgKGUpDQoNCiAgICAgICAgIyBMb2FkIGNvbXBvbmVudHMgZnJvbSBsb2NhbCBjb25maWdzDQogICAgICAgIHByZXByb2Nlc3NpbmdfY29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoDQogICAgICAgICAgICBzb3VyY2U9b3MucGF0aC5qb2luKGZlZGVyYXRlZF9sZWFybmluZ19jb21wb25lbnRzX2ZvbGRlciwgInByZXByb2Nlc3NpbmciLCAic3BlYy55YW1sIikNCiAgICAgICAgKQ0KDQogICAgICAgIHRyYWluaW5nX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPW9zLnBhdGguam9pbihmZWRlcmF0ZWRfbGVhcm5pbmdfY29tcG9uZW50c19mb2xkZXIsICJ0cmFpbmluZyIsICJzcGVjLnlhbWwiKQ0KICAgICAgICApDQoNCiAgICAgICAgYWdncmVnYXRlX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPW9zLnBhdGguam9pbihmZWRlcmF0ZWRfbGVhcm5pbmdfY29tcG9uZW50c19mb2xkZXIsICJhZ2dyZWdhdGUiLCAic3BlYy55YW1sIikNCiAgICAgICAgKQ0KDQogICAgICAgICMgVXNlIGEgbmVzdGVkIHBpcGVsaW5lIGZvciB0aGUgc2lsbyBzdGVwDQogICAgICAgIEBwaXBlbGluZQ0KICAgICAgICBkZWYgc2lsb19zdGVwX2Z1bmMoDQogICAgICAgICAgICByYXdfdHJhaW5fZGF0YTogSW5wdXQsDQogICAgICAgICAgICByYXdfdGVzdF9kYXRhOiBJbnB1dCwNCiAgICAgICAgICAgIGNoZWNrcG9pbnQ6IElucHV0KG9wdGlvbmFsPVRydWUpLA0KICAgICAgICAgICAgbHI6IGZsb2F0ID0gMC4wMSwNCiAgICAgICAgICAgIGJhdGNoX3NpemU6IGludCA9IDY0LA0KICAgICAgICAgICAgaXRlcmF0aW9uX251bTogaW50ID0gMCwNCiAgICAgICAgICAgIGVwb2NoczogaW50ID0gMywNCiAgICAgICAgKToNCiAgICAgICAgICAgICMgUHJlcHJvY2VzcyBkYXRhDQogICAgICAgICAgICBzaWxvX3ByZV9wcm9jZXNzaW5nX3N0ZXAgPSBwcmVwcm9jZXNzaW5nX2NvbXBvbmVudCgNCiAgICAgICAgICAgICAgICByYXdfdHJhaW5pbmdfZGF0YT1yYXdfdHJhaW5fZGF0YSwNCiAgICAgICAgICAgICAgICByYXdfdGVzdGluZ19kYXRhPXJhd190ZXN0X2RhdGEsDQogICAgICAgICAgICAgICAgIyByYXdfZXZhbHVhdGlvbl9kYXRhPXJhd19ldmFsX2RhdGEsDQogICAgICAgICAgICAgICAgIyBoZXJlIHdlJ3JlIHVzaW5nIHRoZSBuYW1lIG9mIHRoZSBzaWxvIGNvbXB1dGUgYXMgYSBtZXRyaWNzIHByZWZpeA0KICAgICAgICAgICAgICAgIG1ldHJpY3NfcHJlZml4PSIiLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgICAgICAjIFJ1biB0cmFpbmluZw0KICAgICAgICAgICAgc2lsb190cmFpbmluZ19zdGVwID0gdHJhaW5pbmdfY29tcG9uZW50KA0KICAgICAgICAgICAgICAgIHRyYWluX2RhdGE9c2lsb19wcmVfcHJvY2Vzc2luZ19zdGVwLm91dHB1dHMucHJvY2Vzc2VkX3RyYWluX2RhdGEsDQogICAgICAgICAgICAgICAgdGVzdF9kYXRhPXNpbG9fcHJlX3Byb2Nlc3Npbmdfc3RlcC5vdXRwdXRzLnByb2Nlc3NlZF90ZXN0X2RhdGEsDQogICAgICAgICAgICAgICAgY2hlY2twb2ludD1jaGVja3BvaW50LA0KICAgICAgICAgICAgICAgIGxyPWxyLA0KICAgICAgICAgICAgICAgIGVwb2Nocz1lcG9jaHMsDQogICAgICAgICAgICAgICAgYmF0Y2hfc2l6ZT1iYXRjaF9zaXplLA0KICAgICAgICAgICAgICAgIG1ldHJpY3NfcHJlZml4PSIiLA0KICAgICAgICAgICAgICAgIGl0ZXJhdGlvbl9udW09aXRlcmF0aW9uX251bSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgICMgcmV0dXJuIHRyYWluaW5nIHJlc3VsdHMNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgIm1vZGVsIjogc2lsb190cmFpbmluZ19zdGVwLm91dHB1dHMubW9kZWwsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgIyBVc2UgYSBjb21wb25lbnQgZGlyZWN0bHkgZm9yIHRoZSBhZ2cgc3RlcA0KICAgICAgICBhZ2dyZWdhdGlvbl9zdGVwID0gYWdncmVnYXRlX2NvbXBvbmVudA0KDQogICAgICAgIHNpbG9fY29uZmlncyA9IFsNCiAgICAgICAgICAgIEZlZGVyYXRlZExlYXJuaW5nU2lsbygNCiAgICAgICAgICAgICAgICBjb21wdXRlPWNvbXB1dGVzWzBdLm5hbWUsDQogICAgICAgICAgICAgICAgZGF0YXN0b3JlPWRhdGFzdG9yZXNbMF0ubmFtZSwNCiAgICAgICAgICAgICAgICBpbnB1dHM9ew0KICAgICAgICAgICAgICAgICAgICAicmF3X3RyYWluX2RhdGEiOiBJbnB1dCgNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5VUklfRklMRSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU9ImRpcmVjdCIsDQogICAgICAgICAgICAgICAgICAgICAgICBwYXRoPW9zLnBhdGguam9pbihmZWRlcmF0ZWRfbGVhcm5pbmdfbG9jYWxfZGF0YV9mb2xkZXIsICJzaWxvMV9pbnB1dDEudHh0IiksDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhc3RvcmU9ZGF0YXN0b3Jlc1swXS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICAicmF3X3Rlc3RfZGF0YSI6IElucHV0KA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GSUxFLA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT0iZGlyZWN0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg9b3MucGF0aC5qb2luKGZlZGVyYXRlZF9sZWFybmluZ19sb2NhbF9kYXRhX2ZvbGRlciwgInNpbG8xX2lucHV0Mi50eHQiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzdG9yZT1kYXRhc3RvcmVzWzBdLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBGZWRlcmF0ZWRMZWFybmluZ1NpbG8oDQogICAgICAgICAgICAgICAgY29tcHV0ZT1jb21wdXRlc1sxXS5uYW1lLA0KICAgICAgICAgICAgICAgIGRhdGFzdG9yZT1kYXRhc3RvcmVzWzFdLm5hbWUsDQogICAgICAgICAgICAgICAgaW5wdXRzPXsNCiAgICAgICAgICAgICAgICAgICAgInJhd190cmFpbl9kYXRhIjogSW5wdXQoDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuVVJJX0ZJTEUsDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlPSJtb3VudCIsDQogICAgICAgICAgICAgICAgICAgICAgICBwYXRoPW9zLnBhdGguam9pbihmZWRlcmF0ZWRfbGVhcm5pbmdfbG9jYWxfZGF0YV9mb2xkZXIsICJzaWxvMl9pbnB1dDEudHh0IiksDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhc3RvcmU9ZGF0YXN0b3Jlc1sxXS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICAicmF3X3Rlc3RfZGF0YSI6IElucHV0KA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GSUxFLA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT0iZGlyZWN0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg9b3MucGF0aC5qb2luKGZlZGVyYXRlZF9sZWFybmluZ19sb2NhbF9kYXRhX2ZvbGRlciwgInNpbG8yX2lucHV0Mi50eHQiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzdG9yZT1kYXRhc3RvcmVzWzFdLm5hbWUsDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBGZWRlcmF0ZWRMZWFybmluZ1NpbG8oDQogICAgICAgICAgICAgICAgY29tcHV0ZT1jb21wdXRlc1syXS5uYW1lLA0KICAgICAgICAgICAgICAgIGRhdGFzdG9yZT1kYXRhc3RvcmVzWzJdLm5hbWUsDQogICAgICAgICAgICAgICAgaW5wdXRzPXsNCiAgICAgICAgICAgICAgICAgICAgInJhd190cmFpbl9kYXRhIjogSW5wdXQoDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuVVJJX0ZJTEUsDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlPSJtb3VudCIsDQogICAgICAgICAgICAgICAgICAgICAgICBwYXRoPW9zLnBhdGguam9pbihmZWRlcmF0ZWRfbGVhcm5pbmdfbG9jYWxfZGF0YV9mb2xkZXIsICJzaWxvM19pbnB1dDEudHh0IiksDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhc3RvcmU9ZGF0YXN0b3Jlc1syXS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICAicmF3X3Rlc3RfZGF0YSI6IElucHV0KA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GSUxFLA0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kZT0ibW91bnQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgcGF0aD1vcy5wYXRoLmpvaW4oZmVkZXJhdGVkX2xlYXJuaW5nX2xvY2FsX2RhdGFfZm9sZGVyLCAic2lsbzNfaW5wdXQyLnR4dCIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGF0YXN0b3JlPWRhdGFzdG9yZXNbMl0ubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgKSwNCiAgICAgICAgXQ0KDQogICAgICAgIHNpbG9fdG9fYWdncmVnYXRpb25fYXJndW1lbnRfbWFwID0geyJtb2RlbCI6ICJzaWxvX2lucHV0cyJ9DQogICAgICAgIGFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwID0geyJhZ2dyZWdhdGVkX291dHB1dCI6ICJjaGVja3BvaW50In0NCg0KICAgICAgICAjIE90aGVyIGFyZ3MNCiAgICAgICAgaXRlcmF0aW9ucyA9IDMNCiAgICAgICAgc2lsb19rd2FyZ3MgPSB7fQ0KICAgICAgICBhZ2dfa3dhcmdzID0ge30NCiAgICAgICAgYWdncmVnYXRpb25fY29tcHV0ZSA9IGNvbXB1dGVzWzNdLm5hbWUNCiAgICAgICAgYWdncmVnYXRpb25fZGF0YXN0b3JlID0gZGF0YXN0b3Jlc1szXS5uYW1lDQoNCiAgICAgICAgIyBEZWZpbmUgdGhlIGZsIHBpcGVsaW5lDQogICAgICAgIGZsX25vZGUgPSBmbF9zY2F0dGVyX2dhdGhlcigNCiAgICAgICAgICAgIHNpbG9fY29uZmlncz1zaWxvX2NvbmZpZ3MsDQogICAgICAgICAgICBzaWxvX2NvbXBvbmVudD1zaWxvX3N0ZXBfZnVuYywNCiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX2NvbXBvbmVudD1hZ2dyZWdhdGlvbl9zdGVwLA0KICAgICAgICAgICAgYWdncmVnYXRpb25fY29tcHV0ZT1hZ2dyZWdhdGlvbl9jb21wdXRlLA0KICAgICAgICAgICAgYWdncmVnYXRpb25fZGF0YXN0b3JlPWFnZ3JlZ2F0aW9uX2RhdGFzdG9yZSwNCiAgICAgICAgICAgIHNoYXJlZF9zaWxvX2t3YXJncz1zaWxvX2t3YXJncywNCiAgICAgICAgICAgIGFnZ3JlZ2F0aW9uX2t3YXJncz1hZ2dfa3dhcmdzLA0KICAgICAgICAgICAgc2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXA9c2lsb190b19hZ2dyZWdhdGlvbl9hcmd1bWVudF9tYXAsDQogICAgICAgICAgICBhZ2dyZWdhdGlvbl90b19zaWxvX2FyZ3VtZW50X21hcD1hZ2dyZWdhdGlvbl90b19zaWxvX2FyZ3VtZW50X21hcCwNCiAgICAgICAgICAgIG1heF9pdGVyYXRpb25zPWl0ZXJhdGlvbnMsDQogICAgICAgICkNCg0KICAgICAgICAjIGNyZWF0ZSBhbmQgc3VibWl0IHRoZSBwaXBlbGluZSBqb2INCiAgICAgICAgc3VibWl0dGVkX3BpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUoDQogICAgICAgICAgICBmbF9ub2RlLnNjYXR0ZXJfZ2F0aGVyX2dyYXBoLCBleHBlcmltZW50X25hbWU9ImV4YW1wbGVfZmxfcGlwZWxpbmUiDQogICAgICAgICkNCiAgICAgICAgcHJpbnQoIlN1Ym1pdHRlZCBwaXBlbGluZSBqb2I6IHt9Ii5mb3JtYXQoc3VibWl0dGVkX3BpcGVsaW5lX2pvYi5pZCkpDQogICAgICAgIHN1YmdyYXBoID0gc3VibWl0dGVkX3BpcGVsaW5lX2pvYi5jb21wb25lbnQuam9icw0KDQogICAgICAgICMgVW5mb3J0dW5hdGVseSBleGVjdXRlZCBwaXBlbGluZXMgZG9uJ3QgcmV0dXJuIGludGVyaW9yIHZhbHVlcyBvZiBzdWItcGlwZWxpbmVzLA0KICAgICAgICAjIHNvIHdlIGNhbid0IGluc3BlY3QgaW50ZXJuYWwgZGF0YXN0b3JlcyBvciBjb21wdXRlcyBpbiBzaWxvIHN0ZXBzDQogICAgICAgIGFzc2VydCAic2NhdHRlcl9nYXRoZXJfYm9keSIgaW4gc3ViZ3JhcGgNCiAgICAgICAgc2NhdHRlcl9nYXRoZXJfYm9keSA9IHN1YmdyYXBoWyJzY2F0dGVyX2dhdGhlcl9ib2R5Il0NCiAgICAgICAgYXNzZXJ0IHNjYXR0ZXJfZ2F0aGVyX2JvZHkudHlwZSA9PSAicGlwZWxpbmUiDQogICAgICAgIGFzc2VydCBhbGwoc2lsb19pbnB1dCBpbiBzY2F0dGVyX2dhdGhlcl9ib2R5LmlucHV0cyBmb3Igc2lsb19pbnB1dCBpbiBzaWxvX2t3YXJncykNCiAgICAgICAgYXNzZXJ0IGFsbChzaWxvX2lucHV0IGluIHNjYXR0ZXJfZ2F0aGVyX2JvZHkuaW5wdXRzIGZvciBzaWxvX2lucHV0IGluIGFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwLnZhbHVlcygpKQ0KICAgICAgICBhc3NlcnQgYWxsKGFnZ19vdXRwdXQgaW4gc2NhdHRlcl9nYXRoZXJfYm9keS5vdXRwdXRzIGZvciBhZ2dfb3V0cHV0IGluIGFnZ3JlZ2F0aW9uX3RvX3NpbG9fYXJndW1lbnRfbWFwKQ0K",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "inmxw/YWaah2Xwl6ksU/EQ==",
        "Date": "Tue, 18 Mar 2025 11:30:20 GMT",
        "ETag": "\"0x8DD6610443A3107\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "d3pe6wBZ/xY=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_dsl_pipeline_samples.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "20454",
        "Content-MD5": "Vf2ZygBH6xuvOI6CWq1bOA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "IiIiDQpUaGlzIGZpbGUgY292ZXJzIGFsbCBzYW1wbGUgcGlwZWxpbmUgaW4gaHR0cHM6Ly9naXRodWIuY29tL0F6dXJlL2F6dXJlbWwtcHJldmlld3MvdHJlZS9tYWluL3ByZXZpZXdzL3BpcGVsaW5lcy9zYW1wbGVzDQppbiBkc2wucGlwZWxpbmUuDQpUaGUgc2FtcGxlcyBhcmUgY29waWVkIHRvIHRlc3RfY29uZmlncy9kc2xfcGlwZWxpbmVfc2FtcGxlcw0KIiIiDQoNCmltcG9ydCBqc29uDQppbXBvcnQgc3lzDQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgNCg0KaW1wb3J0IHB5ZGFzaA0KaW1wb3J0IHB5dGVzdA0KZnJvbSBkZXZ0b29sc190ZXN0dXRpbHMgaW1wb3J0IEF6dXJlUmVjb3JkZWRUZXN0Q2FzZSwgaXNfbGl2ZQ0KZnJvbSB0ZXN0X3V0aWxpdGllcy51dGlscyBpbXBvcnQgX1BZVEVTVF9USU1FT1VUX01FVEhPRCwgYXNzZXJ0X2pvYl9jYW5jZWwNCg0KZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgTUxDbGllbnQsIGxvYWRfam9iDQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzIGltcG9ydCBDb21wb25lbnQgYXMgQ29tcG9uZW50RW50aXR5DQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzIGltcG9ydCBQaXBlbGluZUpvYg0KZnJvbSBhenVyZS5haS5tbC5vcGVyYXRpb25zLl9ydW5faGlzdG9yeV9jb25zdGFudHMgaW1wb3J0IEpvYlN0YXR1cw0KDQpmcm9tIC4uX3V0aWwgaW1wb3J0IF9EU0xfVElNRU9VVF9TRUNPTkQNCg0KdGVzdHNfcm9vdF9kaXIgPSBQYXRoKF9fZmlsZV9fKS5wYXJlbnQucGFyZW50LnBhcmVudA0Kc3lzLnBhdGguaW5zZXJ0KDAsIHN0cih0ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MiKSkNCnNhbXBsZXNfZGlyID0gdGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2RzbF9waXBlbGluZS8iDQoNCg0KZGVmIGFzc2VydF9qb2JfY29tcGxldGVkKHBpcGVsaW5lLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICBqb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KICAgIGNsaWVudC5qb2JzLnN0cmVhbShqb2IubmFtZSkNCiAgICBhc3NlcnQgY2xpZW50LmpvYnMuZ2V0KGpvYi5uYW1lKS5zdGF0dXMgPT0gSm9iU3RhdHVzLkNPTVBMRVRFRA0KDQoNCmRlZiBhc3NlcnRfZHNsX2N1cmF0ZWQocGlwZWxpbmU6IFBpcGVsaW5lSm9iLCBqb2JfeWFtbCwgb21pdF9maWVsZHMpOg0KICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IHBpcGVsaW5lLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQ0KICAgIHBpcGVsaW5lX2pvYl9kaWN0ID0gbG9hZF9qb2Ioc291cmNlPWpvYl95YW1sKS5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCg0KICAgIGRzbF9waXBlbGluZV9qb2JfZGljdCA9IHB5ZGFzaC5vbWl0KGRzbF9waXBlbGluZV9qb2JfZGljdCwgb21pdF9maWVsZHMpDQogICAgcGlwZWxpbmVfam9iX2RpY3QgPSBweWRhc2gub21pdChwaXBlbGluZV9qb2JfZGljdCwgb21pdF9maWVsZHMpDQogICAgcHJpbnQoanNvbi5kdW1wcyhkc2xfcGlwZWxpbmVfam9iX2RpY3QsIGluZGVudD0yKSkNCiAgICBwcmludChqc29uLmR1bXBzKHBpcGVsaW5lX2pvYl9kaWN0LCBpbmRlbnQ9MikpDQogICAgYXNzZXJ0IGRzbF9waXBlbGluZV9qb2JfZGljdCA9PSBwaXBlbGluZV9qb2JfZGljdA0KDQoNCkBweXRlc3QubWFyay51c2VmaXh0dXJlcygNCiAgICAiZW5hYmxlX2Vudmlyb25tZW50X2lkX2FybV9leHBhbnNpb24iLA0KICAgICJlbmFibGVfcGlwZWxpbmVfcHJpdmF0ZV9wcmV2aWV3X2ZlYXR1cmVzIiwNCiAgICAibW9ja19jb2RlX2hhc2giLA0KICAgICJtb2NrX2NvbXBvbmVudF9oYXNoIiwNCiAgICAibW9ja19zZXRfaGVhZGVyc193aXRoX3VzZXJfYW1sX3Rva2VuIiwNCiAgICAicmVjb3JkZWRfdGVzdCIsDQogICAgIm1vY2tfYXNzZXRfbmFtZSIsDQogICAgIm1vY2tfYW5vbl9jb21wb25lbnRfdmVyc2lvbiIsDQopDQpAcHl0ZXN0Lm1hcmsudGltZW91dCh0aW1lb3V0PV9EU0xfVElNRU9VVF9TRUNPTkQsIG1ldGhvZD1fUFlURVNUX1RJTUVPVVRfTUVUSE9EKQ0KQHB5dGVzdC5tYXJrLmUyZXRlc3QNCkBweXRlc3QubWFyay5waXBlbGluZV90ZXN0DQpjbGFzcyBUZXN0RFNMUGlwZWxpbmVTYW1wbGVzKEF6dXJlUmVjb3JkZWRUZXN0Q2FzZSk6DQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9lMmVfbG9jYWxfY29tcG9uZW50cyhzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZTJlX2xvY2FsX2NvbXBvbmVudHMucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBlMmVfbG9jYWxfY29tcG9uZW50cywNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZTJlX2xvY2FsX2NvbXBvbmVudHMoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9lMmVfcmVnaXN0ZXJlZF9jb21wb25lbnRzKA0KICAgICAgICBzZWxmLA0KICAgICAgICBjbGllbnQ6IE1MQ2xpZW50LA0KICAgICAgICBwaXBlbGluZV9zYW1wbGVzX2UyZV9yZWdpc3RlcmVkX3RyYWluX2NvbXBvbmVudHM6IENvbXBvbmVudEVudGl0eSwNCiAgICAgICAgcGlwZWxpbmVfc2FtcGxlc19lMmVfcmVnaXN0ZXJlZF9zY29yZV9jb21wb25lbnRzOiBDb21wb25lbnRFbnRpdHksDQogICAgICAgIHBpcGVsaW5lX3NhbXBsZXNfZTJlX3JlZ2lzdGVyZWRfZXZhbF9jb21wb25lbnRzOiBDb21wb25lbnRFbnRpdHksDQogICAgKSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZTJlX3JlZ2lzdGVyZWRfY29tcG9uZW50cy5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIGUyZV9yZWdpc3RlcmVkX2NvbXBvbmVudHMsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGUyZV9yZWdpc3RlcmVkX2NvbXBvbmVudHMoDQogICAgICAgICAgICBjbGllbnQ9Y2xpZW50LA0KICAgICAgICAgICAgcGlwZWxpbmVfc2FtcGxlc19lMmVfcmVnaXN0ZXJlZF90cmFpbl9jb21wb25lbnRzPXBpcGVsaW5lX3NhbXBsZXNfZTJlX3JlZ2lzdGVyZWRfdHJhaW5fY29tcG9uZW50cywNCiAgICAgICAgICAgIHBpcGVsaW5lX3NhbXBsZXNfZTJlX3JlZ2lzdGVyZWRfc2NvcmVfY29tcG9uZW50cz1waXBlbGluZV9zYW1wbGVzX2UyZV9yZWdpc3RlcmVkX3Njb3JlX2NvbXBvbmVudHMsDQogICAgICAgICAgICBwaXBlbGluZV9zYW1wbGVzX2UyZV9yZWdpc3RlcmVkX2V2YWxfY29tcG9uZW50cz1waXBlbGluZV9zYW1wbGVzX2UyZV9yZWdpc3RlcmVkX2V2YWxfY29tcG9uZW50cywNCiAgICAgICAgKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KICAgICAgICAjIG1vdmUgdW5pdCB0ZXN0IGhlcmUgZHVlIHRvIHBlcm1pc3Npb24gcHJvYmxlbQ0KICAgICAgICBqb2JfeWFtbCA9IHN0cihzYW1wbGVzX2RpciAvICJlMmVfcmVnaXN0ZXJlZF9jb21wb25lbnRzL3BpcGVsaW5lLnltbCIpDQogICAgICAgIG9taXRfZmllbGRzID0gWw0KICAgICAgICAgICAgInByb3BlcnRpZXMuZXhwZXJpbWVudF9uYW1lIiwNCiAgICAgICAgICAgICJuYW1lIiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzLmpvYnMudHJhaW5fam9iLmNvbXBvbmVudElkIiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzLmpvYnMuc2NvcmVfam9iLmNvbXBvbmVudElkIiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzLmpvYnMuZXZhbHVhdGVfam9iLmNvbXBvbmVudElkIiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzLmpvYnMudHJhaW5fam9iLnJlc291cmNlcyIsICAjIGpvYiB5YW1sIHdvbid0IGhhdmUgcmVzb3VyY2VzIGJ1dCB3ZSB3aWxsIHBhc3MgdGhlbQ0KICAgICAgICAgICAgInByb3BlcnRpZXMuam9icy5zY29yZV9qb2IucmVzb3VyY2VzIiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzLmpvYnMuZXZhbHVhdGVfam9iLnJlc291cmNlcyIsDQogICAgICAgICAgICAicHJvcGVydGllcy5pbnB1dHMucGlwZWxpbmVfam9iX3RyYWluaW5nX2lucHV0LnVyaSIsDQogICAgICAgICAgICAicHJvcGVydGllcy5pbnB1dHMucGlwZWxpbmVfam9iX3Rlc3RfaW5wdXQudXJpIiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzLnByb3BlcnRpZXMiLA0KICAgICAgICAgICAgInByb3BlcnRpZXMuY29tcHV0ZV9pZCIsDQogICAgICAgICAgICAicHJvcGVydGllcy5zZXR0aW5ncyIsDQogICAgICAgIF0NCiAgICAgICAgYXNzZXJ0X2RzbF9jdXJhdGVkKHBpcGVsaW5lLCBqb2JfeWFtbCwgb21pdF9maWVsZHMpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIGRlZiB0ZXN0X2Jhc2ljX2NvbXBvbmVudChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuYmFzaWNfY29tcG9uZW50LnBpcGVsaW5lIGltcG9ydCBnZW5lcmF0ZV9kc2xfcGlwZWxpbmUgYXMgYmFzaWNfY29tcG9uZW50DQoNCiAgICAgICAgcGlwZWxpbmUgPSBiYXNpY19jb21wb25lbnQoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9jb21wb25lbnRfd2l0aF9pbnB1dF9vdXRwdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmNvbXBvbmVudF93aXRoX2lucHV0X291dHB1dC5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIGNvbXBvbmVudF93aXRoX2lucHV0X291dHB1dCwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gY29tcG9uZW50X3dpdGhfaW5wdXRfb3V0cHV0KCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfYmFzaWNfcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmJhc2ljX3BpcGVsaW5lLnBpcGVsaW5lIGltcG9ydCBnZW5lcmF0ZV9kc2xfcGlwZWxpbmUgYXMgYmFzaWNfcGlwZWxpbmUNCg0KICAgICAgICBwaXBlbGluZSA9IGJhc2ljX3BpcGVsaW5lKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfcGlwZWxpbmVfd2l0aF9kYXRhKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5waXBsaW5lX3dpdGhfZGF0YS5waXBlbGluZSBpbXBvcnQgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHBpcGxpbmVfd2l0aF9kYXRhDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBsaW5lX3dpdGhfZGF0YSgpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIGRlZiB0ZXN0X2xvY2FsX2RhdGFfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmxvY2FsX2RhdGFfaW5wdXQucGlwZWxpbmUgaW1wb3J0IGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBsb2NhbF9kYXRhX2lucHV0DQoNCiAgICAgICAgcGlwZWxpbmUgPSBsb2NhbF9kYXRhX2lucHV0KCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZGF0YXN0b3JlX2RhdGFwYXRoX3VyaV9mb2xkZXIoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmRhdGFzdG9yZV9kYXRhcGF0aF91cmlfZm9sZGVyLnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmUgYXMgZGF0YXN0b3JlX2RhdGFwYXRoX3VyaV9mb2xkZXIsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGRhdGFzdG9yZV9kYXRhcGF0aF91cmlfZm9sZGVyKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZGF0YXN0b3JlX2RhdGFwYXRoX3VyaV9maWxlKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5kYXRhc3RvcmVfZGF0YXBhdGhfdXJpX2ZpbGUucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBkYXRhc3RvcmVfZGF0YXBhdGhfdXJpX2ZpbGUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGRhdGFzdG9yZV9kYXRhcGF0aF91cmlfZmlsZSgpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIGRlZiB0ZXN0X2RhdGFzZXRfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmRhdGFzZXRfaW5wdXQucGlwZWxpbmUgaW1wb3J0IGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBkYXRhc2V0X2lucHV0DQoNCiAgICAgICAgcGlwZWxpbmUgPSBkYXRhc2V0X2lucHV0KGNsaWVudCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3Rfd2ViX3VybF9pbnB1dChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUud2ViX3VybF9pbnB1dC5waXBlbGluZSBpbXBvcnQgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHdlYl91cmxfaW5wdXQNCg0KICAgICAgICBwaXBlbGluZSA9IHdlYl91cmxfaW5wdXQoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9lbnZfcHVibGljX2RvY2tlcl9pbWFnZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZW52X3B1YmxpY19kb2NrZXJfaW1hZ2UucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBlbnZfcHVibGljX2RvY2tlcl9pbWFnZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZW52X3B1YmxpY19kb2NrZXJfaW1hZ2UoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9lbnZfcmVnaXN0ZXJlZChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZW52X3JlZ2lzdGVyZWQucGlwZWxpbmUgaW1wb3J0IGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBlbnZfcmVnaXN0ZXJlZA0KDQogICAgICAgIHBpcGVsaW5lID0gZW52X3JlZ2lzdGVyZWQoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9lbnZfY29uZGFfZmlsZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZW52X2NvbmRhX2ZpbGUucGlwZWxpbmUgaW1wb3J0IGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBlbnZfY29uZGFfZmlsZQ0KDQogICAgICAgIHBpcGVsaW5lID0gZW52X2NvbmRhX2ZpbGUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF90Zl9oZWxsb193b3JsZChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUudGZfaGVsbG9fd29ybGQucGlwZWxpbmUgaW1wb3J0IGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyB0Zl9oZWxsb193b3JsZA0KDQogICAgICAgIHBpcGVsaW5lID0gdGZfaGVsbG9fd29ybGQoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9tcGlfaGVsbG9fd29ybGQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLm1waV9oZWxsb193b3JsZC5waXBlbGluZSBpbXBvcnQgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIG1waV9oZWxsb193b3JsZA0KDQogICAgICAgIHBpcGVsaW5lID0gbXBpX2hlbGxvX3dvcmxkKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfcHl0b3JjaF9oZWxsb193b3JsZChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUucHl0b3JjaF9oZWxsb193b3JsZC5waXBlbGluZSBpbXBvcnQgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHB5dG9yY2hfaGVsbG9fd29ybGQNCg0KICAgICAgICBwaXBlbGluZSA9IHB5dG9yY2hfaGVsbG9fd29ybGQoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9ueWNfdGF4aV9kYXRhX3JlZ3Jlc3Npb24oc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLm55Y190YXhpX2RhdGFfcmVncmVzc2lvbi5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIG55Y190YXhpX2RhdGFfcmVncmVzc2lvbiwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gbnljX3RheGlfZGF0YV9yZWdyZXNzaW9uKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfdGZfbW5pc3Qoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLnRmX21uaXN0LnBpcGVsaW5lIGltcG9ydCBnZW5lcmF0ZV9kc2xfcGlwZWxpbmUgYXMgdGZfbW5pc3QNCg0KICAgICAgICBwaXBlbGluZSA9IHRmX21uaXN0KCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZTJlX2lubGluZV9jb21wb25lbnRzKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5lMmVfaW5saW5lX2NvbXBvbmVudHMucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBlMmVfaW5saW5lX2NvbXBvbmVudHMsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGUyZV9pbmxpbmVfY29tcG9uZW50cygpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsudXNlZml4dHVyZXMoIm1vY2tfYXNzZXRfbmFtZSIpDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9jb21tYW5kX2pvYl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuY29tbWFuZF9qb2JfaW5fcGlwZWxpbmUucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBjb21tYW5kX2pvYl9pbl9waXBlbGluZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gY29tbWFuZF9qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9tdWx0aV9wYXJhbGxlbF9jb21wb25lbnRzX3dpdGhfZmlsZV9pbnB1dF9waXBlbGluZV9vdXRwdXQoDQogICAgICAgIHNlbGYsDQogICAgICAgIGNsaWVudDogTUxDbGllbnQsDQogICAgKSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUucGFyYWxsZWxfY29tcG9uZW50X3dpdGhfZmlsZV9pbnB1dC5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHBpcGVsaW5lX3dpdGhfcGFyYWxsZWxfY29tcG9uZW50cywNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9wYXJhbGxlbF9jb21wb25lbnRzKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgQHB5dGVzdC5tYXJrLnNraXAoIldpbGwgcmVuYWJsZSB3aGVuIHBhcmFsbGVsIGUyZSByZWNvcmRpbmcgaXNzdWUgaXMgZml4ZWQiKQ0KICAgIGRlZiB0ZXN0X3BhcmFsbGVsX2NvbXBvbmVudHNfd2l0aF90YWJ1bGFyX2lucHV0X3BpcGVsaW5lX291dHB1dChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUucGFyYWxsZWxfY29tcG9uZW50X3dpdGhfdGFidWxhcl9pbnB1dC5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHBpcGVsaW5lX3dpdGhfcGFyYWxsZWxfY29tcG9uZW50cywNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9wYXJhbGxlbF9jb21wb25lbnRzKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgQHB5dGVzdC5tYXJrLnNraXAoIldpbGwgcmVuYWJsZSB3aGVuIHBhcmFsbGVsIGUyZSByZWNvcmRpbmcgaXNzdWUgaXMgZml4ZWQiKQ0KICAgIGRlZiB0ZXN0X3BhcmFsbGVsX2NvbXBvbmVudHMoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLnBhcmFsbGVsX2NvbXBvbmVudC5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHBpcGVsaW5lX3dpdGhfcGFyYWxsZWxfY29tcG9uZW50cywNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9wYXJhbGxlbF9jb21wb25lbnRzKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfYXV0b21sX2pvYl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuYXV0b21sX2pvYl9pbl9waXBlbGluZS5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIGF1dG9tbF9qb2JfaW5fcGlwZWxpbmUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGF1dG9tbF9qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9waXBlbGluZV93aXRoX3BpcGVsaW5lX2NvbXBvbmVudChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUucGlwZWxpbmVfd2l0aF9waXBlbGluZV9jb21wb25lbnQucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBwaXBlbGluZV93aXRoX3BpcGVsaW5lX2NvbXBvbmVudCwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9waXBlbGluZV9jb21wb25lbnQoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9waXBlbGluZV93aXRoX2RhdGFfYXNfaW5wdXRzX2Zvcl9waXBlbGluZV9jb21wb25lbnQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLnBpcGVsaW5lX3dpdGhfcGlwZWxpbmVfY29tcG9uZW50LnBpcGVsaW5lX3dpdGhfZGF0YV9hc19pbnB1dCBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lIGFzIHBpcGVsaW5lX3dpdGhfcGlwZWxpbmVfY29tcG9uZW50LA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX3BpcGVsaW5lX2NvbXBvbmVudChjbGllbnQpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIEBweXRlc3QubWFyay5za2lwKCJTa2lwcGluZyBkdWUgdG8gU3BhcmsgdmVyc2lvbiBVcGdyYWRlIikNCiAgICBkZWYgdGVzdF9zcGFya19qb2JfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLnNwYXJrX2pvYl9pbl9waXBlbGluZS5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lX2Zyb21feWFtbCBhcyBzcGFya19qb2JfaW5fcGlwZWxpbmUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IHNwYXJrX2pvYl9pbl9waXBlbGluZSgpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIEBweXRlc3QubWFyay5za2lwKCJTa2lwcGluZyBkdWUgdG8gU3BhcmsgdmVyc2lvbiBVcGdyYWRlIikNCiAgICBkZWYgdGVzdF9zcGFya19qb2Jfd2l0aF9idWlsZGVyX2luX3BpcGVsaW5lKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5zcGFya19qb2JfaW5fcGlwZWxpbmUucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZV9mcm9tX2J1aWxkZXIgYXMgc3Bhcmtfam9iX2luX3BpcGVsaW5lLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBzcGFya19qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBAcHl0ZXN0Lm1hcmsuc2tpcCgiU2tpcHBpbmcgZHVlIHRvIFNwYXJrIHZlcnNpb24gVXBncmFkZSIpDQogICAgZGVmIHRlc3Rfc3Bhcmtfam9iX3dpdGhfbXVsdGlwbGVfbm9kZV9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuc3Bhcmtfam9iX2luX3BpcGVsaW5lLmttZWFuc19zYW1wbGUucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZV9mcm9tX3lhbWwgYXMgc3Bhcmtfam9iX2luX3BpcGVsaW5lLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBzcGFya19qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9zcGFya19qb2Jfd2l0aF9idWlsZGVyX2luX3BpcGVsaW5lX3dpdGhvdXRfZW50cnkoDQogICAgICAgIHNlbGYsDQogICAgICAgIGNsaWVudDogTUxDbGllbnQsDQogICAgKSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuc3Bhcmtfam9iX2luX3BpcGVsaW5lLmludmFsaWRfcGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZV9mcm9tX2J1aWxkZXJfd2l0aG91dF9lbnRyeSBhcyBzcGFya19qb2JfaW5fcGlwZWxpbmUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IHNwYXJrX2pvYl9pbl9waXBlbGluZSgpDQogICAgICAgIHdpdGggcHl0ZXN0LnJhaXNlcyhFeGNlcHRpb24pIGFzIGV4Og0KICAgICAgICAgICAgY3JlYXRlZF9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KDQogICAgICAgIGFzc2VydCAoDQogICAgICAgICAgICAne1xuICAicmVzdWx0IjogIkZhaWxlZCIsXG4gICJlcnJvcnMiOiBbXG4gICAge1xuICAgICAgIm1lc3NhZ2UiOiAiTWlzc2luZyBkYXRhIGZvciByZXF1aXJlZCBmaWVsZC4iLCcNCiAgICAgICAgICAgICdcbiAgICAgICJwYXRoIjogImpvYnMuYWRkX2dyZWV0aW5nX2NvbHVtbi5jb21wb25lbnQuZW50cnkiLFxuICAgICAgInZhbHVlIjogbnVsbFxuICAgIH1cbiAgXVxufScNCiAgICAgICAgICAgID09IHN0cihleC52YWx1ZSkNCiAgICAgICAgKQ0KDQogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gY2xpZW50LmpvYnMudmFsaWRhdGUocGlwZWxpbmUpDQogICAgICAgIGFzc2VydCB2YWxpZGF0aW9uX3Jlc3VsdC5wYXNzZWQgaXMgRmFsc2UNCiAgICAgICAgYXNzZXJ0IHZhbGlkYXRpb25fcmVzdWx0LmVycm9yX21lc3NhZ2VzID09IHsNCiAgICAgICAgICAgICJqb2JzLmFkZF9ncmVldGluZ19jb2x1bW4uY29tcG9uZW50LmVudHJ5IjogIk1pc3NpbmcgZGF0YSBmb3IgcmVxdWlyZWQgZmllbGQuIiwNCiAgICAgICAgfQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9zcGFya19qb2Jfd2l0aF9idWlsZGVyX2luX3BpcGVsaW5lX3dpdGhfZHluYW1pY19hbGxvY2F0aW9uX2Rpc2FibGVkKA0KICAgICAgICBzZWxmLA0KICAgICAgICBjbGllbnQ6IE1MQ2xpZW50LA0KICAgICkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLnNwYXJrX2pvYl9pbl9waXBlbGluZS5pbnZhbGlkX3BpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmVfZnJvbV9idWlsZGVyX3dpdGhfZHluYW1pY19hbGxvY2F0aW9uX2Rpc2FibGVkIGFzIHNwYXJrX2pvYl9pbl9waXBlbGluZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gc3Bhcmtfam9iX2luX3BpcGVsaW5lKCkNCiAgICAgICAgd2l0aCBweXRlc3QucmFpc2VzKEV4Y2VwdGlvbikgYXMgZXg6DQogICAgICAgICAgICBjcmVhdGVkX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUpDQoNCiAgICAgICAgYXNzZXJ0ICgNCiAgICAgICAgICAgICd7XG4gICJyZXN1bHQiOiAiRmFpbGVkIixcbiAgImVycm9ycyI6IFtcbiAgICB7XG4gICAgICAibWVzc2FnZSI6ICJTaG91bGQgbm90IHNwZWNpZnkgbWluIG9yIG1heCAnDQogICAgICAgICAgICAnZXhlY3V0b3JzIHdoZW4gZHluYW1pYyBhbGxvY2F0aW9uIGlzIGRpc2FibGVkLiIsXG4nIGluIHN0cihleC52YWx1ZSkNCiAgICAgICAgKQ0KDQogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gY2xpZW50LmpvYnMudmFsaWRhdGUocGlwZWxpbmUpDQogICAgICAgIGFzc2VydCB2YWxpZGF0aW9uX3Jlc3VsdC5wYXNzZWQgaXMgRmFsc2UNCiAgICAgICAgYXNzZXJ0IHZhbGlkYXRpb25fcmVzdWx0LmVycm9yX21lc3NhZ2VzID09IHsNCiAgICAgICAgICAgICJqb2JzLmFkZF9ncmVldGluZ19jb2x1bW4uY29uZiI6ICJTaG91bGQgbm90IHNwZWNpZnkgbWluIG9yIG1heCBleGVjdXRvcnMgIg0KICAgICAgICAgICAgIndoZW4gZHluYW1pYyBhbGxvY2F0aW9uIGlzIGRpc2FibGVkLiIsDQogICAgICAgIH0NCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZGF0YV90cmFuc2Zlcl9jb3B5XzJ1cmlmb2xkZXJfam9iX2luX3BpcGVsaW5lKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5kYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZS5jb3B5X2RhdGEucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZV9mcm9tX3lhbWwgYXMgZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCwgc2tpcF9jYW5jZWw9VHJ1ZSkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZGF0YV90cmFuc2Zlcl9jb3B5XzJ1cmlmb2xkZXJfam9iX3dpdGhfYnVpbGRlcl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUuY29weV9kYXRhLnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmVfZnJvbV9idWlsZGVyIGFzIGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSgpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIGRlZiB0ZXN0X2RhdGFfdHJhbnNmZXJfY29weV9taXh0eXBlX2pvYl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUuY29weV9kYXRhLnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmVfY29weV9taXh0eXBlX2Zyb21feWFtbCBhcyBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9kYXRhX3RyYW5zZmVyX2NvcHlfdXJpZmlsZV9qb2JfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLmNvcHlfZGF0YS5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lX2NvcHlfdXJpZmlsZV9mcm9tX3lhbWwgYXMgZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZGF0YV90cmFuc2Zlcl9jb3B5X3VyaWZvbGRlcl9qb2JfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLmNvcHlfZGF0YS5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lX2NvcHlfdXJpZm9sZGVyX2Zyb21feWFtbCBhcyBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9kYXRhX3RyYW5zZmVyX2ltcG9ydF9maWxlc3lzdGVtX2pvYl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUuaW1wb3J0X2ZpbGVfc3lzdGVtLnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmVfZnJvbV9idWlsZGVyIGFzIGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSgpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIGRlZiB0ZXN0X2RhdGFfdHJhbnNmZXJfaW1wb3J0X3NxbF9kYXRhYmFzZV9qb2JfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLmltcG9ydF9kYXRhYmFzZS5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lX2Zyb21fYnVpbGRlcl9zcWwgYXMgZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lKCkNCiAgICAgICAgYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5lMmV0ZXN0DQogICAgZGVmIHRlc3RfZGF0YV90cmFuc2Zlcl9pbXBvcnRfc25vd2ZsYWtlX2RhdGFiYXNlX2pvYl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUuaW1wb3J0X2RhdGFiYXNlLnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmVfZnJvbV9idWlsZGVyIGFzIGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSgpDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZTJldGVzdA0KICAgIGRlZiB0ZXN0X2RhdGFfdHJhbnNmZXJfZXhwb3J0X3NxbF9kYXRhYmFzZV9qb2JfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLmRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLmV4cG9ydF9kYXRhYmFzZS5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgZ2VuZXJhdGVfZHNsX3BpcGVsaW5lX2Zyb21fYnVpbGRlciBhcyBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgQHB5dGVzdC5tYXJrLmUyZXRlc3QNCiAgICBkZWYgdGVzdF9kYXRhX3RyYW5zZmVyX211bHRpX2pvYl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIGdlbmVyYXRlX2RzbF9waXBlbGluZSBhcyBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUoKQ0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0K",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "Vf2ZygBH6xuvOI6CWq1bOA==",
        "Date": "Tue, 18 Mar 2025 11:30:20 GMT",
        "ETag": "\"0x8DD6610445B01A6\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "RKyVH6uxVFA=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_dsl_pipeline_with_specific_nodes.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "16882",
        "Content-MD5": "0zrIgAIcdsdL5/d+qWPVyQ==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "ZnJvbSBmdW5jdG9vbHMgaW1wb3J0IHBhcnRpYWwNCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aA0KZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBVbmlvbg0KDQppbXBvcnQgcHl0ZXN0DQpmcm9tIGRldnRvb2xzX3Rlc3R1dGlscyBpbXBvcnQgQXp1cmVSZWNvcmRlZFRlc3RDYXNlLCBpc19saXZlDQpmcm9tIG1vY2sgaW1wb3J0IG1vY2sNCmZyb20gcHl0ZXN0X21vY2sgaW1wb3J0IE1vY2tGaXh0dXJlDQpmcm9tIHRlc3RfdXRpbGl0aWVzLnV0aWxzIGltcG9ydCAoDQogICAgX1BZVEVTVF9USU1FT1VUX01FVEhPRCwNCiAgICBhc3NlcnRfam9iX2NhbmNlbCwNCiAgICBvbWl0X3dpdGhfd2lsZGNhcmQsDQogICAgc3VibWl0X2FuZF9jYW5jZWxfbmV3X2RzbF9waXBlbGluZSwNCikNCg0KZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgSW5wdXQsIE1MQ2xpZW50LCBkc2wsIGxvYWRfY29tcG9uZW50DQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCBBc3NldFR5cGVzDQpmcm9tIGF6dXJlLmFpLm1sLmRzbC5fZ3JvdXBfZGVjb3JhdG9yIGltcG9ydCBncm91cA0KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcyBpbXBvcnQgKA0KICAgIENob2ljZSwNCiAgICBDb21tYW5kLA0KICAgIENvbW1hbmRDb21wb25lbnQsDQogICAgQ29tcG9uZW50LA0KICAgIEVudmlyb25tZW50LA0KICAgIFBpcGVsaW5lQ29tcG9uZW50LA0KICAgIFBpcGVsaW5lSm9iLA0KICAgIFN3ZWVwLA0KKQ0KZnJvbSBhenVyZS5haS5tbC5vcGVyYXRpb25zLl9vcGVyYXRpb25fb3JjaGVzdHJhdG9yIGltcG9ydCBPcGVyYXRpb25PcmNoZXN0cmF0b3INCg0KZnJvbSAuLl91dGlsIGltcG9ydCBfRFNMX1RJTUVPVVRfU0VDT05EDQoNCnRlc3RzX3Jvb3RfZGlyID0gUGF0aChfX2ZpbGVfXykucGFyZW50LnBhcmVudC5wYXJlbnQNCmNvbXBvbmVudHNfZGlyID0gdGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2NvbXBvbmVudHMvIg0Kam9iX2lucHV0ID0gSW5wdXQoDQogICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GSUxFLA0KICAgIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiwNCikNCmV4cGVyaW1lbnRfbmFtZSA9ICJkc2xfcGlwZWxpbmVfZTJlIg0KY29tbW9uX29taXRfZmllbGRzID0gWw0KICAgICJwcm9wZXJ0aWVzIiwNCiAgICAiZGlzcGxheV9uYW1lIiwNCiAgICAiZXhwZXJpbWVudF9uYW1lIiwNCiAgICAiam9icy4qLmNvbXBvbmVudElkIiwNCiAgICAiaW5wdXRzLioudXJpIiwNCiAgICAiam9icy4qLl9zb3VyY2UiLA0KICAgICJqb2JzLioucHJvcGVydGllcyIsDQogICAgInNldHRpbmdzLl9zb3VyY2UiLA0KICAgICJzb3VyY2Vfam9iX2lkIiwNCiAgICAic2VydmljZXMiLA0KXQ0KDQoNCmRlZiBfZ2V0X2NvbXBvbmVudF9pbl9maXJzdF9jaGlsZChfd2l0aF9qb2JzOiBVbmlvbltQaXBlbGluZUpvYiwgUGlwZWxpbmVDb21wb25lbnRdLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBDb21wb25lbnQ6DQogICAgaWYgbm90IF93aXRoX2pvYnMuam9iczoNCiAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigiTm8gam9icyBmb3VuZCBpbiB0aGUgcGlwZWxpbmUiKQ0KICAgIF9yZXN1bHQgPSBuZXh0KGl0ZXIoX3dpdGhfam9icy5qb2JzLnZhbHVlcygpKSkuY29tcG9uZW50LnNwbGl0KCI6IikNCiAgICBpZiBsZW4oX3Jlc3VsdCkgPT0gMjoNCiAgICAgICAgX25hbWUsIF92ZXJzaW9uID0gX3Jlc3VsdA0KICAgIGVsaWYgbGVuKF9yZXN1bHQpID09IDM6DQogICAgICAgIF8sIF9uYW1lLCBfdmVyc2lvbiA9IF9yZXN1bHQNCiAgICBlbHNlOg0KICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJJbnZhbGlkIGNvbXBvbmVudCBhcm0gc3RyaW5nOiB7fSIuZm9ybWF0KF9yZXN1bHQpKQ0KICAgIHJldHVybiBjbGllbnQuY29tcG9uZW50cy5nZXQoX25hbWUsIF92ZXJzaW9uKQ0KDQoNCkBncm91cA0KY2xhc3MgU3ViR3JvdXA6DQogICAgaW50ZWdlcjogaW50ID0gTm9uZQ0KICAgIG51bWJlcjogZmxvYXQgPSBOb25lDQoNCg0KQGdyb3VwDQpjbGFzcyBHcm91cDoNCiAgICBudW1iZXI6IGZsb2F0ID0gTm9uZQ0KICAgIHN1YjE6IFN1Ykdyb3VwID0gTm9uZQ0KICAgIHN1YjI6IFN1Ykdyb3VwID0gTm9uZQ0KDQoNCkBweXRlc3QubWFyay51c2VmaXh0dXJlcygNCiAgICAiZW5hYmxlX2Vudmlyb25tZW50X2lkX2FybV9leHBhbnNpb24iLA0KICAgICJlbmFibGVfcGlwZWxpbmVfcHJpdmF0ZV9wcmV2aWV3X2ZlYXR1cmVzIiwNCiAgICAibW9ja19jb2RlX2hhc2giLA0KICAgICJtb2NrX2NvbXBvbmVudF9oYXNoIiwNCiAgICAibW9ja19zZXRfaGVhZGVyc193aXRoX3VzZXJfYW1sX3Rva2VuIiwNCiAgICAicmVjb3JkZWRfdGVzdCIsDQopDQpAcHl0ZXN0Lm1hcmsudGltZW91dCh0aW1lb3V0PV9EU0xfVElNRU9VVF9TRUNPTkQsIG1ldGhvZD1fUFlURVNUX1RJTUVPVVRfTUVUSE9EKQ0KQHB5dGVzdC5tYXJrLmUyZXRlc3QNCkBweXRlc3QubWFyay5waXBlbGluZV90ZXN0DQpjbGFzcyBUZXN0RFNMUGlwZWxpbmVXaXRoU3BlY2lmaWNOb2RlcyhBenVyZVJlY29yZGVkVGVzdENhc2UpOg0KICAgIEBzdGF0aWNtZXRob2QNCiAgICBkZWYgX2dlbmVyYXRlX211bHRpX2xheWVyX3BpcGVsaW5lX2Z1bmMoKToNCiAgICAgICAgcGF0aCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCg0KICAgICAgICBAZHNsLnBpcGVsaW5lDQogICAgICAgIGRlZiBwaXBlbGluZV9sZWFmKGNvbXBvbmVudF9pbl9wYXRoOiBJbnB1dCk6DQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzEgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9cGF0aCkNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMShjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCwgY29tcG9uZW50X2luX251bWJlcj0xKQ0KDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzIgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgICAgICBzb3VyY2U9cGF0aCwNCiAgICAgICAgICAgICAgICBwYXJhbXNfb3ZlcnJpZGU9Ww0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJhbm90aGVyX2NvbXBvbmVudF9uYW1lIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2ZXJzaW9uIjogImFub3RoZXJfY29tcG9uZW50X3ZlcnNpb24iLA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMihjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCwgY29tcG9uZW50X2luX251bWJlcj0xKQ0KDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgICAgICBzb3VyY2U9cGF0aCwgcGFyYW1zX292ZXJyaWRlPVt7ImVudmlyb25tZW50IjogImF6dXJlbWw6QXp1cmVNTC1za2xlYXJuLTEuMC11YnVudHUyMC4wNC1weTM4LWNwdTozMiJ9XQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMzKGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbl9wYXRoLCBjb21wb25lbnRfaW5fbnVtYmVyPTEpDQoNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jNCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1wYXRoKQ0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmM0LmNvbW1hbmQgKz0gIiAmIGVjaG8gdXBkYXRlZDEiDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzQoY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2luX3BhdGgsIGNvbXBvbmVudF9pbl9udW1iZXI9MSkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lDQogICAgICAgIGRlZiBwaXBlbGluZV9taWQoam9iX2luX3BhdGg6IElucHV0KToNCiAgICAgICAgICAgIHBpcGVsaW5lX2xlYWYoam9iX2luX3BhdGgpDQogICAgICAgICAgICBwaXBlbGluZV9sZWFmKGpvYl9pbl9wYXRoKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUNCiAgICAgICAgZGVmIHBpcGVsaW5lX3Jvb3Qoam9iX2luX3BhdGg6IElucHV0KToNCiAgICAgICAgICAgIHBpcGVsaW5lX21pZChqb2JfaW5fcGF0aCkNCiAgICAgICAgICAgIHBpcGVsaW5lX21pZChqb2JfaW5fcGF0aCkNCg0KICAgICAgICByZXR1cm4gcGlwZWxpbmVfcm9vdA0KDQogICAgQHN0YXRpY21ldGhvZA0KICAgIGRlZiBfZ2VuZXJhdGVfcGlwZWxpbmVfZnVuY19mb3JfY29uY3VycmVudF9jb21wb25lbnRfcmVnaXN0cmF0aW9uX3Rlc3Qoc2hhcmVkX2lucHV0KToNCiAgICAgICAgcGF0aCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29uZGFfZmlsZV9wYXRoID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2Vudmlyb25tZW50L2Vudmlyb25tZW50X2ZpbGVzL2Vudmlyb25tZW50LnltbCINCg0KICAgICAgICBlbnZpcm9ubWVudCA9IEVudmlyb25tZW50KA0KICAgICAgICAgICAgbmFtZT0idGVzdC1lbnZpcm9ubWVudCIsDQogICAgICAgICAgICBjb25kYV9maWxlPWNvbmRhX2ZpbGVfcGF0aCwNCiAgICAgICAgICAgIGltYWdlPSJtY3IubWljcm9zb2Z0LmNvbS9henVyZW1sL29wZW5tcGk0LjEuMC11YnVudHUyMC4wNCIsDQogICAgICAgICAgICB2ZXJzaW9uPSIyIiwgICMgVE9ETzogYW5vbnltb3VzIGVudmlyb25tZW50IGhhcyBwb3RlbnRpYWwgdmVyc2lvbiBjb25mbGljdD8NCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPSJUaGlzIGlzIGFuIGFub255bW91cyBlbnZpcm9ubWVudCIsDQogICAgICAgICkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lDQogICAgICAgIGRlZiBwaXBlbGluZV9sZWFmKCk6DQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzFhID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhdGgpDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzFhLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMWEuY29tbWFuZCArPSAiICYgZWNobyB1cGRhdGVkMSINCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMWEoY29tcG9uZW50X2luX3BhdGg9c2hhcmVkX2lucHV0LCBjb21wb25lbnRfaW5fbnVtYmVyPTEpDQoNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMWIgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9cGF0aCkNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMWIuZW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudA0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMxYi5jb21tYW5kICs9ICIgJiBlY2hvIHVwZGF0ZWQxIg0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMxYihjb21wb25lbnRfaW5fcGF0aD1zaGFyZWRfaW5wdXQsIGNvbXBvbmVudF9pbl9udW1iZXI9MSkNCg0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMyID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhdGgpDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzIuY29tbWFuZCArPSAiICYgZWNobyB1cGRhdGVkMiINCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMi5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50DQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzIoY29tcG9uZW50X2luX3BhdGg9c2hhcmVkX2lucHV0LCBjb21wb25lbnRfaW5fbnVtYmVyPTEpDQoNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMyA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1wYXRoKQ0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMzLmNvbW1hbmQgKz0gIiAmIGVjaG8gdXBkYXRlZDMiDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzMuZW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudA0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMzKGNvbXBvbmVudF9pbl9wYXRoPXNoYXJlZF9pbnB1dCwgY29tcG9uZW50X2luX251bWJlcj0xKQ0KDQogICAgICAgICMgVE9ETzogdGVzdCB3aXRoIG11bHRpcGxlIHBpcGVsaW5lcyBhZnRlciBzZXJ2ZXItc2lkZSByZXR1cm4gam9icyBmb3IgcGlwZWxpbmUgY29tcG9uZW50DQogICAgICAgICMgQGRzbC5waXBlbGluZQ0KICAgICAgICAjIGRlZiBwaXBlbGluZV9taWQoKToNCiAgICAgICAgIyAgICAgcGlwZWxpbmVfbGVhZigpDQogICAgICAgICMgICAgIHBpcGVsaW5lX2xlYWYoKQ0KICAgICAgICAjDQogICAgICAgICMgQGRzbC5waXBlbGluZQ0KICAgICAgICAjIGRlZiBwaXBlbGluZV9yb290KCk6DQogICAgICAgICMgICAgIHBpcGVsaW5lX21pZCgpDQogICAgICAgICMgICAgIHBpcGVsaW5lX21pZCgpDQoNCiAgICAgICAgcmV0dXJuIHBpcGVsaW5lX2xlYWYNCg0KICAgIGRlZiB0ZXN0X2RzbF9waXBlbGluZV9zd2VlcF9ub2RlKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdKSAtPiBOb25lOg0KICAgICAgICB5YW1sX2ZpbGUgPSAiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQoNCiAgICAgICAgQGRzbC5waXBlbGluZQ0KICAgICAgICBkZWYgdHJhaW5fd2l0aF9zd2VlcF9pbl9waXBlbGluZShyYXdfZGF0YSwgcHJpbWFyeV9tZXRyaWM6IHN0ciA9ICJBVUMiLCBtYXhfdG90YWxfdHJpYWxzOiBpbnQgPSAxMCk6DQogICAgICAgICAgICBjb21wb25lbnRfdG9fc3dlZXA6IENvbW1hbmRDb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9eWFtbF9maWxlKQ0KICAgICAgICAgICAgIyB0byBjaGVjayB0aGUgbG9naWMgdG8gc2V0IGRlZmF1bHQgZGlzcGxheSBuYW1lIGZvciBjb21wb25lbnRzDQogICAgICAgICAgICBjb21wb25lbnRfdG9fc3dlZXAuZGlzcGxheV9uYW1lID0gTm9uZQ0KDQogICAgICAgICAgICBjbWRfbm9kZTE6IENvbW1hbmQgPSBjb21wb25lbnRfdG9fc3dlZXAoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj1DaG9pY2UoWzIsIDMsIDQsIDVdKSwgY29tcG9uZW50X2luX3BhdGg9cmF3X2RhdGENCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgc3dlZXBfam9iMTogU3dlZXAgPSBjbWRfbm9kZTEuc3dlZXAoDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9IkFVQyIsICAjIHByaW1hcnlfbWV0cmljLA0KICAgICAgICAgICAgICAgIGdvYWw9Im1heGltaXplIiwNCiAgICAgICAgICAgICAgICBzYW1wbGluZ19hbGdvcml0aG09InJhbmRvbSIsDQogICAgICAgICAgICApDQogICAgICAgICAgICBzd2VlcF9qb2IxLmNvbXB1dGUgPSAiZ3B1LWNsdXN0ZXIiDQogICAgICAgICAgICBzd2VlcF9qb2IxLnNldF9saW1pdHMobWF4X3RvdGFsX3RyaWFscz0xMCkgICMgbWF4X3RvdGFsX3RyaWFscw0KDQogICAgICAgICAgICBjbWRfbm9kZTI6IENvbW1hbmQgPSBjb21wb25lbnRfdG9fc3dlZXAoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj1DaG9pY2UoWzIsIDMsIDQsIDVdKSwgY29tcG9uZW50X2luX3BhdGg9cmF3X2RhdGENCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHN3ZWVwX2pvYjI6IFN3ZWVwID0gY21kX25vZGUyLnN3ZWVwKA0KICAgICAgICAgICAgICAgIHByaW1hcnlfbWV0cmljPSJBVUMiLA0KICAgICAgICAgICAgICAgIGdvYWw9Im1pbmltaXplIiwNCiAgICAgICAgICAgICAgICBzYW1wbGluZ19hbGdvcml0aG09InJhbmRvbSIsDQogICAgICAgICAgICAgICAgbWF4X3RvdGFsX3RyaWFscz0xMCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHN3ZWVwX2pvYjIuY29tcHV0ZSA9ICJncHUtY2x1c3RlciINCg0KICAgICAgICAgICAgc3dlZXBfam9iMzogU3dlZXAgPSBjb21wb25lbnRfdG9fc3dlZXAoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj1DaG9pY2UoWzIsIDMsIDQsIDVdKSwgY29tcG9uZW50X2luX3BhdGg9cmF3X2RhdGENCiAgICAgICAgICAgICkuc3dlZXAoDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9ImFjY3VyYWN5IiwNCiAgICAgICAgICAgICAgICBnb2FsPSJtYXhpbWl6ZSIsDQogICAgICAgICAgICAgICAgc2FtcGxpbmdfYWxnb3JpdGhtPSJyYW5kb20iLA0KICAgICAgICAgICAgICAgIG1heF90b3RhbF90cmlhbHM9MTAsDQogICAgICAgICAgICApDQoNCiAgICAgICAgICAgIGNvbXBvbmVudF90b19saW5rID0gbG9hZF9jb21wb25lbnQoc291cmNlPXlhbWxfZmlsZSwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiAibm9kZV90b19saW5rIn1dKQ0KICAgICAgICAgICAgbGlua19ub2RlID0gY29tcG9uZW50X3RvX2xpbmsoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj0yLCBjb21wb25lbnRfaW5fcGF0aD1zd2VlcF9qb2IxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoDQogICAgICAgICAgICApDQoNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl9iZXN0X21vZGVsMSI6IHN3ZWVwX2pvYjEub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl9iZXN0X21vZGVsMiI6IHN3ZWVwX2pvYjIub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl9iZXN0X21vZGVsMyI6IHN3ZWVwX2pvYjMub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICAgICAgInBpcGVsaW5lX21vZGVsX3Rlc3RfcmVzdWx0IjogbGlua19ub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgfQ0KDQogICAgICAgIHBpcGVsaW5lOiBQaXBlbGluZUpvYiA9IHRyYWluX3dpdGhfc3dlZXBfaW5fcGlwZWxpbmUoDQogICAgICAgICAgICByYXdfZGF0YT1qb2JfaW5wdXQsIG1heF90b3RhbF90cmlhbHM9MTAwLCBwcmltYXJ5X21ldHJpYz0iYWNjdXJhY3kiDQogICAgICAgICkNCiAgICAgICAgcGlwZWxpbmUuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICBjcmVhdGVkX3BpcGVsaW5lID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCiAgICAgICAgbmFtZSwgdmVyc2lvbiA9IGNyZWF0ZWRfcGlwZWxpbmUuam9ic1sic3dlZXBfam9iMSJdLnRyaWFsLnNwbGl0KCI6IikNCiAgICAgICAgY3JlYXRlZF9jb21wb25lbnQgPSBjbGllbnQuY29tcG9uZW50cy5nZXQobmFtZSwgdmVyc2lvbikNCiAgICAgICAgIyBrZWVwIG9yaWdpbmFsIGNvbXBvbmVudCBkaXNwbGF5IG5hbWUgdG8gZ3VhcmFudGVlIHJldXNlDQogICAgICAgIGFzc2VydCBjcmVhdGVkX2NvbXBvbmVudC5kaXNwbGF5X25hbWUgaXMgTm9uZQ0KDQogICAgZGVmIHRlc3RfZHNsX3BpcGVsaW5lX2NvbXBvbmVudF9jYWNoZV9pbl9yZXNvbHZlcihzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBpbnB1dF9kYXRhX3BhdGggPSAiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YS8iDQogICAgICAgIHBpcGVsaW5lX3Jvb3QgPSBzZWxmLl9nZW5lcmF0ZV9tdWx0aV9sYXllcl9waXBlbGluZV9mdW5jKCkNCg0KICAgICAgICBfc3VibWl0X2FuZF9jYW5jZWwgPSBwYXJ0aWFsKA0KICAgICAgICAgICAgc3VibWl0X2FuZF9jYW5jZWxfbmV3X2RzbF9waXBlbGluZSwgY2xpZW50PWNsaWVudCwgam9iX2luX3BhdGg9SW5wdXQocGF0aD1pbnB1dF9kYXRhX3BhdGgpDQogICAgICAgICkNCg0KICAgICAgICBkZWYgX21vY2tfZ2V0X2NvbXBvbmVudF9hcm1faWQoX2NvbXBvbmVudDogQ29tcG9uZW50KSAtPiBzdHI6DQogICAgICAgICAgICAjIHRoZSBsb2dpYyBoYXMgbm8gZGlmZiBjb21wYXJpbmcgdG8gb3JpZ2luYWwgZnVuY3Rpb24gb3RoZXIgdGhhbiBhbHdheXMgdXNpbmcgc2hvd19wcm9ncmVzcz1GYWxzZQ0KICAgICAgICAgICAgIyBqdXN0IHRvIG1vY2sgdGhlIGZ1bmN0aW9uIGFuZCBjaGVjayBjYWxsIGluZm9ybWF0aW9uDQogICAgICAgICAgICBpZiBub3QgX2NvbXBvbmVudC5pZDoNCiAgICAgICAgICAgICAgICBfY29tcG9uZW50Ll9pZCA9IGNsaWVudC5jb21wb25lbnRzLmNyZWF0ZV9vcl91cGRhdGUoDQogICAgICAgICAgICAgICAgICAgIF9jb21wb25lbnQsIGlzX2Fub255bW91cz1UcnVlLCBzaG93X3Byb2dyZXNzPUZhbHNlDQogICAgICAgICAgICAgICAgKS5pZA0KICAgICAgICAgICAgcmV0dXJuIF9jb21wb25lbnQuaWQNCg0KICAgICAgICB3aXRoIG1vY2sucGF0Y2gub2JqZWN0KA0KICAgICAgICAgICAgT3BlcmF0aW9uT3JjaGVzdHJhdG9yLCAiX2dldF9jb21wb25lbnRfYXJtX2lkIiwgc2lkZV9lZmZlY3Q9X21vY2tfZ2V0X2NvbXBvbmVudF9hcm1faWQNCiAgICAgICAgKSBhcyBtb2NrX3Jlc29sdmU6DQogICAgICAgICAgICBfc3VibWl0X2FuZF9jYW5jZWwocGlwZWxpbmVfcm9vdCkNCiAgICAgICAgICAgICMgcGlwZWxpbmVfbGVhZiwgcGlwZWxpbmVfbWlkIGFuZCAzIGNvbW1hbmQgY29tcG9uZW50cyB3aWxsIGJlIHJlc29sdmVkDQogICAgICAgICAgICBhc3NlcnQgbW9ja19yZXNvbHZlLmNhbGxfY291bnQgPT0gNQ0KDQogICAgICAgIHdpdGggbW9jay5wYXRjaC5vYmplY3QoDQogICAgICAgICAgICBPcGVyYXRpb25PcmNoZXN0cmF0b3IsICJfZ2V0X2NvbXBvbmVudF9hcm1faWQiLCBzaWRlX2VmZmVjdD1fbW9ja19nZXRfY29tcG9uZW50X2FybV9pZA0KICAgICAgICApIGFzIG1vY2tfcmVzb2x2ZToNCiAgICAgICAgICAgIF9zdWJtaXRfYW5kX2NhbmNlbChwaXBlbGluZV9yb290KQ0KICAgICAgICAgICAgIyBubyBtb3JlIHJlcXVlc3RzIHRvIHJlc29sdmUgY29tcG9uZW50cyBhcyBsb2NhbCBjYWNoZSBpcyBoaXQNCiAgICAgICAgICAgIGFzc2VydCBtb2NrX3Jlc29sdmUuY2FsbF9jb3VudCA9PSAwDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gcGlwZWxpbmVfcm9vdChqb2JfaW5fcGF0aD1JbnB1dChwYXRoPWlucHV0X2RhdGFfcGF0aCkpDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQogICAgICAgIGxlYWZfc3ViZ3JhcGggPSBwaXBlbGluZV9qb2Iuam9ic1sicGlwZWxpbmVfbWlkIl0uY29tcG9uZW50LmpvYnNbInBpcGVsaW5lX2xlYWYiXS5jb21wb25lbnQNCiAgICAgICAgbGVhZl9zdWJncmFwaC5qb2JzWyJhbm90aGVyX2NvbXBvbmVudF9uYW1lIl0uY29tcG9uZW50LmNvbW1hbmQgKz0gIiAmIGVjaG8gdXBkYXRlZDIiDQogICAgICAgIHdpdGggbW9jay5wYXRjaC5vYmplY3QoDQogICAgICAgICAgICBPcGVyYXRpb25PcmNoZXN0cmF0b3IsICJfZ2V0X2NvbXBvbmVudF9hcm1faWQiLCBzaWRlX2VmZmVjdD1fbW9ja19nZXRfY29tcG9uZW50X2FybV9pZA0KICAgICAgICApIGFzIG1vY2tfcmVzb2x2ZToNCiAgICAgICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KICAgICAgICAgICAgIyB1cGRhdGVkIGNvbW1hbmQgY29tcG9uZW50IGFuZCBpdHMgcGFyZW50cyAocGlwZWxpbmVfbGVhZiBhbmQgcGlwZWxpbmVfbWlkKSB3aWxsIGJlIHJlc29sdmVkDQogICAgICAgICAgICBhc3NlcnQgbW9ja19yZXNvbHZlLmNhbGxfY291bnQgPT0gMw0KDQogICAgZGVmIHRlc3RfZHNsX3BpcGVsaW5lX2NvbmN1cnJlbnRfY29tcG9uZW50X3JlZ2lzdHJhdGlvbihzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCBtb2NrZXI6IE1vY2tGaXh0dXJlKSAtPiBOb25lOg0KICAgICAgICAjIGRpc2FibGUgb24tZGlzayBjYWNoZSB0byB0ZXN0IGNvbmN1cnJlbnQgY29tcG9uZW50IHJlZ2lzdHJhdGlvbg0KICAgICAgICBtb2NrZXIucGF0Y2goImF6dXJlLmFpLm1sLl91dGlscy51dGlscy5pc19vbl9kaXNrX2NhY2hlX2VuYWJsZWQiLCByZXR1cm5fdmFsdWU9RmFsc2UpDQoNCiAgICAgICAgaW5wdXRfZGF0YV9wYXRoID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2RhdGEvIg0KICAgICAgICBwaXBlbGluZV9yb290ID0gc2VsZi5fZ2VuZXJhdGVfcGlwZWxpbmVfZnVuY19mb3JfY29uY3VycmVudF9jb21wb25lbnRfcmVnaXN0cmF0aW9uX3Rlc3QoDQogICAgICAgICAgICBzaGFyZWRfaW5wdXQ9SW5wdXQocGF0aD1pbnB1dF9kYXRhX3BhdGgpDQogICAgICAgICkNCg0KICAgICAgICBfc3VibWl0X2FuZF9jYW5jZWwgPSBwYXJ0aWFsKA0KICAgICAgICAgICAgc3VibWl0X2FuZF9jYW5jZWxfbmV3X2RzbF9waXBlbGluZSwNCiAgICAgICAgICAgIGNsaWVudD1jbGllbnQsDQogICAgICAgICkNCg0KICAgICAgICB0cmVhdG1lbnRfcGlwZWxpbmVfam9iID0gX3N1Ym1pdF9hbmRfY2FuY2VsKHBpcGVsaW5lX3Jvb3QpDQoNCiAgICAgICAgd2l0aCBtb2NrLnBhdGNoKCJhenVyZS5haS5tbC5fdXRpbHMudXRpbHMuaXNfY29uY3VycmVudF9jb21wb25lbnRfcmVnaXN0cmF0aW9uX2VuYWJsZWQiLCByZXR1cm5fdmFsdWU9RmFsc2UpOg0KICAgICAgICAgICAgYmFzZV9waXBlbGluZV9qb2IgPSBfc3VibWl0X2FuZF9jYW5jZWwocGlwZWxpbmVfcm9vdCkNCg0KICAgICAgICAjIFNlcnZlci1zaWRlIGRvZXMgbm90IGd1YXJhbnRlZSB0aGUgc2FtZSBhbm9ueW1vdXMgcGlwZWxpbmUgY29tcG9uZW50IHNoYXJlIHRoZSBzYW1lIHZlcnNpb24NCiAgICAgICAgIyBTbyBvbWl0IG5hbWUgYW5kIHZlcnNpb24gYW5kIGRvIGNvbXBhcmlzb24gbGF5ZXIgYnkgbGF5ZXINCiAgICAgICAgb21pdF9maWVsZHMgPSBbImlkIiwgIm5hbWUiLCAidmVyc2lvbiIsICJjcmVhdGlvbl9jb250ZXh0IiwgInNlcnZpY2VzIiwgImpvYnMuKi5jb21wb25lbnQiXQ0KDQogICAgICAgIGJhc2UsIHRyZWF0ID0gYmFzZV9waXBlbGluZV9qb2IsIHRyZWF0bWVudF9waXBlbGluZV9qb2INCiAgICAgICAgIyBUT0RPOiB0ZXN0IHdpdGggbXVsdGlwbGUgcGlwZWxpbmVzIGFmdGVyIHNlcnZlci1zaWRlIHJldHVybiBqb2JzIGZvciBwaXBlbGluZSBjb21wb25lbnQNCiAgICAgICAgZm9yIF8gaW4gcmFuZ2UoMCwgMCk6DQogICAgICAgICAgICBhc3NlcnQgb21pdF93aXRoX3dpbGRjYXJkKGJhc2UuX3RvX2RpY3QoKSwgKm9taXRfZmllbGRzKSA9PSBvbWl0X3dpdGhfd2lsZGNhcmQoDQogICAgICAgICAgICAgICAgdHJlYXQuX3RvX2RpY3QoKSwgKm9taXRfZmllbGRzDQogICAgICAgICAgICApDQogICAgICAgICAgICBiYXNlID0gX2dldF9jb21wb25lbnRfaW5fZmlyc3RfY2hpbGQoYmFzZSwgY2xpZW50KQ0KICAgICAgICAgICAgdHJlYXQgPSBfZ2V0X2NvbXBvbmVudF9pbl9maXJzdF9jaGlsZCh0cmVhdCwgY2xpZW50KQ0KDQogICAgICAgICMgVGhlIGxhc3QgbGF5ZXIgY29udGFpbnMgdGhlIGNvbW1hbmQgY29tcG9uZW50cw0KICAgICAgICBvbWl0X2ZpZWxkcy5wb3AoKQ0KICAgICAgICBhc3NlcnQgb21pdF93aXRoX3dpbGRjYXJkKGJhc2UuX3RvX2RpY3QoKSwgKm9taXRfZmllbGRzKSA9PSBvbWl0X3dpdGhfd2lsZGNhcmQodHJlYXQuX3RvX2RpY3QoKSwgKm9taXRfZmllbGRzKQ0KDQogICAgQHB5dGVzdC5tYXJrLnBhcmFtZXRyaXplKA0KICAgICAgICAiZ3JvdXBfcGFyYW1faW5wdXQsIHVzZV9yZW1vdGVfY29tcG9uZW50IiwNCiAgICAgICAgWw0KICAgICAgICAgICAgcHl0ZXN0LnBhcmFtKA0KICAgICAgICAgICAgICAgIEdyb3VwKA0KICAgICAgICAgICAgICAgICAgICBudW1iZXI9MS4wLA0KICAgICAgICAgICAgICAgICAgICBzdWIxPVN1Ykdyb3VwKGludGVnZXI9MSksDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICBGYWxzZSwNCiAgICAgICAgICAgICAgICBpZD0ic3Ryb25nLXR5cGVkLWdyb3VwIiwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBweXRlc3QucGFyYW0oDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAibnVtYmVyIjogMS4wLA0KICAgICAgICAgICAgICAgICAgICAic3ViMSI6IHsiaW50ZWdlciI6IDF9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgRmFsc2UsDQogICAgICAgICAgICAgICAgaWQ9ImRpY3QtZ3JvdXAiLA0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIHB5dGVzdC5wYXJhbSgNCiAgICAgICAgICAgICAgICBHcm91cCgNCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyPTEuMCwNCiAgICAgICAgICAgICAgICAgICAgc3ViMT1TdWJHcm91cChpbnRlZ2VyPTEpLA0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgVHJ1ZSwNCiAgICAgICAgICAgICAgICBpZD0ic3Ryb25nLXR5cGVkLWdyb3VwLXJlbW90ZSIsDQogICAgICAgICAgICApLA0KICAgICAgICAgICAgcHl0ZXN0LnBhcmFtKA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIm51bWJlciI6IDEuMCwNCiAgICAgICAgICAgICAgICAgICAgInN1YjEiOiB7ImludGVnZXIiOiAxfSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIFRydWUsDQogICAgICAgICAgICAgICAgaWQ9ImRpY3QtZ3JvdXAtcmVtb3RlIiwNCiAgICAgICAgICAgICksDQogICAgICAgIF0sDQogICAgKQ0KICAgIGRlZiB0ZXN0X2RzbF9waXBlbGluZV93aXRoX3BhcmFtX2dyb3VwX2luX2NvbW1hbmRfY29tcG9uZW50KA0KICAgICAgICBzZWxmLA0KICAgICAgICBjbGllbnQsDQogICAgICAgIGdyb3VwX3BhcmFtX2lucHV0LA0KICAgICAgICB1c2VfcmVtb3RlX2NvbXBvbmVudDogYm9vbCwNCiAgICAgICAgcmFuZHN0cjogQ2FsbGFibGVbW3N0cl0sIHN0cl0sDQogICAgKToNCiAgICAgICAgY29tbWFuZF9mdW5jID0gbG9hZF9jb21wb25lbnQoIi4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnRfd2l0aF9wYXJhbWV0ZXJfZ3JvdXAueW1sIikNCiAgICAgICAgaW5wdXRfZGF0YV9wYXRoID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2RhdGEvIg0KDQogICAgICAgIGlmIHVzZV9yZW1vdGVfY29tcG9uZW50Og0KICAgICAgICAgICAgY29tbWFuZF9mdW5jLm5hbWUgPSByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpDQogICAgICAgICAgICBjb21tYW5kX2Z1bmMgPSBjbGllbnQuY29tcG9uZW50cy5jcmVhdGVfb3JfdXBkYXRlKA0KICAgICAgICAgICAgICAgIGNvbW1hbmRfZnVuYywNCiAgICAgICAgICAgICkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2NvbW1hbmQoaW5wdXRfZGF0YSk6DQogICAgICAgICAgICBjb21tYW5kX25vZGUgPSBjb21tYW5kX2Z1bmMoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9aW5wdXRfZGF0YSwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fZ3JvdXA9Z3JvdXBfcGFyYW1faW5wdXQsDQogICAgICAgICAgICApDQogICAgICAgICAgICByZXR1cm4gY29tbWFuZF9ub2RlLm91dHB1dHMNCg0KICAgICAgICBwaXBlbGluZTogUGlwZWxpbmVKb2IgPSBwaXBlbGluZV93aXRoX2NvbW1hbmQoDQogICAgICAgICAgICBpbnB1dF9kYXRhPUlucHV0KA0KICAgICAgICAgICAgICAgIHBhdGg9aW5wdXRfZGF0YV9wYXRoLA0KICAgICAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5VUklfRk9MREVSLA0KICAgICAgICAgICAgKSwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZS5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQogICAgICAgIGNyZWF0ZWRfcGlwZWxpbmUgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KICAgICAgICBhc3NlcnQgY3JlYXRlZF9waXBlbGluZS5qb2JzWyJjb21tYW5kX25vZGUiXS5fdG9fcmVzdF9pbnB1dHMoKSA9PSB7DQogICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5pbnB1dF9kYXRhfX0ifSwNCiAgICAgICAgICAgICJjb21wb25lbnRfaW5fZ3JvdXAubnVtYmVyIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjEuMCJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9pbl9ncm91cC5zdWIxLmludGVnZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9LA0KICAgICAgICB9DQoNCiAgICBAcHl0ZXN0Lm1hcmsuc2tpcGlmKG5vdCBpc19saXZlKCksIHJlYXNvbj0iTWV0IHNvbWUgcHJvYmxlbSBpbiByZWNvcmRpbmciKQ0KICAgIGRlZiB0ZXN0X2RzbF9waXBlbGluZV9jb21wb25lbnRfd2l0aF9zdGF0aWNfbG9jYWxfZGF0YV9pbnB1dChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBwYXRoID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnQueW1sIg0KICAgICAgICBpbnB1dF9kYXRhX3BhdGggPSAiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YS8iDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiBwaXBlbGluZV9ub19hcmcoKToNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhdGgpDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aD1JbnB1dCgNCiAgICAgICAgICAgICAgICAgICAgcGF0aD1pbnB1dF9kYXRhX3BhdGgsDQogICAgICAgICAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5VUklfRk9MREVSLA0KICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj0xLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUNCiAgICAgICAgZGVmIHBpcGVsaW5lX2Z1bmMoKToNCiAgICAgICAgICAgIHBpcGVsaW5lX25vX2FyZygpDQoNCiAgICAgICAgcGlwZWxpbmVfam9iOiBQaXBlbGluZUpvYiA9IHBpcGVsaW5lX2Z1bmMoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lX2pvYikNCg==",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "0zrIgAIcdsdL5/d+qWPVyQ==",
        "Date": "Tue, 18 Mar 2025 11:30:20 GMT",
        "ETag": "\"0x8DD6610445C38BF\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "dy8lvOImOJs=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_automl_dsl_pipeline.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "37046",
        "Content-MD5": "3+kIw2DCmQNLqUlerPcLQA==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "ZnJvbSBwYXRobGliIGltcG9ydCBQYXRoDQoNCmltcG9ydCBweWRhc2gNCmltcG9ydCBweXRlc3QNCmZyb20gZGV2dG9vbHNfdGVzdHV0aWxzIGltcG9ydCBBenVyZVJlY29yZGVkVGVzdENhc2UNCmZyb20gdGVzdF91dGlsaXRpZXMudXRpbHMgaW1wb3J0IGNhbmNlbF9qb2IsIGdldF9hdXRvbWxfam9iX3Byb3BlcnRpZXMNCg0KZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgSW5wdXQsIE1MQ2xpZW50LCBhdXRvbWwsIGRzbCwgT3V0cHV0DQpmcm9tIGF6dXJlLmFpLm1sLmF1dG9tbCBpbXBvcnQgKA0KICAgIGNsYXNzaWZpY2F0aW9uLA0KICAgIGZvcmVjYXN0aW5nLA0KICAgIHJlZ3Jlc3Npb24sDQogICAgdGV4dF9jbGFzc2lmaWNhdGlvbiwNCiAgICB0ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWwsDQogICAgdGV4dF9uZXIsDQopDQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fY29tbW9uIGltcG9ydCBBc3NldFR5cGVzDQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzIGltcG9ydCBQaXBlbGluZUpvYg0KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmF1dG9tbCBpbXBvcnQgU2VhcmNoU3BhY2UNCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5hdXRvbWwubmxwIGltcG9ydCBObHBGZWF0dXJpemF0aW9uU2V0dGluZ3MNCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMuX2pvYi5hdXRvbWwudGFidWxhciBpbXBvcnQgVGFidWxhckZlYXR1cml6YXRpb25TZXR0aW5ncw0KZnJvbSBhenVyZS5haS5tbC5lbnRpdGllcy5fam9iLmF1dG9tbC50YWJ1bGFyLmZvcmVjYXN0aW5nX3NldHRpbmdzIGltcG9ydCBGb3JlY2FzdGluZ1NldHRpbmdzDQpmcm9tIGF6dXJlLmFpLm1sLnN3ZWVwIGltcG9ydCBCYW5kaXRQb2xpY3ksIENob2ljZSwgVW5pZm9ybQ0KDQp0ZXN0c19yb290X2RpciA9IFBhdGgoX19maWxlX18pLnBhcmVudC5wYXJlbnQucGFyZW50DQoNCiMgZGVjbGFyZSB2YXJpYWJsZXMgZm9yIGNvbXB1dGUsIHNvIHRoYXQgd2UgY2FuIGVhc2lseSBjaGFuZ2UgdGhlbSBsYXRlcg0KQ1BVX0NMVVNURVIgPSAiY3B1LWNsdXN0ZXIiDQpHUFVfQ0xVU1RFUiA9ICJncHUtY2x1c3RlciINCg0KDQpAcHl0ZXN0Lm1hcmsudXNlZml4dHVyZXMoDQogICAgImVuYWJsZV9lbnZpcm9ubWVudF9pZF9hcm1fZXhwYW5zaW9uIiwNCiAgICAiZW5hYmxlX3BpcGVsaW5lX3ByaXZhdGVfcHJldmlld19mZWF0dXJlcyIsDQogICAgIm1vY2tfY29kZV9oYXNoIiwNCiAgICAibW9ja19jb21wb25lbnRfaGFzaCIsDQogICAgIm1vY2tfc2V0X2hlYWRlcnNfd2l0aF91c2VyX2FtbF90b2tlbiIsDQogICAgInJlY29yZGVkX3Rlc3QiLA0KKQ0KQHB5dGVzdC5tYXJrLmF1dG9tbGUyZXRlc3QNCkBweXRlc3QubWFyay5waXBlbGluZV90ZXN0DQpjbGFzcyBUZXN0QXV0b21sRFNMUGlwZWxpbmUoQXp1cmVSZWNvcmRlZFRlc3RDYXNlKToNCiAgICBkZWYgdGVzdF9hdXRvbWxfY2xhc3NpZmljYXRpb25faW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fYXV0b21sX2NsYXNzaWZpY2F0aW9uX2luX3BpcGVsaW5lIikNCiAgICAgICAgZGVmIHRyYWluX2F1dG9tbF9jbGFzc2lmaWNhdGlvbl9pbl9waXBlbGluZSgNCiAgICAgICAgICAgIGNsYXNzX3RyYWluX2RhdGEsDQogICAgICAgICAgICBjbGFzc192YWxpZF9kYXRhLA0KICAgICAgICApOg0KICAgICAgICAgICAgY2xhc3NpZmljYXRpb25fbm9kZSA9IGNsYXNzaWZpY2F0aW9uKA0KICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGE9Y2xhc3NfdHJhaW5fZGF0YSwNCiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX2RhdGE9Y2xhc3NfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0ZXN0X2RhdGE9Y2xhc3NfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9InkiLA0KICAgICAgICAgICAgICAgIHByaW1hcnlfbWV0cmljPSJhY2N1cmFjeSIsDQogICAgICAgICAgICAgICAgZmVhdHVyaXphdGlvbj1UYWJ1bGFyRmVhdHVyaXphdGlvblNldHRpbmdzKG1vZGU9IkF1dG8iKSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uX25vZGUuc2V0X2xpbWl0cyhtYXhfdHJpYWxzPTEpDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlLnNldF90cmFpbmluZyhlbmFibGVfc3RhY2tfZW5zZW1ibGU9RmFsc2UsIGVuYWJsZV92b3RlX2Vuc2VtYmxlPUZhbHNlKQ0KDQogICAgICAgIGNsYXNzX3RyYWluID0gSW5wdXQoDQogICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgIHBhdGg9dGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2F1dG9tbF9qb2IvdGVzdF9kYXRhc2V0cy9iYW5rX21hcmtldGluZy90cmFpbiIsDQogICAgICAgICkNCiAgICAgICAgY2xhc3NfdmFsaWQgPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD10ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvYXV0b21sX2pvYi90ZXN0X2RhdGFzZXRzL2JhbmtfbWFya2V0aW5nL3ZhbGlkIiwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYjogUGlwZWxpbmVKb2IgPSB0cmFpbl9hdXRvbWxfY2xhc3NpZmljYXRpb25faW5fcGlwZWxpbmUoY2xhc3NfdHJhaW4sIGNsYXNzX3ZhbGlkKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gQ1BVX0NMVVNURVINCg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICBjbGFzc2lmaWNhdGlvbl9kaWN0ID0gcHlkYXNoLm9taXQoYWN0dWFsX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdWyJjbGFzc2lmaWNhdGlvbl9ub2RlIl0sIGZpZWxkc190b19vbWl0KQ0KICAgICAgICBhc3NlcnQgY2xhc3NpZmljYXRpb25fZGljdCA9PSB7DQogICAgICAgICAgICAidGVzdF9kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMuY2xhc3NfdmFsaWRfZGF0YX19IiwNCiAgICAgICAgICAgICJ2YWxpZGF0aW9uX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy5jbGFzc192YWxpZF9kYXRhfX0iLA0KICAgICAgICAgICAgInRyYWluaW5nX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy5jbGFzc190cmFpbl9kYXRhfX0iLA0KICAgICAgICAgICAgInRhcmdldF9jb2x1bW5fbmFtZSI6ICJ5IiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJsb2dfdmVyYm9zaXR5IjogImluZm8iLA0KICAgICAgICAgICAgImxpbWl0cyI6IHsibWF4X3RyaWFscyI6IDF9LA0KICAgICAgICAgICAgImZlYXR1cml6YXRpb24iOiB7Im1vZGUiOiAiYXV0byJ9LA0KICAgICAgICAgICAgInRyYWluaW5nIjogeyJlbmFibGVfc3RhY2tfZW5zZW1ibGUiOiBGYWxzZSwgImVuYWJsZV92b3RlX2Vuc2VtYmxlIjogRmFsc2V9LA0KICAgICAgICAgICAgInRhc2siOiAiY2xhc3NpZmljYXRpb24iLA0KICAgICAgICAgICAgInByaW1hcnlfbWV0cmljIjogImFjY3VyYWN5IiwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfcmVnaXN0ZXJfb3V0cHV0X2Zvcl9hdXRvbWxfY2xhc3NpZmljYXRpb24oc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fYXV0b21sX2NsYXNzaWZpY2F0aW9uX2luX3BpcGVsaW5lIikNCiAgICAgICAgZGVmIHRyYWluX2F1dG9tbF9jbGFzc2lmaWNhdGlvbl9pbl9waXBlbGluZSgNCiAgICAgICAgICAgIGNsYXNzX3RyYWluX2RhdGEsDQogICAgICAgICAgICBjbGFzc192YWxpZF9kYXRhLA0KICAgICAgICApOg0KICAgICAgICAgICAgY2xhc3NpZmljYXRpb25fbm9kZSA9IGNsYXNzaWZpY2F0aW9uKA0KICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGE9Y2xhc3NfdHJhaW5fZGF0YSwNCiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX2RhdGE9Y2xhc3NfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0ZXN0X2RhdGE9Y2xhc3NfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9InkiLA0KICAgICAgICAgICAgICAgIHByaW1hcnlfbWV0cmljPSJhY2N1cmFjeSIsDQogICAgICAgICAgICAgICAgZmVhdHVyaXphdGlvbj1UYWJ1bGFyRmVhdHVyaXphdGlvblNldHRpbmdzKG1vZGU9IkF1dG8iKSwNCiAgICAgICAgICAgICAgICBvdXRwdXRzPXsiYmVzdF9tb2RlbCI6IE91dHB1dCh0eXBlPSJtbGZsb3dfbW9kZWwiKX0sDQogICAgICAgICAgICApDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlLnNldF9saW1pdHMobWF4X3RyaWFscz0xKQ0KICAgICAgICAgICAgY2xhc3NpZmljYXRpb25fbm9kZS5zZXRfdHJhaW5pbmcoZW5hYmxlX3N0YWNrX2Vuc2VtYmxlPUZhbHNlLCBlbmFibGVfdm90ZV9lbnNlbWJsZT1GYWxzZSkNCiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uX25vZGUub3V0cHV0c1siYmVzdF9tb2RlbCJdLm5hbWUgPSAiY2xhc3NpZmljYXRpb25fb3V0cHV0X25hbWUiDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlLm91dHB1dHNbImJlc3RfbW9kZWwiXS52ZXJzaW9uID0gIjEiDQoNCiAgICAgICAgICAgIGNsYXNzaWZpY2F0aW9uX25vZGVfMiA9IGNsYXNzaWZpY2F0aW9uKCAgIyBiaW5kaW5nIHRvIHBpcGVsaW5lIG91dHB1dA0KICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGE9Y2xhc3NfdHJhaW5fZGF0YSwNCiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uX2RhdGE9Y2xhc3NfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0ZXN0X2RhdGE9Y2xhc3NfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9InkiLA0KICAgICAgICAgICAgICAgIHByaW1hcnlfbWV0cmljPSJhY2N1cmFjeSIsDQogICAgICAgICAgICAgICAgZmVhdHVyaXphdGlvbj1UYWJ1bGFyRmVhdHVyaXphdGlvblNldHRpbmdzKG1vZGU9IkF1dG8iKSwNCiAgICAgICAgICAgICAgICBvdXRwdXRzPXsiYmVzdF9tb2RlbCI6IE91dHB1dCh0eXBlPSJtbGZsb3dfbW9kZWwiKX0sDQogICAgICAgICAgICApDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlXzIuc2V0X2xpbWl0cyhtYXhfdHJpYWxzPTEpDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlXzIuc2V0X3RyYWluaW5nKGVuYWJsZV9zdGFja19lbnNlbWJsZT1GYWxzZSwgZW5hYmxlX3ZvdGVfZW5zZW1ibGU9RmFsc2UpDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlXzIub3V0cHV0c1siYmVzdF9tb2RlbCJdLm5hbWUgPSAiY2xhc3NpZmljYXRpb25fb3V0cHV0X25hbWUiDQogICAgICAgICAgICBjbGFzc2lmaWNhdGlvbl9ub2RlXzIub3V0cHV0c1siYmVzdF9tb2RlbCJdLnZlcnNpb24gPSAiMiINCg0KICAgICAgICAgICAgcmV0dXJuIHsiY2xhc3NpZmljYXRpb25fMl9vdXRwdXQiOiBjbGFzc2lmaWNhdGlvbl9ub2RlXzIub3V0cHV0cy5iZXN0X21vZGVsfQ0KDQogICAgICAgIGNsYXNzX3RyYWluID0gSW5wdXQoDQogICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgIHBhdGg9dGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2F1dG9tbF9qb2IvdGVzdF9kYXRhc2V0cy9iYW5rX21hcmtldGluZy90cmFpbiIsDQogICAgICAgICkNCiAgICAgICAgY2xhc3NfdmFsaWQgPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD10ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvYXV0b21sX2pvYi90ZXN0X2RhdGFzZXRzL2JhbmtfbWFya2V0aW5nL3ZhbGlkIiwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYjogUGlwZWxpbmVKb2IgPSB0cmFpbl9hdXRvbWxfY2xhc3NpZmljYXRpb25faW5fcGlwZWxpbmUoY2xhc3NfdHJhaW4sIGNsYXNzX3ZhbGlkKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gQ1BVX0NMVVNURVINCg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICBjbGFzc2lmaWNhdGlvbl9kaWN0ID0gcHlkYXNoLm9taXQoYWN0dWFsX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdWyJjbGFzc2lmaWNhdGlvbl9ub2RlIl0sIGZpZWxkc190b19vbWl0KQ0KICAgICAgICBhc3NlcnQgY2xhc3NpZmljYXRpb25fZGljdCA9PSB7DQogICAgICAgICAgICAidGVzdF9kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMuY2xhc3NfdmFsaWRfZGF0YX19IiwNCiAgICAgICAgICAgICJ2YWxpZGF0aW9uX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy5jbGFzc192YWxpZF9kYXRhfX0iLA0KICAgICAgICAgICAgInRyYWluaW5nX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy5jbGFzc190cmFpbl9kYXRhfX0iLA0KICAgICAgICAgICAgInRhcmdldF9jb2x1bW5fbmFtZSI6ICJ5IiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7DQogICAgICAgICAgICAgICAgImJlc3RfbW9kZWwiOiB7ImpvYl9vdXRwdXRfdHlwZSI6ICJtbGZsb3dfbW9kZWwiLCAibmFtZSI6ICJjbGFzc2lmaWNhdGlvbl9vdXRwdXRfbmFtZSIsICJ2ZXJzaW9uIjogIjEifQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJsb2dfdmVyYm9zaXR5IjogImluZm8iLA0KICAgICAgICAgICAgImxpbWl0cyI6IHsibWF4X3RyaWFscyI6IDF9LA0KICAgICAgICAgICAgImZlYXR1cml6YXRpb24iOiB7Im1vZGUiOiAiYXV0byJ9LA0KICAgICAgICAgICAgInRyYWluaW5nIjogeyJlbmFibGVfc3RhY2tfZW5zZW1ibGUiOiBGYWxzZSwgImVuYWJsZV92b3RlX2Vuc2VtYmxlIjogRmFsc2V9LA0KICAgICAgICAgICAgInRhc2siOiAiY2xhc3NpZmljYXRpb24iLA0KICAgICAgICAgICAgInByaW1hcnlfbWV0cmljIjogImFjY3VyYWN5IiwNCiAgICAgICAgfQ0KDQogICAgICAgIGNsYXNzaWZpY2F0aW9uX2RpY3QgPSBweWRhc2gub21pdCgNCiAgICAgICAgICAgIGFjdHVhbF9kaWN0WyJwcm9wZXJ0aWVzIl1bIm91dHB1dHMiXVsiY2xhc3NpZmljYXRpb25fMl9vdXRwdXQiXSwgZmllbGRzX3RvX29taXQNCiAgICAgICAgKQ0KICAgICAgICBhc3NlcnQgY2xhc3NpZmljYXRpb25fZGljdCA9PSB7DQogICAgICAgICAgICAiYXNzZXRfbmFtZSI6ICJjbGFzc2lmaWNhdGlvbl9vdXRwdXRfbmFtZSIsDQogICAgICAgICAgICAiYXNzZXRfdmVyc2lvbiI6ICIyIiwNCiAgICAgICAgICAgICJqb2Jfb3V0cHV0X3R5cGUiOiAibWxmbG93X21vZGVsIiwNCiAgICAgICAgICAgICJtb2RlIjogIlJlYWRXcml0ZU1vdW50IiwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfYXV0b21sX3JlZ3Jlc3Npb25faW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fYXV0b21sX3JlZ3Jlc3Npb25faW5fcGlwZWxpbmUiKQ0KICAgICAgICBkZWYgdHJhaW5fYXV0b21sX3JlZ3Jlc3Npb25faW5fcGlwZWxpbmUocmVncmVzc2lvbl90cmFpbl9kYXRhKToNCiAgICAgICAgICAgIHJlZ3Jlc3Npb25fbm9kZSA9IHJlZ3Jlc3Npb24oDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9InIyX3Njb3JlIiwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9IkVSUCIsDQogICAgICAgICAgICAgICAgdHJhaW5pbmdfZGF0YT1yZWdyZXNzaW9uX3RyYWluX2RhdGEsDQogICAgICAgICAgICApDQogICAgICAgICAgICByZWdyZXNzaW9uX25vZGUuc2V0X2xpbWl0cyhtYXhfdHJpYWxzPTEpDQogICAgICAgICAgICByZWdyZXNzaW9uX25vZGUuc2V0X3RyYWluaW5nKGVuYWJsZV9zdGFja19lbnNlbWJsZT1GYWxzZSwgZW5hYmxlX3ZvdGVfZW5zZW1ibGU9RmFsc2UpDQogICAgICAgICAgICByZWdyZXNzaW9uX25vZGUuc2V0X2ZlYXR1cml6YXRpb24obW9kZT0iYXV0byIpDQoNCiAgICAgICAgcmVncmVzc2lvbl90cmFpbiA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvbWFjaGluZV9kYXRhL3RyYWluIiwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYjogUGlwZWxpbmVKb2IgPSB0cmFpbl9hdXRvbWxfcmVncmVzc2lvbl9pbl9waXBlbGluZShyZWdyZXNzaW9uX3RyYWluKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gQ1BVX0NMVVNURVINCg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICByZWdyZXNzaW9uX2RpY3QgPSBweWRhc2gub21pdChhY3R1YWxfZGljdFsicHJvcGVydGllcyJdWyJqb2JzIl1bInJlZ3Jlc3Npb25fbm9kZSJdLCBmaWVsZHNfdG9fb21pdCkNCiAgICAgICAgYXNzZXJ0IHJlZ3Jlc3Npb25fZGljdCA9PSB7DQogICAgICAgICAgICAidHJhaW5pbmdfZGF0YSI6ICIke3twYXJlbnQuaW5wdXRzLnJlZ3Jlc3Npb25fdHJhaW5fZGF0YX19IiwNCiAgICAgICAgICAgICJ0YXJnZXRfY29sdW1uX25hbWUiOiAiRVJQIiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJsb2dfdmVyYm9zaXR5IjogImluZm8iLA0KICAgICAgICAgICAgImxpbWl0cyI6IHsibWF4X3RyaWFscyI6IDF9LA0KICAgICAgICAgICAgImZlYXR1cml6YXRpb24iOiB7Im1vZGUiOiAiYXV0byJ9LA0KICAgICAgICAgICAgInRyYWluaW5nIjogeyJlbmFibGVfc3RhY2tfZW5zZW1ibGUiOiBGYWxzZSwgImVuYWJsZV92b3RlX2Vuc2VtYmxlIjogRmFsc2V9LA0KICAgICAgICAgICAgInRhc2siOiAicmVncmVzc2lvbiIsDQogICAgICAgICAgICAicHJpbWFyeV9tZXRyaWMiOiAicjJfc2NvcmUiLA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9hdXRvbWxfZm9yZWNhc3RpbmdfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fd2l0aF9hdXRvbWxfaW5fcGlwZWxpbmUiKQ0KICAgICAgICBkZWYgdHJhaW5fYXV0b21sX2ZvcmVjYXN0aW5nX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgZm9yZWNhc3RpbmdfdHJhaW5fZGF0YSwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGZvcmVjYXN0aW5nX3NldHRpbmdzID0gRm9yZWNhc3RpbmdTZXR0aW5ncyh0aW1lX2NvbHVtbl9uYW1lPSJEQVRFIiwgZm9yZWNhc3RfaG9yaXpvbj0xMiwgZnJlcXVlbmN5PSJNUyIpDQoNCiAgICAgICAgICAgIGZvcmVjYXN0aW5nX25vZGUgPSBmb3JlY2FzdGluZygNCiAgICAgICAgICAgICAgICBwcmltYXJ5X21ldHJpYz0ibm9ybWFsaXplZF9yb290X21lYW5fc3F1YXJlZF9lcnJvciIsDQogICAgICAgICAgICAgICAgdGFyZ2V0X2NvbHVtbl9uYW1lPSJCZWVyUHJvZHVjdGlvbiIsDQogICAgICAgICAgICAgICAgdHJhaW5pbmdfZGF0YT1mb3JlY2FzdGluZ190cmFpbl9kYXRhLA0KICAgICAgICAgICAgICAgIG5fY3Jvc3NfdmFsaWRhdGlvbnM9MiwNCiAgICAgICAgICAgICAgICBmb3JlY2FzdGluZ19zZXR0aW5ncz1mb3JlY2FzdGluZ19zZXR0aW5ncywNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGZvcmVjYXN0aW5nX25vZGUuc2V0X2xpbWl0cyhtYXhfdHJpYWxzPTEpDQogICAgICAgICAgICBmb3JlY2FzdGluZ19ub2RlLnNldF90cmFpbmluZyhlbmFibGVfc3RhY2tfZW5zZW1ibGU9RmFsc2UsIGVuYWJsZV92b3RlX2Vuc2VtYmxlPUZhbHNlKQ0KICAgICAgICAgICAgZm9yZWNhc3Rpbmdfbm9kZS5zZXRfZmVhdHVyaXphdGlvbihtb2RlPSJhdXRvIikNCg0KICAgICAgICBmb3JlY2FzdGluZ190cmFpbiA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvYmVlcl9mb3JlY2FzdGluZy90cmFpbiIsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2I6IFBpcGVsaW5lSm9iID0gdHJhaW5fYXV0b21sX2ZvcmVjYXN0aW5nX2luX3BpcGVsaW5lKGZvcmVjYXN0aW5nX3RyYWluX2RhdGE9Zm9yZWNhc3RpbmdfdHJhaW4pDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSBDUFVfQ0xVU1RFUg0KDQogICAgICAgIGZyb21fcmVzdF9waXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lX2pvYikNCiAgICAgICAgY2FuY2VsX2pvYihjbGllbnQsIGZyb21fcmVzdF9waXBlbGluZV9qb2IpDQoNCiAgICAgICAgYWN0dWFsX2RpY3QgPSBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQ0KICAgICAgICBmaWVsZHNfdG9fb21pdCA9IFsibmFtZSIsICJkaXNwbGF5X25hbWUiLCAiZXhwZXJpbWVudF9uYW1lIiwgInByb3BlcnRpZXMiXQ0KDQogICAgICAgIGZvcmVjYXN0aW5nX2RpY3QgPSBweWRhc2gub21pdChhY3R1YWxfZGljdFsicHJvcGVydGllcyJdWyJqb2JzIl1bImZvcmVjYXN0aW5nX25vZGUiXSwgZmllbGRzX3RvX29taXQpDQogICAgICAgIGFzc2VydCBmb3JlY2FzdGluZ19kaWN0ID09IHsNCiAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMuZm9yZWNhc3RpbmdfdHJhaW5fZGF0YX19IiwNCiAgICAgICAgICAgICJuX2Nyb3NzX3ZhbGlkYXRpb25zIjogMiwNCiAgICAgICAgICAgICJ0YXJnZXRfY29sdW1uX25hbWUiOiAiQmVlclByb2R1Y3Rpb24iLA0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJ0eXBlIjogImF1dG9tbCIsDQogICAgICAgICAgICAib3V0cHV0cyI6IHt9LA0KICAgICAgICAgICAgImxvZ192ZXJib3NpdHkiOiAiaW5mbyIsDQogICAgICAgICAgICAibGltaXRzIjogeyJtYXhfdHJpYWxzIjogMX0sDQogICAgICAgICAgICAiZmVhdHVyaXphdGlvbiI6IHsibW9kZSI6ICJhdXRvIn0sDQogICAgICAgICAgICAidHJhaW5pbmciOiB7ImVuYWJsZV9zdGFja19lbnNlbWJsZSI6IEZhbHNlLCAiZW5hYmxlX3ZvdGVfZW5zZW1ibGUiOiBGYWxzZX0sDQogICAgICAgICAgICAidGFzayI6ICJmb3JlY2FzdGluZyIsDQogICAgICAgICAgICAiZm9yZWNhc3RpbmciOiB7ImZvcmVjYXN0X2hvcml6b24iOiAxMiwgInRpbWVfY29sdW1uX25hbWUiOiAiREFURSIsICJmcmVxdWVuY3kiOiAiTVMifSwNCiAgICAgICAgICAgICJwcmltYXJ5X21ldHJpYyI6ICJub3JtYWxpemVkX3Jvb3RfbWVhbl9zcXVhcmVkX2Vycm9yIiwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfYXV0b21sX3RleHRfY2xhc3NpZmljYXRpb25faW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fYXV0b21sX3RleHRfY2xhc3NfaW5fcGlwZWxpbmUiKQ0KICAgICAgICBkZWYgdHJhaW5fYXV0b21sX3RleHRfY2xhc3NfaW5fcGlwZWxpbmUoDQogICAgICAgICAgICB0ZXh0X2NsYXNzaWZpY2F0aW9uX3RyYWluLA0KICAgICAgICAgICAgdGV4dF9jbGFzc2lmaWNhdGlvbl92YWxpZCwNCiAgICAgICAgKToNCiAgICAgICAgICAgIHRleHRfY2xhc3NpZmljYXRpb25fbm9kZSA9IHRleHRfY2xhc3NpZmljYXRpb24oDQogICAgICAgICAgICAgICAgdHJhaW5pbmdfZGF0YT10ZXh0X2NsYXNzaWZpY2F0aW9uX3RyYWluLA0KICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fZGF0YT10ZXh0X2NsYXNzaWZpY2F0aW9uX3ZhbGlkLA0KICAgICAgICAgICAgICAgIHRhcmdldF9jb2x1bW5fbmFtZT0ieSIsDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9ImFjY3VyYWN5IiwNCiAgICAgICAgICAgICAgICBmZWF0dXJpemF0aW9uPU5scEZlYXR1cml6YXRpb25TZXR0aW5ncyhkYXRhc2V0X2xhbmd1YWdlPSJlbmciKSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHRleHRfY2xhc3NpZmljYXRpb25fbm9kZS5zZXRfbGltaXRzKG1heF9jb25jdXJyZW50X3RyaWFscz0xKQ0KDQogICAgICAgIHRleHRfY2xhc3NpZmljYXRpb25fdHJhaW4gPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD10ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvYXV0b21sX2pvYi90ZXN0X2RhdGFzZXRzL25ld3Nncm91cC90cmFpbiIsDQogICAgICAgICkNCiAgICAgICAgdGV4dF9jbGFzc2lmaWNhdGlvbl92YWxpZCA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvbmV3c2dyb3VwL3ZhbGlkIiwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYjogUGlwZWxpbmVKb2IgPSB0cmFpbl9hdXRvbWxfdGV4dF9jbGFzc19pbl9waXBlbGluZSgNCiAgICAgICAgICAgIHRleHRfY2xhc3NpZmljYXRpb25fdHJhaW4sIHRleHRfY2xhc3NpZmljYXRpb25fdmFsaWQNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gR1BVX0NMVVNURVINCiAgICAgICAgZnJvbV9yZXN0X3BpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfam9iKQ0KICAgICAgICBjYW5jZWxfam9iKGNsaWVudCwgZnJvbV9yZXN0X3BpcGVsaW5lX2pvYikNCg0KICAgICAgICBhY3R1YWxfZGljdCA9IGZyb21fcmVzdF9waXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpDQogICAgICAgIGZpZWxkc190b19vbWl0ID0gWyJuYW1lIiwgImRpc3BsYXlfbmFtZSIsICJleHBlcmltZW50X25hbWUiLCAicHJvcGVydGllcyJdDQoNCiAgICAgICAgam9iX2RpY3QgPSBweWRhc2gub21pdChhY3R1YWxfZGljdFsicHJvcGVydGllcyJdWyJqb2JzIl1bInRleHRfY2xhc3NpZmljYXRpb25fbm9kZSJdLCBmaWVsZHNfdG9fb21pdCkNCiAgICAgICAgYXNzZXJ0IGpvYl9kaWN0ID09IHsNCiAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMudGV4dF9jbGFzc2lmaWNhdGlvbl90cmFpbn19IiwNCiAgICAgICAgICAgICJ2YWxpZGF0aW9uX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy50ZXh0X2NsYXNzaWZpY2F0aW9uX3ZhbGlkfX0iLA0KICAgICAgICAgICAgInRhcmdldF9jb2x1bW5fbmFtZSI6ICJ5IiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJsaW1pdHMiOiB7Im1heF90cmlhbHMiOiAxLCAibWF4X25vZGVzIjogMSwgIm1heF9jb25jdXJyZW50X3RyaWFscyI6IDF9LA0KICAgICAgICAgICAgImZlYXR1cml6YXRpb24iOiB7ImRhdGFzZXRfbGFuZ3VhZ2UiOiAiZW5nIn0sDQogICAgICAgICAgICAidGFzayI6ICJ0ZXh0X2NsYXNzaWZpY2F0aW9uIiwNCiAgICAgICAgICAgICJwcmltYXJ5X21ldHJpYyI6ICJhY2N1cmFjeSIsDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X2F1dG9tbF90ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWxfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fYXV0b21sX3RleHRfY2xhc3NfbXVsdGlsYWJlbF9pbl9waXBlbGluZSIpDQogICAgICAgIGRlZiB0cmFpbl9hdXRvbWxfdGV4dF9jbGFzc19tdWx0aWxhYmVsX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgdGV4dF9jbGFzc2lmaWNhdGlvbl9tdWx0aWxhYmVsX3RyYWluLA0KICAgICAgICAgICAgdGV4dF9jbGFzc2lmaWNhdGlvbl9tdWx0aWxhYmVsX3ZhbGlkLA0KICAgICAgICApOg0KICAgICAgICAgICAgdGV4dF9jbGFzc2lmaWNhdGlvbl9tdWx0aWxhYmVsX25vZGUgPSB0ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWwoDQogICAgICAgICAgICAgICAgdHJhaW5pbmdfZGF0YT10ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWxfdHJhaW4sDQogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9kYXRhPXRleHRfY2xhc3NpZmljYXRpb25fbXVsdGlsYWJlbF92YWxpZCwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9InRlcm1zIiwNCiAgICAgICAgICAgICAgICBwcmltYXJ5X21ldHJpYz0iYWNjdXJhY3kiLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgdGV4dF9jbGFzc2lmaWNhdGlvbl9tdWx0aWxhYmVsX25vZGUuc2V0X2xpbWl0cyhtYXhfY29uY3VycmVudF90cmlhbHM9MSkNCg0KICAgICAgICB0ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWxfdHJhaW4gPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD10ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvYXV0b21sX2pvYi90ZXN0X2RhdGFzZXRzL3BhcGVyX2NhdGVnb3JpemF0aW9uL3RyYWluIiwNCiAgICAgICAgKQ0KDQogICAgICAgIHRleHRfY2xhc3NpZmljYXRpb25fbXVsdGlsYWJlbF92YWxpZCA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvcGFwZXJfY2F0ZWdvcml6YXRpb24vdmFsaWQiLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmVfam9iOiBQaXBlbGluZUpvYiA9IHRyYWluX2F1dG9tbF90ZXh0X2NsYXNzX211bHRpbGFiZWxfaW5fcGlwZWxpbmUoDQogICAgICAgICAgICB0ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWxfdHJhaW4sIHRleHRfY2xhc3NpZmljYXRpb25fbXVsdGlsYWJlbF92YWxpZA0KICAgICAgICApDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSBHUFVfQ0xVU1RFUg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICBqb2JfZGljdCA9IHB5ZGFzaC5vbWl0KGFjdHVhbF9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXVsidGV4dF9jbGFzc2lmaWNhdGlvbl9tdWx0aWxhYmVsX25vZGUiXSwgZmllbGRzX3RvX29taXQpDQogICAgICAgIGFzc2VydCBqb2JfZGljdCA9PSB7DQogICAgICAgICAgICAidHJhaW5pbmdfZGF0YSI6ICIke3twYXJlbnQuaW5wdXRzLnRleHRfY2xhc3NpZmljYXRpb25fbXVsdGlsYWJlbF90cmFpbn19IiwNCiAgICAgICAgICAgICJ2YWxpZGF0aW9uX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy50ZXh0X2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWxfdmFsaWR9fSIsDQogICAgICAgICAgICAidGFyZ2V0X2NvbHVtbl9uYW1lIjogInRlcm1zIiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJsaW1pdHMiOiB7Im1heF90cmlhbHMiOiAxLCAibWF4X25vZGVzIjogMSwgIm1heF9jb25jdXJyZW50X3RyaWFscyI6IDF9LA0KICAgICAgICAgICAgInRhc2siOiAidGV4dF9jbGFzc2lmaWNhdGlvbl9tdWx0aWxhYmVsIiwNCiAgICAgICAgICAgICJwcmltYXJ5X21ldHJpYyI6ICJhY2N1cmFjeSIsDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X2F1dG9tbF90ZXh0X25lcl9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgQGRzbC5waXBlbGluZShuYW1lPSJ0cmFpbl9hdXRvbWxfdGV4dF9uZXJfaW5fcGlwZWxpbmUiKQ0KICAgICAgICBkZWYgdHJhaW5fYXV0b21sX3RleHRfbmVyX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgdGV4dF9uZXJfdHJhaW4sDQogICAgICAgICAgICB0ZXh0X25lcl92YWxpZCwNCiAgICAgICAgKToNCiAgICAgICAgICAgIHRleHRfbmVyX25vZGUgPSB0ZXh0X25lcigNCiAgICAgICAgICAgICAgICB0cmFpbmluZ19kYXRhPXRleHRfbmVyX3RyYWluLA0KICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fZGF0YT10ZXh0X25lcl92YWxpZCwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9ImxhYmVsIiwNCiAgICAgICAgICAgICAgICBwcmltYXJ5X21ldHJpYz0iYWNjdXJhY3kiLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgdGV4dF9uZXJfbm9kZS5zZXRfbGltaXRzKG1heF9jb25jdXJyZW50X3RyaWFscz0xKQ0KDQogICAgICAgIHRleHRfbmVyX3RyYWluID0gSW5wdXQoDQogICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgIHBhdGg9dGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2F1dG9tbF9qb2IvdGVzdF9kYXRhc2V0cy9jb25sbDIwMDMvdHJhaW4iLA0KICAgICAgICApDQogICAgICAgIHRleHRfbmVyX3ZhbGlkID0gSW5wdXQoDQogICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgIHBhdGg9dGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2F1dG9tbF9qb2IvdGVzdF9kYXRhc2V0cy9jb25sbDIwMDMvdmFsaWQiLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmVfam9iOiBQaXBlbGluZUpvYiA9IHRyYWluX2F1dG9tbF90ZXh0X25lcl9pbl9waXBlbGluZSh0ZXh0X25lcl90cmFpbiwgdGV4dF9uZXJfdmFsaWQpDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSBHUFVfQ0xVU1RFUg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICBqb2JfZGljdCA9IHB5ZGFzaC5vbWl0KGFjdHVhbF9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXVsidGV4dF9uZXJfbm9kZSJdLCBmaWVsZHNfdG9fb21pdCkNCiAgICAgICAgYXNzZXJ0IGpvYl9kaWN0ID09IHsNCiAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMudGV4dF9uZXJfdHJhaW59fSIsDQogICAgICAgICAgICAidmFsaWRhdGlvbl9kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMudGV4dF9uZXJfdmFsaWR9fSIsDQogICAgICAgICAgICAidGFyZ2V0X2NvbHVtbl9uYW1lIjogImxhYmVsIiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJsaW1pdHMiOiB7Im1heF90cmlhbHMiOiAxLCAibWF4X25vZGVzIjogMSwgIm1heF9jb25jdXJyZW50X3RyaWFscyI6IDF9LA0KICAgICAgICAgICAgInRhc2siOiAidGV4dF9uZXIiLA0KICAgICAgICAgICAgInByaW1hcnlfbWV0cmljIjogImFjY3VyYWN5IiwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfYXV0b21sX3Zpc2lvbl9tdWx0aWNsYXNzX25vZGVfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fbXVsdGljbGFzc193aXRoX2F1dG9tbF9pbl9waXBlbGluZSIpDQogICAgICAgIGRlZiB0cmFpbl9tdWx0aWNsYXNzX3dpdGhfYXV0b21sX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgaW1hZ2VfbXVsdGljbGFzc190cmFpbl9kYXRhLA0KICAgICAgICAgICAgaW1hZ2VfbXVsdGljbGFzc192YWxpZF9kYXRhLA0KICAgICAgICApOg0KICAgICAgICAgICAgaW1hZ2VfbXVsdGljbGFzc19ub2RlID0gYXV0b21sLmltYWdlX2NsYXNzaWZpY2F0aW9uKA0KICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGE9aW1hZ2VfbXVsdGljbGFzc190cmFpbl9kYXRhLA0KICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fZGF0YT1pbWFnZV9tdWx0aWNsYXNzX3ZhbGlkX2RhdGEsDQogICAgICAgICAgICAgICAgdGFyZ2V0X2NvbHVtbl9uYW1lPSJsYWJlbCIsDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9IkFjY3VyYWN5IiwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX211bHRpY2xhc3Nfbm9kZS5zZXRfbGltaXRzKA0KICAgICAgICAgICAgICAgIHRpbWVvdXRfbWludXRlcz02MCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX211bHRpY2xhc3Nfbm9kZS5leHRlbmRfc2VhcmNoX3NwYWNlKA0KICAgICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbInZpdHMxNnIyMjQiXSksDQogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ19yYXRlPVVuaWZvcm0oMC4wMDEsIDAuMDEpLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICBTZWFyY2hTcGFjZSgNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU9Q2hvaWNlKFsic2VyZXNuZXh0Il0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdfcmF0ZT1Vbmlmb3JtKDAuMDAxLCAwLjAxKSwNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbIm1pY3Jvc29mdC9iZWl0LWJhc2UtcGF0Y2gxNi0yMjQiXSksDQogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ19yYXRlPVVuaWZvcm0oMC4wMDEsIDAuMDEpLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX211bHRpY2xhc3Nfbm9kZS5zZXRfc3dlZXAoDQogICAgICAgICAgICAgICAgc2FtcGxpbmdfYWxnb3JpdGhtPSJSYW5kb20iLA0KICAgICAgICAgICAgICAgIGVhcmx5X3Rlcm1pbmF0aW9uPUJhbmRpdFBvbGljeShldmFsdWF0aW9uX2ludGVydmFsPTIsIHNsYWNrX2ZhY3Rvcj0wLjIsIGRlbGF5X2V2YWx1YXRpb249NiksDQogICAgICAgICAgICApDQogICAgICAgICAgICBpbWFnZV9tdWx0aWNsYXNzX25vZGUuc2V0X2xpbWl0cygNCiAgICAgICAgICAgICAgICBtYXhfdHJpYWxzPTEsDQogICAgICAgICAgICAgICAgbWF4X2NvbmN1cnJlbnRfdHJpYWxzPTEsDQogICAgICAgICAgICApDQoNCiAgICAgICAgbXVsdGljbGFzc190cmFpbiA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvaW1hZ2VfY2xhc3NpZmljYXRpb24vdHJhaW4iLA0KICAgICAgICApDQogICAgICAgIG11bHRpY2xhc3NfdmFsaWQgPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD10ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvYXV0b21sX2pvYi90ZXN0X2RhdGFzZXRzL2ltYWdlX2NsYXNzaWZpY2F0aW9uL3ZhbGlkIiwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYjogUGlwZWxpbmVKb2IgPSB0cmFpbl9tdWx0aWNsYXNzX3dpdGhfYXV0b21sX2luX3BpcGVsaW5lKG11bHRpY2xhc3NfdHJhaW4sIG11bHRpY2xhc3NfdmFsaWQpDQogICAgICAgIHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSBHUFVfQ0xVU1RFUg0KDQogICAgICAgIGZyb21fcmVzdF9waXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lX2pvYikNCiAgICAgICAgY2FuY2VsX2pvYihjbGllbnQsIGZyb21fcmVzdF9waXBlbGluZV9qb2IpDQoNCiAgICAgICAgYWN0dWFsX2RpY3QgPSBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQ0KICAgICAgICBmaWVsZHNfdG9fb21pdCA9IFsibmFtZSIsICJkaXNwbGF5X25hbWUiLCAiZXhwZXJpbWVudF9uYW1lIiwgInByb3BlcnRpZXMiXQ0KDQogICAgICAgIGltYWdlX211bHRpY2xhc3NfZGljdCA9IHB5ZGFzaC5vbWl0KGFjdHVhbF9kaWN0WyJwcm9wZXJ0aWVzIl1bImpvYnMiXVsiaW1hZ2VfbXVsdGljbGFzc19ub2RlIl0sIGZpZWxkc190b19vbWl0KQ0KICAgICAgICBhc3NlcnQgaW1hZ2VfbXVsdGljbGFzc19kaWN0ID09IHsNCiAgICAgICAgICAgICJsaW1pdHMiOiB7Im1heF9jb25jdXJyZW50X3RyaWFscyI6IDEsICJtYXhfdHJpYWxzIjogMSwgInRpbWVvdXRfbWludXRlcyI6IDYwfSwNCiAgICAgICAgICAgICJsb2dfdmVyYm9zaXR5IjogImluZm8iLA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJwcmltYXJ5X21ldHJpYyI6ICJhY2N1cmFjeSIsDQogICAgICAgICAgICAidGFncyI6IHt9LA0KICAgICAgICAgICAgInRhcmdldF9jb2x1bW5fbmFtZSI6ICJsYWJlbCIsDQogICAgICAgICAgICAidGFzayI6ICJpbWFnZV9jbGFzc2lmaWNhdGlvbiIsDQogICAgICAgICAgICAidHJhaW5pbmdfZGF0YSI6ICIke3twYXJlbnQuaW5wdXRzLmltYWdlX211bHRpY2xhc3NfdHJhaW5fZGF0YX19IiwNCiAgICAgICAgICAgICJ0eXBlIjogImF1dG9tbCIsDQogICAgICAgICAgICAidmFsaWRhdGlvbl9kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMuaW1hZ2VfbXVsdGljbGFzc192YWxpZF9kYXRhfX0iLA0KICAgICAgICAgICAgInN3ZWVwIjogew0KICAgICAgICAgICAgICAgICJzYW1wbGluZ19hbGdvcml0aG0iOiAicmFuZG9tIiwNCiAgICAgICAgICAgICAgICAiZWFybHlfdGVybWluYXRpb24iOiB7DQogICAgICAgICAgICAgICAgICAgICJldmFsdWF0aW9uX2ludGVydmFsIjogMiwNCiAgICAgICAgICAgICAgICAgICAgImRlbGF5X2V2YWx1YXRpb24iOiA2LA0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJiYW5kaXQiLA0KICAgICAgICAgICAgICAgICAgICAic2xhY2tfZmFjdG9yIjogMC4yLA0KICAgICAgICAgICAgICAgICAgICAic2xhY2tfYW1vdW50IjogMC4wLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInNlYXJjaF9zcGFjZSI6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJsZWFybmluZ19yYXRlIjogInVuaWZvcm0oMC4wMDEsMC4wMSkiLA0KICAgICAgICAgICAgICAgICAgICAibW9kZWxfbmFtZSI6ICJjaG9pY2UoJ3ZpdHMxNnIyMjQnKSIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJsZWFybmluZ19yYXRlIjogInVuaWZvcm0oMC4wMDEsMC4wMSkiLA0KICAgICAgICAgICAgICAgICAgICAibW9kZWxfbmFtZSI6ICJjaG9pY2UoJ3NlcmVzbmV4dCcpIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiAidW5pZm9ybSgwLjAwMSwwLjAxKSIsDQogICAgICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogImNob2ljZSgnbWljcm9zb2Z0L2JlaXQtYmFzZS1wYXRjaDE2LTIyNCcpIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfQ0KDQogICAgZGVmIHRlc3RfYXV0b21sX3Zpc2lvbl9tdWx0aWxhYmVsX25vZGVfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fbXVsdGlsYWJlbF93aXRoX2F1dG9tbF9pbl9waXBlbGluZSIpDQogICAgICAgIGRlZiB0cmFpbl9tdWx0aWxhYmVsX3dpdGhfYXV0b21sX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgaW1hZ2VfbXVsdGlsYWJlbF90cmFpbl9kYXRhLA0KICAgICAgICAgICAgaW1hZ2VfbXVsdGlsYWJlbF92YWxpZF9kYXRhLA0KICAgICAgICApOg0KICAgICAgICAgICAgaW1hZ2VfbXVsdGlsYWJlbF9ub2RlID0gYXV0b21sLmltYWdlX2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWwoDQogICAgICAgICAgICAgICAgdHJhaW5pbmdfZGF0YT1pbWFnZV9tdWx0aWxhYmVsX3RyYWluX2RhdGEsDQogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9kYXRhPWltYWdlX211bHRpbGFiZWxfdmFsaWRfZGF0YSwNCiAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1uX25hbWU9ImxhYmVsIiwNCiAgICAgICAgICAgICAgICBwcmltYXJ5X21ldHJpYz0iaW91IiwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX211bHRpbGFiZWxfbm9kZS5zZXRfbGltaXRzKA0KICAgICAgICAgICAgICAgIHRpbWVvdXRfbWludXRlcz02MCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX211bHRpbGFiZWxfbm9kZS5leHRlbmRfc2VhcmNoX3NwYWNlKA0KICAgICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbInZpdGIxNnIyMjQiXSksDQogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ19yYXRlPVVuaWZvcm0oMC4wMDEsIDAuMDEpLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICBTZWFyY2hTcGFjZSgNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU9Q2hvaWNlKFsic2VyZXNuZXh0Il0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdfcmF0ZT1Vbmlmb3JtKDAuMDAxLCAwLjAxKSwNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbIm1pY3Jvc29mdC9iZWl0LWJhc2UtcGF0Y2gxNi0yMjQiXSksDQogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ19yYXRlPVVuaWZvcm0oMC4wMDEsIDAuMDEpLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX211bHRpbGFiZWxfbm9kZS5zZXRfc3dlZXAoDQogICAgICAgICAgICAgICAgc2FtcGxpbmdfYWxnb3JpdGhtPSJSYW5kb20iLA0KICAgICAgICAgICAgICAgIGVhcmx5X3Rlcm1pbmF0aW9uPUJhbmRpdFBvbGljeShldmFsdWF0aW9uX2ludGVydmFsPTIsIHNsYWNrX2ZhY3Rvcj0wLjIsIGRlbGF5X2V2YWx1YXRpb249NiksDQogICAgICAgICAgICApDQogICAgICAgICAgICBpbWFnZV9tdWx0aWxhYmVsX25vZGUuc2V0X2xpbWl0cygNCiAgICAgICAgICAgICAgICBtYXhfdHJpYWxzPTEsDQogICAgICAgICAgICAgICAgbWF4X2NvbmN1cnJlbnRfdHJpYWxzPTEsDQogICAgICAgICAgICApDQoNCiAgICAgICAgbXVsdGlsYWJlbF90cmFpbiA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvaW1hZ2VfY2xhc3NpZmljYXRpb25fbXVsdGlsYWJlbC90cmFpbiIsDQogICAgICAgICkNCiAgICAgICAgbXVsdGlsYWJlbF92YWxpZCA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvaW1hZ2VfY2xhc3NpZmljYXRpb25fbXVsdGlsYWJlbC92YWxpZCIsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2I6IFBpcGVsaW5lSm9iID0gdHJhaW5fbXVsdGlsYWJlbF93aXRoX2F1dG9tbF9pbl9waXBlbGluZShtdWx0aWxhYmVsX3RyYWluLCBtdWx0aWxhYmVsX3ZhbGlkKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gR1BVX0NMVVNURVINCg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICBpbWFnZV9tdWx0aWxhYmVsX2RpY3QgPSBweWRhc2gub21pdChhY3R1YWxfZGljdFsicHJvcGVydGllcyJdWyJqb2JzIl1bImltYWdlX211bHRpbGFiZWxfbm9kZSJdLCBmaWVsZHNfdG9fb21pdCkNCiAgICAgICAgYXNzZXJ0IGltYWdlX211bHRpbGFiZWxfZGljdCA9PSB7DQogICAgICAgICAgICAibGltaXRzIjogeyJtYXhfY29uY3VycmVudF90cmlhbHMiOiAxLCAibWF4X3RyaWFscyI6IDEsICJ0aW1lb3V0X21pbnV0ZXMiOiA2MH0sDQogICAgICAgICAgICAibG9nX3ZlcmJvc2l0eSI6ICJpbmZvIiwNCiAgICAgICAgICAgICJvdXRwdXRzIjoge30sDQogICAgICAgICAgICAicHJpbWFyeV9tZXRyaWMiOiAiaW91IiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAidGFyZ2V0X2NvbHVtbl9uYW1lIjogImxhYmVsIiwNCiAgICAgICAgICAgICJ0YXNrIjogImltYWdlX2NsYXNzaWZpY2F0aW9uX211bHRpbGFiZWwiLA0KICAgICAgICAgICAgInRyYWluaW5nX2RhdGEiOiAiJHt7cGFyZW50LmlucHV0cy5pbWFnZV9tdWx0aWxhYmVsX3RyYWluX2RhdGF9fSIsDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgInZhbGlkYXRpb25fZGF0YSI6ICIke3twYXJlbnQuaW5wdXRzLmltYWdlX211bHRpbGFiZWxfdmFsaWRfZGF0YX19IiwNCiAgICAgICAgICAgICJzd2VlcCI6IHsNCiAgICAgICAgICAgICAgICAic2FtcGxpbmdfYWxnb3JpdGhtIjogInJhbmRvbSIsDQogICAgICAgICAgICAgICAgImVhcmx5X3Rlcm1pbmF0aW9uIjogew0KICAgICAgICAgICAgICAgICAgICAiZXZhbHVhdGlvbl9pbnRlcnZhbCI6IDIsDQogICAgICAgICAgICAgICAgICAgICJkZWxheV9ldmFsdWF0aW9uIjogNiwNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYmFuZGl0IiwNCiAgICAgICAgICAgICAgICAgICAgInNsYWNrX2ZhY3RvciI6IDAuMiwNCiAgICAgICAgICAgICAgICAgICAgInNsYWNrX2Ftb3VudCI6IDAuMCwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzZWFyY2hfc3BhY2UiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAibW9kZWxfbmFtZSI6ICJjaG9pY2UoJ3ZpdGIxNnIyMjQnKSIsDQogICAgICAgICAgICAgICAgICAgICJsZWFybmluZ19yYXRlIjogInVuaWZvcm0oMC4wMDEsMC4wMSkiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAibW9kZWxfbmFtZSI6ICJjaG9pY2UoJ3NlcmVzbmV4dCcpIiwNCiAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiAidW5pZm9ybSgwLjAwMSwwLjAxKSIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogImNob2ljZSgnbWljcm9zb2Z0L2JlaXQtYmFzZS1wYXRjaDE2LTIyNCcpIiwNCiAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiAidW5pZm9ybSgwLjAwMSwwLjAxKSIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X2F1dG9tbF92aXNpb25fb2Rfbm9kZV9pbl9waXBlbGluZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgQGRzbC5waXBlbGluZShuYW1lPSJ0cmFpbl9vZF93aXRoX2F1dG9tbF9pbl9waXBlbGluZSIpDQogICAgICAgIGRlZiB0cmFpbl9vZF93aXRoX2F1dG9tbF9pbl9waXBlbGluZSgNCiAgICAgICAgICAgIGltYWdlX29iamVjdF9kZXRlY3Rpb25fdHJhaW5fZGF0YSwNCiAgICAgICAgICAgIGltYWdlX29iamVjdF9kZXRlY3Rpb25fdmFsaWRfZGF0YSwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGltYWdlX29iamVjdF9kZXRlY3Rpb25fbm9kZSA9IGF1dG9tbC5pbWFnZV9vYmplY3RfZGV0ZWN0aW9uKA0KICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGE9aW1hZ2Vfb2JqZWN0X2RldGVjdGlvbl90cmFpbl9kYXRhLA0KICAgICAgICAgICAgICAgIHZhbGlkYXRpb25fZGF0YT1pbWFnZV9vYmplY3RfZGV0ZWN0aW9uX3ZhbGlkX2RhdGEsDQogICAgICAgICAgICAgICAgdGFyZ2V0X2NvbHVtbl9uYW1lPSJsYWJlbCIsDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9Ik1lYW5BdmVyYWdlUHJlY2lzaW9uIiwNCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbl9ub2RlLmV4dGVuZF9zZWFyY2hfc3BhY2UoDQogICAgICAgICAgICAgICAgWw0KICAgICAgICAgICAgICAgICAgICBTZWFyY2hTcGFjZSgNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU9Q2hvaWNlKFsieW9sb3Y1Il0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdfcmF0ZT1Vbmlmb3JtKDAuMDAwMSwgMC4wMSksDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9zaXplPUNob2ljZShbInNtYWxsIiwgIm1lZGl1bSJdKSwgICMgbW9kZWwtc3BlY2lmaWMNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbImZhc3RlcnJjbm5fcmVzbmV0NTBfZnBuIl0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdfcmF0ZT1Vbmlmb3JtKDAuMDAwMSwgMC4wMDEpLA0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW1pemVyPUNob2ljZShbInNnZCIsICJhZGFtIiwgImFkYW13Il0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWluX3NpemU9Q2hvaWNlKFs2MDAsIDgwMF0pLCAgIyBtb2RlbC1zcGVjaWZpYw0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgICAgICBTZWFyY2hTcGFjZSgNCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsX25hbWU9Q2hvaWNlKFsiYXRzc19yNTBfZnBuXzF4X2NvY28iXSksDQogICAgICAgICAgICAgICAgICAgICAgICBsZWFybmluZ19yYXRlPVVuaWZvcm0oMC4wMDAxLCAwLjAwMSksDQogICAgICAgICAgICAgICAgICAgICAgICBvcHRpbWl6ZXI9Q2hvaWNlKFsic2dkIiwgImFkYW0iLCAiYWRhbXciXSksDQogICAgICAgICAgICAgICAgICAgICAgICBtaW5fc2l6ZT1DaG9pY2UoWzYwMCwgODAwXSksICAjIG1vZGVsLXNwZWNpZmljDQogICAgICAgICAgICAgICAgICAgICksDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbl9ub2RlLnNldF90cmFpbmluZ19wYXJhbWV0ZXJzKG5tc19pb3VfdGhyZXNob2xkPTAuNykNCiAgICAgICAgICAgIGltYWdlX29iamVjdF9kZXRlY3Rpb25fbm9kZS5zZXRfbGltaXRzKA0KICAgICAgICAgICAgICAgIHRpbWVvdXRfbWludXRlcz02MCwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGltYWdlX29iamVjdF9kZXRlY3Rpb25fbm9kZS5zZXRfc3dlZXAoDQogICAgICAgICAgICAgICAgc2FtcGxpbmdfYWxnb3JpdGhtPSJSYW5kb20iLA0KICAgICAgICAgICAgICAgIGVhcmx5X3Rlcm1pbmF0aW9uPUJhbmRpdFBvbGljeShldmFsdWF0aW9uX2ludGVydmFsPTIsIHNsYWNrX2ZhY3Rvcj0wLjIsIGRlbGF5X2V2YWx1YXRpb249NiksDQogICAgICAgICAgICApDQogICAgICAgICAgICBpbWFnZV9vYmplY3RfZGV0ZWN0aW9uX25vZGUuc2V0X2xpbWl0cygNCiAgICAgICAgICAgICAgICBtYXhfdHJpYWxzPTEsDQogICAgICAgICAgICAgICAgbWF4X2NvbmN1cnJlbnRfdHJpYWxzPTEsDQogICAgICAgICAgICApDQoNCiAgICAgICAgb2JqZWN0X2RldGVjdGlvbl90cmFpbiA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbi90cmFpbiIsDQogICAgICAgICkNCiAgICAgICAgb2JqZWN0X2RldGVjdGlvbl92YWxpZCA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbi92YWxpZCIsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2I6IFBpcGVsaW5lSm9iID0gdHJhaW5fb2Rfd2l0aF9hdXRvbWxfaW5fcGlwZWxpbmUob2JqZWN0X2RldGVjdGlvbl90cmFpbiwgb2JqZWN0X2RldGVjdGlvbl92YWxpZCkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9IEdQVV9DTFVTVEVSDQoNCiAgICAgICAgZnJvbV9yZXN0X3BpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfam9iKQ0KICAgICAgICBjYW5jZWxfam9iKGNsaWVudCwgZnJvbV9yZXN0X3BpcGVsaW5lX2pvYikNCg0KICAgICAgICBhY3R1YWxfZGljdCA9IGZyb21fcmVzdF9waXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpDQogICAgICAgIGZpZWxkc190b19vbWl0ID0gWyJuYW1lIiwgImRpc3BsYXlfbmFtZSIsICJleHBlcmltZW50X25hbWUiLCAicHJvcGVydGllcyJdDQoNCiAgICAgICAgaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbl9kaWN0ID0gcHlkYXNoLm9taXQoDQogICAgICAgICAgICBhY3R1YWxfZGljdFsicHJvcGVydGllcyJdWyJqb2JzIl1bImltYWdlX29iamVjdF9kZXRlY3Rpb25fbm9kZSJdLCBmaWVsZHNfdG9fb21pdA0KICAgICAgICApDQogICAgICAgIGFzc2VydCBpbWFnZV9vYmplY3RfZGV0ZWN0aW9uX2RpY3QgPT0gew0KICAgICAgICAgICAgImxpbWl0cyI6IHsibWF4X2NvbmN1cnJlbnRfdHJpYWxzIjogMSwgIm1heF90cmlhbHMiOiAxLCAidGltZW91dF9taW51dGVzIjogNjB9LA0KICAgICAgICAgICAgImxvZ192ZXJib3NpdHkiOiAiaW5mbyIsDQogICAgICAgICAgICAib3V0cHV0cyI6IHt9LA0KICAgICAgICAgICAgInByaW1hcnlfbWV0cmljIjogIm1lYW5fYXZlcmFnZV9wcmVjaXNpb24iLA0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJ0YXJnZXRfY29sdW1uX25hbWUiOiAibGFiZWwiLA0KICAgICAgICAgICAgInRhc2siOiAiaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbiIsDQogICAgICAgICAgICAidHJhaW5pbmdfZGF0YSI6ICIke3twYXJlbnQuaW5wdXRzLmltYWdlX29iamVjdF9kZXRlY3Rpb25fdHJhaW5fZGF0YX19IiwNCiAgICAgICAgICAgICJ0eXBlIjogImF1dG9tbCIsDQogICAgICAgICAgICAidmFsaWRhdGlvbl9kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMuaW1hZ2Vfb2JqZWN0X2RldGVjdGlvbl92YWxpZF9kYXRhfX0iLA0KICAgICAgICAgICAgInRyYWluaW5nX3BhcmFtZXRlcnMiOiB7Im5tc19pb3VfdGhyZXNob2xkIjogMC43fSwNCiAgICAgICAgICAgICJzd2VlcCI6IHsNCiAgICAgICAgICAgICAgICAic2FtcGxpbmdfYWxnb3JpdGhtIjogInJhbmRvbSIsDQogICAgICAgICAgICAgICAgImVhcmx5X3Rlcm1pbmF0aW9uIjogew0KICAgICAgICAgICAgICAgICAgICAiZXZhbHVhdGlvbl9pbnRlcnZhbCI6IDIsDQogICAgICAgICAgICAgICAgICAgICJkZWxheV9ldmFsdWF0aW9uIjogNiwNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYmFuZGl0IiwNCiAgICAgICAgICAgICAgICAgICAgInNsYWNrX2ZhY3RvciI6IDAuMiwNCiAgICAgICAgICAgICAgICAgICAgInNsYWNrX2Ftb3VudCI6IDAuMCwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzZWFyY2hfc3BhY2UiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZSI6ICJ1bmlmb3JtKDAuMDAwMSwwLjAxKSIsDQogICAgICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogImNob2ljZSgneW9sb3Y1JykiLA0KICAgICAgICAgICAgICAgICAgICAibW9kZWxfc2l6ZSI6ICJjaG9pY2UoJ3NtYWxsJywnbWVkaXVtJykiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZSI6ICJ1bmlmb3JtKDAuMDAwMSwwLjAwMSkiLA0KICAgICAgICAgICAgICAgICAgICAibWluX3NpemUiOiAiY2hvaWNlKDYwMCw4MDApIiwNCiAgICAgICAgICAgICAgICAgICAgIm1vZGVsX25hbWUiOiAiY2hvaWNlKCdmYXN0ZXJyY25uX3Jlc25ldDUwX2ZwbicpIiwNCiAgICAgICAgICAgICAgICAgICAgIm9wdGltaXplciI6ICJjaG9pY2UoJ3NnZCcsJ2FkYW0nLCdhZGFtdycpIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiAidW5pZm9ybSgwLjAwMDEsMC4wMDEpIiwNCiAgICAgICAgICAgICAgICAgICAgIm1pbl9zaXplIjogImNob2ljZSg2MDAsODAwKSIsDQogICAgICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogImNob2ljZSgnYXRzc19yNTBfZnBuXzF4X2NvY28nKSIsDQogICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZXIiOiAiY2hvaWNlKCdzZ2QnLCdhZGFtJywnYWRhbXcnKSIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X2F1dG9tbF92aXNpb25fc2VnbWVudGF0aW9uX25vZGVfaW5fcGlwZWxpbmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIEBkc2wucGlwZWxpbmUobmFtZT0idHJhaW5fd2l0aF9hdXRvbWxfaW5fcGlwZWxpbmUiKQ0KICAgICAgICBkZWYgdHJhaW5fc2VnbWVudGF0aW9uX3dpdGhfYXV0b21sX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uX3RyYWluX2RhdGEsDQogICAgICAgICAgICBpbWFnZV9pbnN0YW5jZV9zZWdtZW50YXRpb25fdmFsaWRfZGF0YSwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGltYWdlX2luc3RhbmNlX3NlZ21lbnRhdGlvbl9ub2RlID0gYXV0b21sLmltYWdlX2luc3RhbmNlX3NlZ21lbnRhdGlvbigNCiAgICAgICAgICAgICAgICBwcmltYXJ5X21ldHJpYz0iTWVhbkF2ZXJhZ2VQcmVjaXNpb24iLA0KICAgICAgICAgICAgICAgIHRhcmdldF9jb2x1bW5fbmFtZT0ibGFiZWwiLA0KICAgICAgICAgICAgICAgIHRyYWluaW5nX2RhdGE9aW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uX3RyYWluX2RhdGEsDQogICAgICAgICAgICAgICAgdmFsaWRhdGlvbl9kYXRhPWltYWdlX2luc3RhbmNlX3NlZ21lbnRhdGlvbl92YWxpZF9kYXRhLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uX25vZGUuc2V0X2xpbWl0cygNCiAgICAgICAgICAgICAgICB0aW1lb3V0X21pbnV0ZXM9NjAsDQogICAgICAgICAgICApDQogICAgICAgICAgICBpbWFnZV9pbnN0YW5jZV9zZWdtZW50YXRpb25fbm9kZS5zZXRfdHJhaW5pbmdfcGFyYW1ldGVycyhubXNfaW91X3RocmVzaG9sZD0wLjcpDQogICAgICAgICAgICBpbWFnZV9pbnN0YW5jZV9zZWdtZW50YXRpb25fbm9kZS5leHRlbmRfc2VhcmNoX3NwYWNlKA0KICAgICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbIm1hc2tyY25uX3Jlc25ldDUwX2ZwbiJdKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXJuaW5nX3JhdGU9VW5pZm9ybSgwLjAwMDEsIDAuMDAxKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGltaXplcj1DaG9pY2UoWyJzZ2QiLCAiYWRhbSIsICJhZGFtdyJdKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9zaXplPUNob2ljZShbNjAwLCA4MDBdKSwNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoU3BhY2UoDQogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbF9uYW1lPUNob2ljZShbIm1hc2tfcmNubl9zd2luLXMtcDQtdzdfZnBuX2ZwMTZfbXMtY3JvcC0zeF9jb2NvIl0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGVhcm5pbmdfcmF0ZT1Vbmlmb3JtKDAuMDAwMSwgMC4wMDEpLA0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW1pemVyPUNob2ljZShbInNnZCIsICJhZGFtIiwgImFkYW13Il0pLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWluX3NpemU9Q2hvaWNlKFs2MDAsIDgwMF0pLA0KICAgICAgICAgICAgICAgICAgICApLA0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uX25vZGUuc2V0X3N3ZWVwKA0KICAgICAgICAgICAgICAgIHNhbXBsaW5nX2FsZ29yaXRobT0iUmFuZG9tIiwNCiAgICAgICAgICAgICAgICBlYXJseV90ZXJtaW5hdGlvbj1CYW5kaXRQb2xpY3koZXZhbHVhdGlvbl9pbnRlcnZhbD0yLCBzbGFja19mYWN0b3I9MC4yLCBkZWxheV9ldmFsdWF0aW9uPTYpLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uX25vZGUuc2V0X2xpbWl0cygNCiAgICAgICAgICAgICAgICBtYXhfdHJpYWxzPTEwLA0KICAgICAgICAgICAgICAgIG1heF9jb25jdXJyZW50X3RyaWFscz0yLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIGluc3RhbmNlX3NlZ21lbnRhdGlvbl90cmFpbiA9IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBwYXRoPXRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9hdXRvbWxfam9iL3Rlc3RfZGF0YXNldHMvaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uL3RyYWluIiwNCiAgICAgICAgKQ0KICAgICAgICBpbnN0YW5jZV9zZWdtZW50YXRpb25fdmFsaWQgPSBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD10ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvYXV0b21sX2pvYi90ZXN0X2RhdGFzZXRzL2ltYWdlX2luc3RhbmNlX3NlZ21lbnRhdGlvbi92YWxpZCIsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2I6IFBpcGVsaW5lSm9iID0gdHJhaW5fc2VnbWVudGF0aW9uX3dpdGhfYXV0b21sX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgaW5zdGFuY2Vfc2VnbWVudGF0aW9uX3RyYWluLCBpbnN0YW5jZV9zZWdtZW50YXRpb25fdmFsaWQNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gR1BVX0NMVVNURVINCg0KICAgICAgICBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNhbmNlbF9qb2IoY2xpZW50LCBmcm9tX3Jlc3RfcGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9kaWN0ID0gZnJvbV9yZXN0X3BpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgZmllbGRzX3RvX29taXQgPSBbIm5hbWUiLCAiZGlzcGxheV9uYW1lIiwgImV4cGVyaW1lbnRfbmFtZSIsICJwcm9wZXJ0aWVzIl0NCg0KICAgICAgICBpbWFnZV9pbnN0YW5jZV9zZWdtZW50YXRpb25fZGljdCA9IHB5ZGFzaC5vbWl0KA0KICAgICAgICAgICAgYWN0dWFsX2RpY3RbInByb3BlcnRpZXMiXVsiam9icyJdWyJpbWFnZV9pbnN0YW5jZV9zZWdtZW50YXRpb25fbm9kZSJdLCBmaWVsZHNfdG9fb21pdA0KICAgICAgICApDQogICAgICAgIGFzc2VydCBpbWFnZV9pbnN0YW5jZV9zZWdtZW50YXRpb25fZGljdCA9PSB7DQogICAgICAgICAgICAibGltaXRzIjogeyJtYXhfY29uY3VycmVudF90cmlhbHMiOiAyLCAibWF4X3RyaWFscyI6IDEwLCAidGltZW91dF9taW51dGVzIjogNjB9LA0KICAgICAgICAgICAgImxvZ192ZXJib3NpdHkiOiAiaW5mbyIsDQogICAgICAgICAgICAib3V0cHV0cyI6IHt9LA0KICAgICAgICAgICAgInByaW1hcnlfbWV0cmljIjogIm1lYW5fYXZlcmFnZV9wcmVjaXNpb24iLA0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJ0YXJnZXRfY29sdW1uX25hbWUiOiAibGFiZWwiLA0KICAgICAgICAgICAgInRhc2siOiAiaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uIiwNCiAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogIiR7e3BhcmVudC5pbnB1dHMuaW1hZ2VfaW5zdGFuY2Vfc2VnbWVudGF0aW9uX3RyYWluX2RhdGF9fSIsDQogICAgICAgICAgICAidHlwZSI6ICJhdXRvbWwiLA0KICAgICAgICAgICAgInZhbGlkYXRpb25fZGF0YSI6ICIke3twYXJlbnQuaW5wdXRzLmltYWdlX2luc3RhbmNlX3NlZ21lbnRhdGlvbl92YWxpZF9kYXRhfX0iLA0KICAgICAgICAgICAgInRyYWluaW5nX3BhcmFtZXRlcnMiOiB7Im5tc19pb3VfdGhyZXNob2xkIjogMC43fSwNCiAgICAgICAgICAgICJzd2VlcCI6IHsNCiAgICAgICAgICAgICAgICAic2FtcGxpbmdfYWxnb3JpdGhtIjogInJhbmRvbSIsDQogICAgICAgICAgICAgICAgImVhcmx5X3Rlcm1pbmF0aW9uIjogew0KICAgICAgICAgICAgICAgICAgICAiZXZhbHVhdGlvbl9pbnRlcnZhbCI6IDIsDQogICAgICAgICAgICAgICAgICAgICJkZWxheV9ldmFsdWF0aW9uIjogNiwNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiYmFuZGl0IiwNCiAgICAgICAgICAgICAgICAgICAgInNsYWNrX2ZhY3RvciI6IDAuMiwNCiAgICAgICAgICAgICAgICAgICAgInNsYWNrX2Ftb3VudCI6IDAuMCwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzZWFyY2hfc3BhY2UiOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZSI6ICJ1bmlmb3JtKDAuMDAwMSwwLjAwMSkiLA0KICAgICAgICAgICAgICAgICAgICAibW9kZWxfbmFtZSI6ICJjaG9pY2UoJ21hc2tyY25uX3Jlc25ldDUwX2ZwbicpIiwNCiAgICAgICAgICAgICAgICAgICAgIm9wdGltaXplciI6ICJjaG9pY2UoJ3NnZCcsJ2FkYW0nLCdhZGFtdycpIiwNCiAgICAgICAgICAgICAgICAgICAgIm1pbl9zaXplIjogImNob2ljZSg2MDAsODAwKSIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICJsZWFybmluZ19yYXRlIjogInVuaWZvcm0oMC4wMDAxLDAuMDAxKSIsDQogICAgICAgICAgICAgICAgICAgICJtb2RlbF9uYW1lIjogImNob2ljZSgnbWFza19yY25uX3N3aW4tcy1wNC13N19mcG5fZnAxNl9tcy1jcm9wLTN4X2NvY28nKSIsDQogICAgICAgICAgICAgICAgICAgICJvcHRpbWl6ZXIiOiAiY2hvaWNlKCdzZ2QnLCdhZGFtJywnYWRhbXcnKSIsDQogICAgICAgICAgICAgICAgICAgICJtaW5fc2l6ZSI6ICJjaG9pY2UoNjAwLDgwMCkiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICB9DQo=",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "3+kIw2DCmQNLqUlerPcLQA==",
        "Date": "Tue, 18 Mar 2025 11:30:20 GMT",
        "ETag": "\"0x8DD6610446189FB\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:20 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "XBJkkOAvurw=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/test_dsl_pipeline.py?sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "164031",
        "Content-MD5": "h+m2S3osc23Kzhh2XOO+8A==",
        "Content-Type": "application/octet-stream",
        "If-None-Match": "*",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-blob-type": "BlockBlob",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:19 GMT",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": "aW1wb3J0IGxvZ2dpbmcNCmZyb20gaW8gaW1wb3J0IFN0cmluZ0lPDQpmcm9tIHBhdGhsaWIgaW1wb3J0IFBhdGgNCmZyb20gdHlwaW5nIGltcG9ydCBDYWxsYWJsZQ0KZnJvbSB1bml0dGVzdC5tb2NrIGltcG9ydCBwYXRjaA0KDQppbXBvcnQgcHlkYXNoDQppbXBvcnQgcHl0ZXN0DQpmcm9tIGRldnRvb2xzX3Rlc3R1dGlscyBpbXBvcnQgQXp1cmVSZWNvcmRlZFRlc3RDYXNlLCBpc19saXZlDQpmcm9tIHBpcGVsaW5lX2pvYi5lMmV0ZXN0cy50ZXN0X3BpcGVsaW5lX2pvYiBpbXBvcnQgYXNzZXJ0X2pvYl9pbnB1dF9vdXRwdXRfdHlwZXMNCmZyb20gdGVzdF91dGlsaXRpZXMudXRpbHMgaW1wb3J0IF9QWVRFU1RfVElNRU9VVF9NRVRIT0QsIGFzc2VydF9qb2JfY2FuY2VsLCBvbWl0X3dpdGhfd2lsZGNhcmQsIHNsZWVwX2lmX2xpdmUNCg0KZnJvbSBhenVyZS5haS5tbCBpbXBvcnQgKA0KICAgIEFtbFRva2VuQ29uZmlndXJhdGlvbiwNCiAgICBJbnB1dCwNCiAgICBNYW5hZ2VkSWRlbnRpdHlDb25maWd1cmF0aW9uLA0KICAgIE1MQ2xpZW50LA0KICAgIE1waURpc3RyaWJ1dGlvbiwNCiAgICBPdXRwdXQsDQogICAgUHlUb3JjaERpc3RyaWJ1dGlvbiwNCiAgICBUZW5zb3JGbG93RGlzdHJpYnV0aW9uLA0KICAgIFVzZXJJZGVudGl0eUNvbmZpZ3VyYXRpb24sDQogICAgY29tbWFuZCwNCiAgICBkc2wsDQogICAgbG9hZF9jb21wb25lbnQsDQopDQpmcm9tIGF6dXJlLmFpLm1sLl91dGlscy5fYXJtX2lkX3V0aWxzIGltcG9ydCBpc19BUk1faWRfZm9yX3Jlc291cmNlLCBpc19zaW5ndWxhcml0eV9pZF9mb3JfcmVzb3VyY2UNCmZyb20gYXp1cmUuYWkubWwuY29uc3RhbnRzLl9jb21tb24gaW1wb3J0IEFOT05ZTU9VU19DT01QT05FTlRfTkFNRSwgU0lOR1VMQVJJVFlfSURfRk9STUFULCBBc3NldFR5cGVzLCBJbnB1dE91dHB1dE1vZGVzDQpmcm9tIGF6dXJlLmFpLm1sLmNvbnN0YW50cy5fam9iLnBpcGVsaW5lIGltcG9ydCBQaXBlbGluZUNvbnN0YW50cw0KZnJvbSBhenVyZS5haS5tbC5kc2wuX2dyb3VwX2RlY29yYXRvciBpbXBvcnQgZ3JvdXANCmZyb20gYXp1cmUuYWkubWwuZHNsLl9sb2FkX2ltcG9ydCBpbXBvcnQgdG9fY29tcG9uZW50DQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzIGltcG9ydCBDb21tYW5kQ29tcG9uZW50LCBDb21tYW5kSm9iDQpmcm9tIGF6dXJlLmFpLm1sLmVudGl0aWVzIGltcG9ydCBDb21wb25lbnQNCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMgaW1wb3J0IENvbXBvbmVudCBhcyBDb21wb25lbnRFbnRpdHkNCmZyb20gYXp1cmUuYWkubWwuZW50aXRpZXMgaW1wb3J0IERhdGEsIEpvYlJlc291cmNlQ29uZmlndXJhdGlvbiwgUGlwZWxpbmVKb2IsIFF1ZXVlU2V0dGluZ3MNCmZyb20gYXp1cmUuYWkubWwuZXhjZXB0aW9ucyBpbXBvcnQgVW5leHBlY3RlZEtleXdvcmRFcnJvciwgVmFsaWRhdGlvbkV4Y2VwdGlvbg0KZnJvbSBhenVyZS5haS5tbC5wYXJhbGxlbCBpbXBvcnQgUGFyYWxsZWxKb2IsIFJ1bkZ1bmN0aW9uLCBwYXJhbGxlbF9ydW5fZnVuY3Rpb24NCg0KZnJvbSAuLl91dGlsIGltcG9ydCBfRFNMX1RJTUVPVVRfU0VDT05EDQoNCnRlc3RzX3Jvb3RfZGlyID0gUGF0aChfX2ZpbGVfXykucGFyZW50LnBhcmVudC5wYXJlbnQNCmNvbXBvbmVudHNfZGlyID0gdGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2NvbXBvbmVudHMvIg0Kam9iX2lucHV0ID0gSW5wdXQoDQogICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GSUxFLA0KICAgIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiwNCikNCmV4cGVyaW1lbnRfbmFtZSA9ICJkc2xfcGlwZWxpbmVfZTJlIg0KY29tbW9uX29taXRfZmllbGRzID0gWw0KICAgICJwcm9wZXJ0aWVzIiwNCiAgICAiZGlzcGxheV9uYW1lIiwNCiAgICAiZXhwZXJpbWVudF9uYW1lIiwNCiAgICAiam9icy4qLmNvbXBvbmVudElkIiwNCiAgICAiaW5wdXRzLioudXJpIiwNCiAgICAiam9icy4qLl9zb3VyY2UiLA0KICAgICJqb2JzLioucHJvcGVydGllcyIsDQogICAgInNldHRpbmdzLl9zb3VyY2UiLA0KICAgICJzb3VyY2Vfam9iX2lkIiwNCiAgICAic2VydmljZXMiLA0KXQ0KDQoNCmRlZiBjaGVja19uYW1lX2FuZF92ZXJzaW9uKG91dHB1dCwgb3V0cHV0X25hbWUsIG91dHB1dF92ZXJzaW9uKToNCiAgICBhc3NlcnQgb3V0cHV0Lm5hbWUgPT0gb3V0cHV0X25hbWUNCiAgICBhc3NlcnQgb3V0cHV0LnZlcnNpb24gPT0gb3V0cHV0X3ZlcnNpb24NCg0KDQpkZWYgYnVpbGRfcGlwZWxpbmVfd2l0aF9wYXJhbGxlbF9ydW5fZnVuY3Rpb24oZGF0YSwgbGl0ZXJhbF9pbnB1dD1Ob25lKToNCiAgICAjIGNvbW1hbmQgam9iIHdpdGggZGljdCBkaXN0cmlidXRpb24NCiAgICBlbnZpcm9ubWVudCA9ICJBenVyZU1MLXNrbGVhcm4tMS4wLXVidW50dTIwLjA0LXB5MzgtY3B1OjMzIg0KICAgIGlucHV0cyA9IHsNCiAgICAgICAgImpvYl9kYXRhX3BhdGgiOiBJbnB1dCgNCiAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgcGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YXNldC9tbmlzdC1kYXRhIiwNCiAgICAgICAgICAgIG1vZGU9SW5wdXRPdXRwdXRNb2Rlcy5FVkFMX01PVU5ULA0KICAgICAgICApLA0KICAgICAgICAiam9iX2RhdGFfcGF0aF9vcHRpb25hbCI6IElucHV0KA0KICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRVZBTF9NT1VOVCwNCiAgICAgICAgICAgIG9wdGlvbmFsPVRydWUsDQogICAgICAgICksDQogICAgfQ0KICAgIGlucHV0X2RhdGEgPSAiJHt7aW5wdXRzLmpvYl9kYXRhX3BhdGh9fSINCiAgICBvdXRwdXRzID0geyJqb2Jfb3V0cHV0X3BhdGgiOiBPdXRwdXQodHlwZT1Bc3NldFR5cGVzLlVSSV9GT0xERVIsIG1vZGU9InJ3X21vdW50Iil9DQogICAgZXhwZWN0ZWRfcmVzb3VyY2VzID0geyJpbnN0YW5jZV9jb3VudCI6IDJ9DQoNCiAgICB0YXNrID0gUnVuRnVuY3Rpb24oDQogICAgICAgIGNvZGU9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2RzbF9waXBlbGluZS9wYXJhbGxlbF9jb21wb25lbnRfd2l0aF9maWxlX2lucHV0L3NyYy8iLA0KICAgICAgICBlbnRyeV9zY3JpcHQ9InNjb3JlLnB5IiwNCiAgICAgICAgcHJvZ3JhbV9hcmd1bWVudHM9Ii0tam9iX291dHB1dF9wYXRoICR7e291dHB1dHMuam9iX291dHB1dF9wYXRofX0iLA0KICAgICAgICBlbnZpcm9ubWVudD1lbnZpcm9ubWVudCwNCiAgICApDQogICAgbG9nZ2luZ19sZXZlbCA9ICJERUJVRyINCiAgICBtYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlID0gMQ0KICAgIGVycm9yX3RocmVzaG9sZCA9IDENCiAgICBtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCA9IDENCiAgICBtaW5pX2JhdGNoX3NpemUgPSAiNSINCg0KICAgICMgUGFyYWxsZWwgZnJvbSBwYXJhbGxlbF9ydW5fZnVuY3Rpb24oKQ0KICAgIHBhcmFsbGVsX2Z1bmN0aW9uID0gcGFyYWxsZWxfcnVuX2Z1bmN0aW9uKA0KICAgICAgICBkaXNwbGF5X25hbWU9Im15LWV2YWx1YXRlLWpvYiIsDQogICAgICAgIGlucHV0cz1pbnB1dHMsDQogICAgICAgIG91dHB1dHM9b3V0cHV0cywNCiAgICAgICAgbWluaV9iYXRjaF9zaXplPW1pbmlfYmF0Y2hfc2l6ZSwNCiAgICAgICAgdGFzaz10YXNrLA0KICAgICAgICBsb2dnaW5nX2xldmVsPWxvZ2dpbmdfbGV2ZWwsDQogICAgICAgIG1heF9jb25jdXJyZW5jeV9wZXJfaW5zdGFuY2U9bWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSwNCiAgICAgICAgZXJyb3JfdGhyZXNob2xkPWVycm9yX3RocmVzaG9sZCwNCiAgICAgICAgbWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQ9bWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQsDQogICAgICAgIHJlc291cmNlcz1leHBlY3RlZF9yZXNvdXJjZXMsDQogICAgICAgIGlucHV0X2RhdGE9aW5wdXRfZGF0YSwNCiAgICApDQogICAgaWYgbGl0ZXJhbF9pbnB1dCBpcyBOb25lOg0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoZXhwZXJpbWVudF9uYW1lPSJ0ZXN0X3BpcGVsaW5lX3dpdGhfcGFyYWxsZWxfZnVuY3Rpb24iLCBkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIikNCiAgICAgICAgZGVmIHBhcmFsbGVsX2luX3BpcGVsaW5lKGpvYl9kYXRhX3BhdGgpOg0KICAgICAgICAgICAgbm9kZTEgPSBwYXJhbGxlbF9mdW5jdGlvbihqb2JfZGF0YV9wYXRoPWpvYl9kYXRhX3BhdGgpDQogICAgICAgICAgICAjIFRPRE8gMjEwNDI0Nzogbm9kZTEudGFzayB3aWxsIGJlIGtlcHQgYXMgYSBsb2NhbCBwYXRoIHdoZW4gc3VibWl0dGluZyB0aGUgcGlwZWxpbmUgam9iLg0KICAgICAgICAgICAgbm9kZTEudGFzayA9IE5vbmUNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInBpcGVsaW5lX291dHB1dCI6IG5vZGUxLm91dHB1dHMuam9iX291dHB1dF9wYXRoLA0KICAgICAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBwYXJhbGxlbF9pbl9waXBlbGluZShkYXRhKQ0KICAgIGVsc2U6DQoNCiAgICAgICAgQGRzbC5waXBlbGluZShleHBlcmltZW50X25hbWU9InRlc3RfcGlwZWxpbmVfd2l0aF9wYXJhbGxlbF9mdW5jdGlvbiIsIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiKQ0KICAgICAgICBkZWYgcGFyYWxsZWxfaW5fcGlwZWxpbmUoam9iX2RhdGFfcGF0aCwgbGl0ZXJhbF9pbnB1dCk6DQogICAgICAgICAgICBub2RlMSA9IHBhcmFsbGVsX2Z1bmN0aW9uKGpvYl9kYXRhX3BhdGg9am9iX2RhdGFfcGF0aCkNCiAgICAgICAgICAgICMgVE9ETyAyMTA0MjQ3OiBub2RlMS50YXNrIHdpbGwgYmUga2VwdCBhcyBhIGxvY2FsIHBhdGggd2hlbiBzdWJtaXR0aW5nIHRoZSBwaXBlbGluZSBqb2IuDQogICAgICAgICAgICBub2RlMS50YXNrID0gTm9uZQ0KICAgICAgICAgICAgbm9kZTEucmVzb3VyY2VzLmluc3RhbmNlX2NvdW50ID0gbGl0ZXJhbF9pbnB1dA0KICAgICAgICAgICAgbm9kZTEubWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSA9IGxpdGVyYWxfaW5wdXQNCiAgICAgICAgICAgIG5vZGUxLmVycm9yX3RocmVzaG9sZCA9IGxpdGVyYWxfaW5wdXQNCiAgICAgICAgICAgIG5vZGUxLm1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkID0gbGl0ZXJhbF9pbnB1dA0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAicGlwZWxpbmVfb3V0cHV0Ijogbm9kZTEub3V0cHV0cy5qb2Jfb3V0cHV0X3BhdGgsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHBhcmFsbGVsX2luX3BpcGVsaW5lKGRhdGEsIGxpdGVyYWxfaW5wdXQpDQoNCg0KQHB5dGVzdC5tYXJrLnVzZWZpeHR1cmVzKA0KICAgICJlbmFibGVfZW52aXJvbm1lbnRfaWRfYXJtX2V4cGFuc2lvbiIsDQogICAgImVuYWJsZV9waXBlbGluZV9wcml2YXRlX3ByZXZpZXdfZmVhdHVyZXMiLA0KICAgICJlbmFibGVfcHJpdmF0ZV9wcmV2aWV3X3NjaGVtYV9mZWF0dXJlcyIsDQogICAgIm1vY2tfY29kZV9oYXNoIiwNCiAgICAibW9ja19jb21wb25lbnRfaGFzaCIsDQogICAgIm1vY2tfc2V0X2hlYWRlcnNfd2l0aF91c2VyX2FtbF90b2tlbiIsDQogICAgInJlY29yZGVkX3Rlc3QiLA0KICAgICJtb2NrX2Fzc2V0X25hbWUiLA0KKQ0KQHB5dGVzdC5tYXJrLnRpbWVvdXQodGltZW91dD1fRFNMX1RJTUVPVVRfU0VDT05ELCBtZXRob2Q9X1BZVEVTVF9USU1FT1VUX01FVEhPRCkNCkBweXRlc3QubWFyay5lMmV0ZXN0DQpAcHl0ZXN0Lm1hcmsucGlwZWxpbmVfdGVzdA0KY2xhc3MgVGVzdERTTFBpcGVsaW5lKEF6dXJlUmVjb3JkZWRUZXN0Q2FzZSk6DQogICAgZGVmIHRlc3RfY29tbWFuZF9jb21wb25lbnRfY3JlYXRlKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdKSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9IGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMxID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sLCBwYXJhbXNfb3ZlcnJpZGU9W3sibmFtZSI6IHJhbmRzdHIoImNvbXBvbmVudF9uYW1lIil9XSkNCiAgICAgICAgY29tcG9uZW50X2Z1bmMyID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sLCBwYXJhbXNfb3ZlcnJpZGU9W3sibmFtZSI6IHJhbmRzdHIoImNvbXBvbmVudF9uYW1lIil9XSkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsDQogICAgICAgICAgICBjb250aW51ZV9vbl9zdGVwX2ZhaWx1cmU9VHJ1ZSwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmUoam9iX2luX251bWJlciwgam9iX2luX290aGVyX251bWJlciwgam9iX2luX3BhdGgpOg0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMxKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzIoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fb3RoZXJfbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lKDEwLCAxNSwgam9iX2lucHV0KQ0KICAgICAgICBqb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KICAgICAgICAjIGNoZWNrIHJlcXVpcmVkIGZpZWxkcyBpbiBqb2IgZGljdA0KICAgICAgICBqb2JfZGljdCA9IGpvYi5fdG9fZGljdCgpDQogICAgICAgIGV4cGVjdGVkX2tleXMgPSBbInN0YXR1cyIsICJwcm9wZXJ0aWVzIiwgInRhZ3MiLCAiY3JlYXRpb25fY29udGV4dCJdDQogICAgICAgIGZvciBrIGluIGV4cGVjdGVkX2tleXM6DQogICAgICAgICAgICBhc3NlcnQgayBpbiBqb2JfZGljdC5rZXlzKCksIGYiZmFpbGVkIHRvIGdldCB7a30gaW4ge2pvYl9kaWN0fSINCg0KICAgICAgICAjIG9yaWdpbmFsIGpvYiBkaWQgbm90IGNoYW5nZQ0KICAgICAgICBhc3NlcnRfam9iX2lucHV0X291dHB1dF90eXBlcyhqb2IpDQogICAgICAgIGFzc2VydCBqb2Iuc2V0dGluZ3MuY29udGludWVfb25fc3RlcF9mYWlsdXJlIGlzIFRydWUNCiAgICAgICAgYXNzZXJ0IGpvYi5jb21wdXRlID09ICJjcHUtY2x1c3RlciINCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX2pvYl9jcmVhdGVfd2l0aF9yZXNvbHZlX3JldXNlKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdKSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9IGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMxOiBDb21tYW5kQ29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sKQ0KICAgICAgICBjb21wb25lbnRfZnVuYzI6IENvbW1hbmRDb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9Y29tcG9uZW50X3lhbWwpDQogICAgICAgIGNvbXBvbmVudF9mdW5jMzogQ29tbWFuZENvbXBvbmVudCA9IGNvbXBvbmVudF9mdW5jMQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBuYW1lPXJhbmRzdHIoInBpcGVsaW5lX25hbWUiKSwNCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPSJUaGUgaGVsbG8gd29ybGQgcGlwZWxpbmUgam9iIiwNCiAgICAgICAgICAgIHRhZ3M9eyJvd25lciI6ICJzZGt0ZWFtIiwgInRhZyI6ICJ0YWd2YWx1ZSJ9LA0KICAgICAgICAgICAgY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPWV4cGVyaW1lbnRfbmFtZSwNCiAgICAgICAgICAgIGNvbnRpbnVlX29uX3N0ZXBfZmFpbHVyZT1UcnVlLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZShqb2JfaW5fbnVtYmVyLCBqb2JfaW5fb3RoZXJfbnVtYmVyLCBqb2JfaW5fcGF0aCk6DQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzEoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMyhjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9vdGhlcl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMxKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX290aGVyX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQoNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMihjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9vdGhlcl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KDQogICAgICAgIGRzbF9waXBlbGluZSA9IHBpcGVsaW5lKDEwLCAxNSwgam9iX2lucHV0KQ0KICAgICAgICBjb21wb25lbnRfaWRfc2V0ID0gc2V0KG1hcChsYW1iZGEgeDogaWQoeC5jb21wb25lbnQpLCBkc2xfcGlwZWxpbmUuam9icy52YWx1ZXMoKSkpDQogICAgICAgIGFzc2VydCBsZW4oY29tcG9uZW50X2lkX3NldCkgPT0gMg0KDQogICAgICAgIGZvciBqb2JfaW5zdGFuY2UgaW4gZHNsX3BpcGVsaW5lLmpvYnMudmFsdWVzKCk6DQogICAgICAgICAgICBhc3NlcnQgam9iX2luc3RhbmNlLmNvbXBvbmVudC5pZCBpcyBOb25lLCAiY29tcG9uZW50IGlkIHdvbid0IGJlIHJlc29sdmVkIGJlZm9yZSBjcmVhdGVfb3JfdXBkYXRlIg0KDQogICAgICAgICMgVE9ETzogbmVlZCBleHRyYSBtb2NrIGJhc2VkIHRlc3RzIHRvIHZlcmlmeSBpZiB0aGUgY29tcG9uZW50IGlzIHJlc29sdmVkIG9ubHkgb25jZQ0KICAgICAgICBfID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShkc2xfcGlwZWxpbmUpDQogICAgICAgIGZvciBqb2JfaW5zdGFuY2UgaW4gZHNsX3BpcGVsaW5lLmpvYnMudmFsdWVzKCk6DQogICAgICAgICAgICBhc3NlcnQgKA0KICAgICAgICAgICAgICAgIGlzaW5zdGFuY2Uoam9iX2luc3RhbmNlLmNvbXBvbmVudCwgc3RyKSBvciBqb2JfaW5zdGFuY2UuY29tcG9uZW50LmlkIGlzIG5vdCBOb25lDQogICAgICAgICAgICApLCAiY29tcG9uZW50IGlkIHdpbGwgYmUgZmlsbGVkIGJhY2sgdG8gdGhlIGluc3RhbmNlIGR1cmluZyBjcmVhdGVfb3JfdXBkYXRlIg0KDQogICAgZGVmIHRlc3RfY29tbWFuZF9jb21wb25lbnRfY3JlYXRlX3dpdGhfb3V0cHV0KHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdKSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9IGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMxID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sLCBwYXJhbXNfb3ZlcnJpZGU9W3sibmFtZSI6IHJhbmRzdHIoImNvbXBvbmVudF9uYW1lIil9XSkNCiAgICAgICAgY29tcG9uZW50X2Z1bmMyID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sLCBwYXJhbXNfb3ZlcnJpZGU9W3sibmFtZSI6IHJhbmRzdHIoImNvbXBvbmVudF9uYW1lIil9XSkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9vdXRwdXQoam9iX2luX251bWJlciwgam9iX2luX290aGVyX251bWJlciwgam9iX2luX3BhdGgpOg0KICAgICAgICAgICAgbm9kZTEgPSBjb21wb25lbnRfZnVuYzEoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCg0KICAgICAgICAgICAgbm9kZTIgPSBjb21wb25lbnRfZnVuYzIoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fb3RoZXJfbnVtYmVyLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoPW5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgcmV0dXJuIHsiam9iX291dF9kYXRhIjogbm9kZTIub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9DQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX291dHB1dCgxMCwgMTUsIGpvYl9pbnB1dCkNCiAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5qb2Jfb3V0X2RhdGEgPSBPdXRwdXQoZGF0YXNldD1EYXRhKG5hbWU9ImRzbF9waXBlbGluZV9vdXRwdXQiLCB2ZXJzaW9uPSIxIikpDQogICAgICAgIGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUsIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUpDQoNCiAgICBkZWYgdGVzdF9jb21tYW5kX2NvbXBvbmVudF9jcmVhdGVfZnJvbV9yZW1vdGUoDQogICAgICAgIHNlbGYsDQogICAgICAgIGNsaWVudDogTUxDbGllbnQsDQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudDogQ29tcG9uZW50RW50aXR5LA0KICAgICAgICByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXSwNCiAgICApIC0+IE5vbmU6DQogICAgICAgIGNvbXBvbmVudF9mdW5jID0gbG9hZF9jb21wb25lbnQoDQogICAgICAgICAgICBjbGllbnQ9Y2xpZW50LA0KICAgICAgICAgICAgbmFtZT1oZWxsb193b3JsZF9jb21wb25lbnQubmFtZSwNCiAgICAgICAgICAgIHZlcnNpb249aGVsbG9fd29ybGRfY29tcG9uZW50LnZlcnNpb24sDQogICAgICAgICkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfcmVtb3RlX2NvbXBvbmVudChqb2JfaW5fbnVtYmVyLCBqb2JfaW5fb3RoZXJfbnVtYmVyLCBqb2JfaW5fcGF0aCk6DQogICAgICAgICAgICBub2RlMSA9IGNvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQogICAgICAgICAgICAjIHVuLWNvbmZpZ3VyZWQgZGF0YSBiaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQNCiAgICAgICAgICAgIG5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoID0gT3V0cHV0KGRhdGFzZXQ9RGF0YShuYW1lPSJtbGRlc2lnbmVyX2NvbXBvbmVudF9vdXRwdXQiKSkNCg0KICAgICAgICAgICAgbm9kZTIgPSBjb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9vdGhlcl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9bm9kZTEub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICApDQogICAgICAgICAgICByZXR1cm4geyJqb2Jfb3V0X2RhdGEiOiBub2RlMi5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH0NCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lX3JlbW90ZV9jb21wb25lbnQoMTAsIDE1LCBqb2JfaW5wdXQpDQogICAgICAgIGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUsIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUpDQoNCiAgICBkZWYgdGVzdF9jb21wb25lbnRfbG9hZF9mcm9tX3JlbW90ZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCBoZWxsb193b3JsZF9jb21wb25lbnQ6IENvbXBvbmVudEVudGl0eSkgLT4gTm9uZToNCiAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIGNsaWVudD1jbGllbnQsDQogICAgICAgICAgICBuYW1lPWhlbGxvX3dvcmxkX2NvbXBvbmVudC5uYW1lLA0KICAgICAgICAgICAgdmVyc2lvbj1oZWxsb193b3JsZF9jb21wb25lbnQudmVyc2lvbiwNCiAgICAgICAgKQ0KDQogICAgICAgIGNvbXBvbmVudF9ub2RlID0gY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X2luX251bWJlcj0xMCwgY29tcG9uZW50X2luX3BhdGg9am9iX2lucHV0KQ0KDQogICAgICAgIGNvbXBvbmVudF9qb2JfZGljdCA9IGNvbXBvbmVudF9ub2RlLl90b19yZXN0X29iamVjdCgpDQogICAgICAgIGFzc2VydCBpc19BUk1faWRfZm9yX3Jlc291cmNlKGNvbXBvbmVudF9qb2JfZGljdFsiY29tcG9uZW50SWQiXSkNCiAgICAgICAgb21pdF9maWVsZHMgPSBbImNvbXBvbmVudElkIiwgIl9zb3VyY2UiLCAicHJvcGVydGllcyJdDQogICAgICAgIGNvbXBvbmVudF9qb2JfZGljdCA9IHB5ZGFzaC5vbWl0KGNvbXBvbmVudF9qb2JfZGljdCwgKm9taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgY29tcG9uZW50X2pvYl9kaWN0ID09IHsNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMTAifSwNCiAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZmlsZSIsDQogICAgICAgICAgICAgICAgICAgICJ1cmkiOiAiaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInJlc291cmNlcyI6IHsiaW5zdGFuY2VfY291bnQiOiAxfSwNCiAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9kaXN0cmlidXRpb25fY29tcG9uZW50cyhzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXSkgLT4gTm9uZToNCiAgICAgICAgbXBpX2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50X21waS55bWwiKSkNCiAgICAgICAgcHl0b3JjaF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudF9weXRvcmNoLnltbCIpKQ0KICAgICAgICB0ZW5zb3JmbG93X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50X3RlbnNvcmZsb3cueW1sIikpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIG5hbWU9cmFuZHN0cigicGlwZWxpbmVfbmFtZSIpLA0KICAgICAgICAgICAgZGVzY3JpcHRpb249IlRoZSBoZWxsbyB3b3JsZCBwaXBlbGluZSBqb2IiLA0KICAgICAgICAgICAgdGFncz17Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICBjb21wdXRlPSJncHUtY2x1c3RlciIsDQogICAgICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZV9kaXN0cmlidXRpb25fY29tcG9uZW50cyhqb2JfaW5fbnVtYmVyLCBqb2JfaW5fcGF0aCk6DQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfbXBpID0gbXBpX2Z1bmMoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9tcGkuZGlzdHJpYnV0aW9uID0gTXBpRGlzdHJpYnV0aW9uKCkNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9tcGkuZGlzdHJpYnV0aW9uLnByb2Nlc3NfY291bnRfcGVyX2luc3RhbmNlID0gMg0KDQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfcHl0b3JjaCA9IHB5dG9yY2hfZnVuYygNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoDQogICAgICAgICAgICApDQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfcHl0b3JjaC5kaXN0cmlidXRpb24gPSBQeVRvcmNoRGlzdHJpYnV0aW9uKCkNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9weXRvcmNoLmRpc3RyaWJ1dGlvbi5wcm9jZXNzX2NvdW50X3Blcl9pbnN0YW5jZSA9IDINCg0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X3RlbnNvcmZsb3cgPSB0ZW5zb3JmbG93X2Z1bmMoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X3RlbnNvcmZsb3cuZGlzdHJpYnV0aW9uID0gVGVuc29yRmxvd0Rpc3RyaWJ1dGlvbigpDQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfdGVuc29yZmxvdy5kaXN0cmlidXRpb24ud29ya2VyX2NvdW50ID0gMg0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfZGlzdHJpYnV0aW9uX2NvbXBvbmVudHMoMTAsIGpvYl9pbnB1dCkNCiAgICAgICAgY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSwgZXhwZXJpbWVudF9uYW1lPWV4cGVyaW1lbnRfbmFtZSkNCg0KICAgIGRlZiB0ZXN0X2NvbXBvbmVudF93aXRoX2JpbmRpbmcoc2VsZiwgY2xpZW50OiBNTENsaWVudCwgcmFuZHN0cjogQ2FsbGFibGVbW3N0cl0sIHN0cl0pOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9IHN0cihjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiKQ0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1oZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCkNCg0KICAgICAgICBtZXJnZV9vdXRwdXRzX2NvbXBvbmVudF95YW1sID0gc3RyKGNvbXBvbmVudHNfZGlyIC8gIm1lcmdlX291dHB1dHNfY29tcG9uZW50LnltbCIpDQogICAgICAgIG1lcmdlX291dHB1dHNfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9bWVyZ2Vfb3V0cHV0c19jb21wb25lbnRfeWFtbCkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9iaW5kaW5nKGpvYl9pbl9udW1iZXIsIGpvYl9pbl9vdGhlcl9udW1iZXIsIGpvYl9pbl9wYXRoKToNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF8xID0gaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50XzIgPSBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoDQogICAgICAgICAgICApDQoNCiAgICAgICAgICAgICMgY29uZmlndXJlIGNvbXBvbmVudCBvdmVycmlkZXMsIGN1cmF0ZWQgU0RLIG5vdCBzdXBwb3J0ZWQgeWV0DQogICAgICAgICAgICAjIGhlbGxvX3dvcmxkX2NvbXBvbmVudF8yLnJlc291cmNlcy5pbnN0YW5jZV9jb3VudCA9IDINCg0KICAgICAgICAgICAgIyBjb25maWd1cmUgY29tcG9uZW50IG91dHB1dHMNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF8xLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLm1vZGUgPSAiVXBsb2FkIg0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50XzIub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgubW9kZSA9ICJVcGxvYWQiDQoNCiAgICAgICAgICAgIG1lcmdlX2NvbXBvbmVudF9vdXRwdXRzID0gbWVyZ2Vfb3V0cHV0c19jb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9vdGhlcl9udW1iZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGhfMT1oZWxsb193b3JsZF9jb21wb25lbnRfMS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fcGF0aF8yPWhlbGxvX3dvcmxkX2NvbXBvbmVudF8yLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAiam9iX291dF9kYXRhXzEiOiBtZXJnZV9jb21wb25lbnRfb3V0cHV0cy5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aF8xLA0KICAgICAgICAgICAgICAgICJqb2Jfb3V0X2RhdGFfMiI6IG1lcmdlX2NvbXBvbmVudF9vdXRwdXRzLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoXzIsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX2JpbmRpbmcoMTAsIDE2LCBqb2JfaW5wdXQpDQogICAgICAgIGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUoDQogICAgICAgICAgICBwaXBlbGluZSwNCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT0iZHNsX3BpcGVsaW5lX2UyZSIsDQogICAgICAgICkNCg0KICAgIGRlZiB0ZXN0X2RhdGFfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgcGFyZW50X2RpciA9IHN0cih0ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvZHNsX3BpcGVsaW5lL255Y190YXhpX2RhdGFfcmVncmVzc2lvbiIpDQoNCiAgICAgICAgZGVmIGdlbmVyYXRlX2RzbF9waXBlbGluZSgpOg0KICAgICAgICAgICAgIyAxLiBMb2FkIGNvbXBvbmVudCBmdW5jcw0KICAgICAgICAgICAgcHJlcF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhcmVudF9kaXIgKyAiL3ByZXAueW1sIikNCiAgICAgICAgICAgIHRyYW5zZm9ybV9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhcmVudF9kaXIgKyAiL3RyYW5zZm9ybS55bWwiKQ0KICAgICAgICAgICAgdHJhaW5fZnVuYyA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1wYXJlbnRfZGlyICsgIi90cmFpbi55bWwiKQ0KICAgICAgICAgICAgcHJlZGljdF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhcmVudF9kaXIgKyAiL3ByZWRpY3QueW1sIikNCiAgICAgICAgICAgIHNjb3JlX2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9cGFyZW50X2RpciArICIvc2NvcmUueW1sIikNCg0KICAgICAgICAgICAgIyAyLiBDb25zdHJ1Y3QgcGlwZWxpbmUNCiAgICAgICAgICAgIEBkc2wucGlwZWxpbmUoY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLCBkZWZhdWx0X2RhdGFzdG9yZT0id29ya3NwYWNlYmxvYnN0b3JlIikNCiAgICAgICAgICAgIGRlZiBzYW1wbGVfcGlwZWxpbmUocGlwZWxpbmVfam9iX2lucHV0KToNCiAgICAgICAgICAgICAgICBwcmVwX2pvYiA9IHByZXBfZnVuYyhyYXdfZGF0YT1waXBlbGluZV9qb2JfaW5wdXQpDQogICAgICAgICAgICAgICAgdHJhbnNmb3JtX2pvYiA9IHRyYW5zZm9ybV9mdW5jKGNsZWFuX2RhdGE9cHJlcF9qb2Iub3V0cHV0cy5wcmVwX2RhdGEpDQogICAgICAgICAgICAgICAgdHJhaW5fam9iID0gdHJhaW5fZnVuYyh0cmFpbmluZ19kYXRhPXRyYW5zZm9ybV9qb2Iub3V0cHV0cy50cmFuc2Zvcm1lZF9kYXRhKQ0KICAgICAgICAgICAgICAgIHByZWRpY3Rfam9iID0gcHJlZGljdF9mdW5jKA0KICAgICAgICAgICAgICAgICAgICBtb2RlbF9pbnB1dD10cmFpbl9qb2Iub3V0cHV0cy5tb2RlbF9vdXRwdXQsDQogICAgICAgICAgICAgICAgICAgIHRlc3RfZGF0YT10cmFpbl9qb2Iub3V0cHV0cy50ZXN0X2RhdGEsDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIHNjb3JlX2pvYiA9IHNjb3JlX2Z1bmMoDQogICAgICAgICAgICAgICAgICAgIHByZWRpY3Rpb25zPXByZWRpY3Rfam9iLm91dHB1dHMucHJlZGljdGlvbnMsDQogICAgICAgICAgICAgICAgICAgIG1vZGVsPXRyYWluX2pvYi5vdXRwdXRzLm1vZGVsX291dHB1dCwNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl9wcmVwcGVkX2RhdGEiOiBwcmVwX2pvYi5vdXRwdXRzLnByZXBfZGF0YSwNCiAgICAgICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl90cmFuc2Zvcm1lZF9kYXRhIjogdHJhbnNmb3JtX2pvYi5vdXRwdXRzLnRyYW5zZm9ybWVkX2RhdGEsDQogICAgICAgICAgICAgICAgICAgICJwaXBlbGluZV9qb2JfdHJhaW5lZF9tb2RlbCI6IHRyYWluX2pvYi5vdXRwdXRzLm1vZGVsX291dHB1dCwNCiAgICAgICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl90ZXN0X2RhdGEiOiB0cmFpbl9qb2Iub3V0cHV0cy50ZXN0X2RhdGEsDQogICAgICAgICAgICAgICAgICAgICJwaXBlbGluZV9qb2JfcHJlZGljdGlvbnMiOiBwcmVkaWN0X2pvYi5vdXRwdXRzLnByZWRpY3Rpb25zLA0KICAgICAgICAgICAgICAgICAgICAicGlwZWxpbmVfam9iX3Njb3JlX3JlcG9ydCI6IHNjb3JlX2pvYi5vdXRwdXRzLnNjb3JlX3JlcG9ydCwNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHBpcGVsaW5lID0gc2FtcGxlX3BpcGVsaW5lKElucHV0KHR5cGU9QXNzZXRUeXBlcy5VUklfRk9MREVSLCBwYXRoPXBhcmVudF9kaXIgKyAiL2RhdGEvIikpDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl9wcmVwcGVkX2RhdGEuZGF0YSA9ICIvcHJlcHBlZF9kYXRhIg0KICAgICAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5waXBlbGluZV9qb2JfcHJlcHBlZF9kYXRhLm1vZGUgPSAicndfbW91bnQiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl90cmFuc2Zvcm1lZF9kYXRhLmRhdGEgPSAiL3RyYW5zZm9ybWVkX2RhdGEiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl90cmFuc2Zvcm1lZF9kYXRhLm1vZGUgPSAicndfbW91bnQiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl90cmFpbmVkX21vZGVsLmRhdGEgPSAiL3RyYWluZWQtbW9kZWwiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl90cmFpbmVkX21vZGVsLm1vZGUgPSAicndfbW91bnQiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl90ZXN0X2RhdGEuZGF0YSA9ICIvdGVzdF9kYXRhIg0KICAgICAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5waXBlbGluZV9qb2JfdGVzdF9kYXRhLm1vZGUgPSAicndfbW91bnQiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl9wcmVkaWN0aW9ucy5kYXRhID0gIi9wcmVkaWN0aW9ucyINCiAgICAgICAgICAgIHBpcGVsaW5lLm91dHB1dHMucGlwZWxpbmVfam9iX3ByZWRpY3Rpb25zLm1vZGUgPSAicndfbW91bnQiDQogICAgICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVsaW5lX2pvYl9zY29yZV9yZXBvcnQuZGF0YSA9ICIvcmVwb3J0Ig0KICAgICAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5waXBlbGluZV9qb2Jfc2NvcmVfcmVwb3J0Lm1vZGUgPSAicndfbW91bnQiDQogICAgICAgICAgICByZXR1cm4gcGlwZWxpbmUNCg0KICAgICAgICAjIGNyZWF0ZSBwaXBlbGluZSBpbnN0YW5jZQ0KICAgICAgICBwaXBlbGluZSA9IGdlbmVyYXRlX2RzbF9waXBlbGluZSgpDQogICAgICAgICMgc3VibWl0IGpvYiB0byB3b3Jrc3BhY2UNCiAgICAgICAgY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZSgNCiAgICAgICAgICAgIHBpcGVsaW5lLA0KICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPSJueWNfdGF4aV9kYXRhX3JlZ3Jlc3Npb24iLA0KICAgICAgICApDQoNCiAgICBkZWYgdGVzdF9jb21tYW5kX2Z1bmN0aW9uKHNlbGYsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwgPSBzdHIoY29tcG9uZW50c19kaXIgLyAiaGVsbG93b3JsZF9jb21wb25lbnQueW1sIikNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9aGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwpDQogICAgICAgICMgdXBkYXRlIGNvbXBvbmVudCBkaXNwbGF5IG5hbWUgdG8gd29yayBhcm91bmQgc2FtZSBjb21wb25lbnQgcmVnaXN0ZXIgbXVsdGlwbGUgdGltZSBpc3N1ZQ0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYy5kaXNwbGF5X25hbWUgPSAidGVzdF9jb21tYW5kX2Z1bmN0aW9uX25vZGUiDQoNCiAgICAgICAgZW52aXJvbm1lbnQgPSAiQXp1cmVNTC1za2xlYXJuLTEuMC11YnVudHUyMC4wNC1weTM4LWNwdTozMyINCiAgICAgICAgZGlzdHJpYnV0aW9uID0geyJ0eXBlIjogIlB5dG9yY2giLCAicHJvY2Vzc19jb3VudF9wZXJfaW5zdGFuY2UiOiAyfQ0KICAgICAgICByZXNvdXJjZXMgPSB7Imluc3RhbmNlX2NvdW50IjogMn0NCiAgICAgICAgZW52aXJvbm1lbnRfdmFyaWFibGVzID0geyJlbnZpcm9uIjogInZhbCJ9DQogICAgICAgIGlucHV0cyA9IHsNCiAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IElucHV0KHR5cGU9InVyaV9mb2xkZXIiLCBwYXRoPSJodHRwczovL215LWJsb2IvcGF0aC90by9kYXRhIiwgbW9kZT0icm9fbW91bnQiKSwNCiAgICAgICAgICAgICJjb21wb25lbnRfaW5fbnVtYmVyIjogMC4wMSwNCiAgICAgICAgfQ0KICAgICAgICBvdXRwdXRzID0geyJjb21wb25lbnRfb3V0X3BhdGgiOiBPdXRwdXQodHlwZT0ibWxmbG93X21vZGVsIiwgbW9kZT0icndfbW91bnQiKX0NCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgbWl4ZWRfcGlwZWxpbmUoam9iX2luX251bWJlciwgam9iX2luX3BhdGgpOg0KICAgICAgICAgICAgY29tbWFuZF9qb2IgPSBDb21tYW5kSm9iKA0KICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZT0iY29tbWFuZC1qb2IiLA0KICAgICAgICAgICAgICAgIGVudmlyb25tZW50PWVudmlyb25tZW50LA0KICAgICAgICAgICAgICAgIGNvbW1hbmQ9J2VjaG8gImhlbGxvIHdvcmxkIicsDQogICAgICAgICAgICAgICAgZGlzdHJpYnV0aW9uPWRpc3RyaWJ1dGlvbiwNCiAgICAgICAgICAgICAgICByZXNvdXJjZXM9cmVzb3VyY2VzLA0KICAgICAgICAgICAgICAgIGVudmlyb25tZW50X3ZhcmlhYmxlcz1lbnZpcm9ubWVudF92YXJpYWJsZXMsDQogICAgICAgICAgICAgICAgaW5wdXRzPWlucHV0cywNCiAgICAgICAgICAgICAgICBvdXRwdXRzPW91dHB1dHMsDQogICAgICAgICAgICApDQogICAgICAgICAgICBjb21tYW5kX2pvYl9mdW5jID0gdG9fY29tcG9uZW50KGpvYj1jb21tYW5kX2pvYikNCg0KICAgICAgICAgICAgIyBDb21tYW5kIGZyb20gY29tbWFuZCgpIGZ1bmN0aW9uDQogICAgICAgICAgICBjb21tYW5kX2Z1bmN0aW9uID0gY29tbWFuZCgNCiAgICAgICAgICAgICAgICBkaXNwbGF5X25hbWU9ImNvbW1hbmQtZnVuY3Rpb24tam9iIiwNCiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudD1lbnZpcm9ubWVudCwNCiAgICAgICAgICAgICAgICBjb21tYW5kPSdlY2hvICJoZWxsbyB3b3JsZCInLA0KICAgICAgICAgICAgICAgIGRpc3RyaWJ1dGlvbj1kaXN0cmlidXRpb24sDQogICAgICAgICAgICAgICAgcmVzb3VyY2VzPXJlc291cmNlcywNCiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudF92YXJpYWJsZXM9ZW52aXJvbm1lbnRfdmFyaWFibGVzLA0KICAgICAgICAgICAgICAgIGlucHV0cz1pbnB1dHMsDQogICAgICAgICAgICAgICAgb3V0cHV0cz1vdXRwdXRzLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgICAgICBub2RlMSA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQogICAgICAgICAgICBub2RlMiA9IGNvbW1hbmRfam9iX2Z1bmMoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3BhdGg9bm9kZTEub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX251bWJlcj0yLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgbm9kZTMgPSBjb21tYW5kX2Z1bmN0aW9uKA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9wYXRoPW5vZGUyLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9udW1iZXI9MywNCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAicGlwZWxpbmVfam9iX291dCI6IG5vZGUzLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgfQ0KDQogICAgICAgIHBpcGVsaW5lID0gbWl4ZWRfcGlwZWxpbmUoMTYsIGpvYl9pbnB1dCkNCiAgICAgICAgIyBzdWJtaXQgam9iIHRvIHdvcmtzcGFjZQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKA0KICAgICAgICAgICAgcGlwZWxpbmUsDQogICAgICAgICAgICBleHBlcmltZW50X25hbWU9Im1peGVkX3BpcGVsaW5lIiwNCiAgICAgICAgKQ0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgInRhZ3MiOiB7Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICAiY29tcHV0ZV9pZCI6ICJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICAiaXNfYXJjaGl2ZWQiOiBGYWxzZSwNCiAgICAgICAgICAgICJqb2JfdHlwZSI6ICJQaXBlbGluZSIsDQogICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICJqb2JfaW5fbnVtYmVyIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjE2In0sDQogICAgICAgICAgICAgICAgImpvYl9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAibW9kZSI6ICJSZWFkT25seU1vdW50IiwNCiAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogInVyaV9maWxlIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJub2RlMSI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX251bWJlciI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuam9iX2luX251bWJlcn19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5qb2JfaW5fcGF0aH19In0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIm5vZGUxIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICJub2RlMiI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICAgICAgICAgICJkaXN0cmlidXRpb24iOiB7ImRpc3RyaWJ1dGlvbl90eXBlIjogIlB5VG9yY2giLCAicHJvY2Vzc19jb3VudF9wZXJfaW5zdGFuY2UiOiAyfSwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fbnVtYmVyIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIifSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5qb2JzLm5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAibm9kZTIiLA0KICAgICAgICAgICAgICAgICAgICAicmVzb3VyY2VzIjogeyJpbnN0YW5jZV9jb3VudCI6IDJ9LA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5vZGUzIjogew0KICAgICAgICAgICAgICAgICAgICAiZGlzcGxheV9uYW1lIjogImNvbW1hbmQtZnVuY3Rpb24tam9iIiwNCiAgICAgICAgICAgICAgICAgICAgImRpc3RyaWJ1dGlvbiI6IHsiZGlzdHJpYnV0aW9uX3R5cGUiOiAiUHlUb3JjaCIsICJwcm9jZXNzX2NvdW50X3Blcl9pbnN0YW5jZSI6IDJ9LA0KICAgICAgICAgICAgICAgICAgICAiZW52aXJvbm1lbnRfdmFyaWFibGVzIjogeyJlbnZpcm9uIjogInZhbCJ9LA0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMyJ9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmpvYnMubm9kZTIub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMyIsDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLnBpcGVsaW5lX2pvYl9vdXR9fSJ9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJyZXNvdXJjZXMiOiB7Imluc3RhbmNlX2NvdW50IjogMn0sDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7DQogICAgICAgICAgICAgICAgInBpcGVsaW5lX2pvYl9vdXQiOiB7DQogICAgICAgICAgICAgICAgICAgICJtb2RlIjogIlJlYWRXcml0ZU1vdW50IiwNCiAgICAgICAgICAgICAgICAgICAgImpvYl9vdXRwdXRfdHlwZSI6ICJtbGZsb3dfbW9kZWwiLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAic2V0dGluZ3MiOiB7fSwNCiAgICAgICAgfQ0KICAgICAgICBhc3NlcnQgZXhwZWN0ZWRfam9iID09IGFjdHVhbF9qb2INCg0KICAgIGRlZiB0ZXN0X2NvbW1hbmRfd2l0aF9vcHRpb25hbF9pbnB1dHMoc2VsZiwgcmFuZHN0cjogQ2FsbGFibGVbW3N0cl0sIHN0cl0sIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9IHN0cihjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudF93aXRoX29wdGlvbmFsX2lucHV0cy55bWwiKQ0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1oZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCkNCiAgICAgICAgY29tbWFuZF9mdW5jID0gY29tbWFuZCgNCiAgICAgICAgICAgIG5hbWU9ZiJ0ZXN0X29wdGlvbmFsX2lucHV0X2NvbXBvbmVudF8iICsgcmFuZHN0cigiY29tcG9uZW50X25hbWUiKSwNCiAgICAgICAgICAgIGRpc3BsYXlfbmFtZT0iY29tbWFuZF93aXRoX29wdGlvbmFsX2lucHV0cyIsDQogICAgICAgICAgICBlbnZpcm9ubWVudD0iQXp1cmVNTC1za2xlYXJuLTEuMC11YnVudHUyMC4wNC1weTM4LWNwdTozMyIsDQogICAgICAgICAgICBjb21tYW5kPSgNCiAgICAgICAgICAgICAgICAnZWNobyAiaGVsbG8gd29ybGQiICcNCiAgICAgICAgICAgICAgICAiJiBlY2hvICRbWyR7e2lucHV0cy5mbG9hdH19XV0gIg0KICAgICAgICAgICAgICAgICImIGVjaG8gJFtbJHt7aW5wdXRzLmludGVnZXJ9fV1dICINCiAgICAgICAgICAgICAgICAiJiBlY2hvICRbWyR7e2lucHV0cy5zdHJpbmd9fV1dICINCiAgICAgICAgICAgICAgICAiJiBlY2hvICRbWyR7e2lucHV0cy5ib29sZWFufX1dXSAiDQogICAgICAgICAgICAgICAgIiYgZWNobyAke3tpbnB1dHMudXJpX2ZvbGRlcn19ICINCiAgICAgICAgICAgICAgICAiJiBlY2hvICRbWyR7e2lucHV0cy5vcHRpb25hbF8wfX1dXSAiDQogICAgICAgICAgICAgICAgIiYgZWNobyAkW1ske3tpbnB1dHMub3B0aW9uYWxfMX19XV0iDQogICAgICAgICAgICAgICAgIiYgZWNobyAkW1ske3tpbnB1dHMub3B0aW9uYWxfMn19XV0iDQogICAgICAgICAgICApLA0KICAgICAgICAgICAgZGlzdHJpYnV0aW9uPXsidHlwZSI6ICJQeXRvcmNoIiwgInByb2Nlc3NfY291bnRfcGVyX2luc3RhbmNlIjogMn0sDQogICAgICAgICAgICByZXNvdXJjZXM9eyJpbnN0YW5jZV9jb3VudCI6IDJ9LA0KICAgICAgICAgICAgZW52aXJvbm1lbnRfdmFyaWFibGVzPXsiZW52aXJvbiI6ICJ2YWwifSwNCiAgICAgICAgICAgIGlucHV0cz17DQogICAgICAgICAgICAgICAgImZsb2F0IjogSW5wdXQodHlwZT0ibnVtYmVyIiwgZGVmYXVsdD0xLjEsIG1pbj0wLCBtYXg9NSwgb3B0aW9uYWw9VHJ1ZSksDQogICAgICAgICAgICAgICAgImludGVnZXIiOiBJbnB1dCh0eXBlPSJpbnRlZ2VyIiwgZGVmYXVsdD0yLCBtaW49LTEsIG1heD00LCBvcHRpb25hbD1UcnVlKSwNCiAgICAgICAgICAgICAgICAic3RyaW5nIjogSW5wdXQodHlwZT0ic3RyaW5nIiwgZGVmYXVsdD0iZGVmYXVsdF9zdHIiLCBvcHRpb25hbD1UcnVlKSwNCiAgICAgICAgICAgICAgICAiYm9vbGVhbiI6IElucHV0KHR5cGU9ImJvb2xlYW4iLCBkZWZhdWx0PUZhbHNlLCBvcHRpb25hbD1UcnVlKSwNCiAgICAgICAgICAgICAgICAidXJpX2ZvbGRlciI6IElucHV0KHR5cGU9InVyaV9mb2xkZXIiKSwNCiAgICAgICAgICAgICAgICAib3B0aW9uYWxfMCI6IElucHV0KHR5cGU9InVyaV9maWxlIiwgb3B0aW9uYWw9VHJ1ZSksDQogICAgICAgICAgICAgICAgIm9wdGlvbmFsXzEiOiBJbnB1dCh0eXBlPSJudW1iZXIiLCBvcHRpb25hbD1UcnVlKSwNCiAgICAgICAgICAgICAgICAib3B0aW9uYWxfMiI6IElucHV0KHR5cGU9Im51bWJlciIsIG9wdGlvbmFsPVRydWUsIGRlZmF1bHQ9MS4yKSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvdXRwdXRzPXsiY29tcG9uZW50X291dF9wYXRoIjogT3V0cHV0KHR5cGU9InVyaV9mb2xkZXIiKX0sDQogICAgICAgICkNCg0KICAgICAgICBjb21wb25lbnQgPSBjbGllbnQuY29tcG9uZW50cy5jcmVhdGVfb3JfdXBkYXRlKGNvbW1hbmRfZnVuYy5jb21wb25lbnQpDQogICAgICAgIGFzc2VydCBjb21wb25lbnQgYW5kIGNvbXBvbmVudC52ZXJzaW9uID09ICIxIg0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBuYW1lPWYidGVzdF9vcHRpb25hbF9pbnB1dF9jb21wb25lbnRfcGlwZWxpbmVfIiArIHJhbmRzdHIoInBpcGVsaW5lX25hbWUiKSwNCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPSJUaGUgY29tbWFuZCBub2RlIHdpdGggb3B0aW9uYWwgaW5wdXRzIiwNCiAgICAgICAgICAgIHRhZ3M9eyJvd25lciI6ICJzZGt0ZWFtIiwgInRhZyI6ICJ0YWd2YWx1ZSJ9LA0KICAgICAgICAgICAgY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBzYW1wbGVfcGlwZWxpbmUoam9iX2luX2ZpbGUpOg0KICAgICAgICAgICAgbm9kZTEgPSBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYyhjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fZmlsZSkNCiAgICAgICAgICAgIG5vZGUyID0gY29tbWFuZF9mdW5jKHVyaV9mb2xkZXI9bm9kZTEub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgpDQoNCiAgICAgICAgICAgIHJldHVybiB7InBpcGVsaW5lX291dHB1dCI6IG5vZGUyLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofQ0KDQogICAgICAgIHBpcGVsaW5lID0gc2FtcGxlX3BpcGVsaW5lKA0KICAgICAgICAgICAgSW5wdXQodHlwZT0idXJpX2ZpbGUiLCBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIpDQogICAgICAgICkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBjb21tYW5kIG5vZGUgd2l0aCBvcHRpb25hbCBpbnB1dHMiLA0KICAgICAgICAgICAgInRhZ3MiOiB7Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICAiY29tcHV0ZV9pZCI6ICJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICAiaXNfYXJjaGl2ZWQiOiBGYWxzZSwNCiAgICAgICAgICAgICJqb2JfdHlwZSI6ICJQaXBlbGluZSIsDQogICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICJqb2JfaW5fZmlsZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiUmVhZE9ubHlNb3VudCIsDQogICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZmlsZSIsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJub2RlMSI6IHsNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmpvYl9pbl9maWxlfX0ifQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMSIsDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5vZGUyIjogew0KICAgICAgICAgICAgICAgICAgICAiZGlzcGxheV9uYW1lIjogImNvbW1hbmRfd2l0aF9vcHRpb25hbF9pbnB1dHMiLA0KICAgICAgICAgICAgICAgICAgICAiZGlzdHJpYnV0aW9uIjogeyJkaXN0cmlidXRpb25fdHlwZSI6ICJQeVRvcmNoIiwgInByb2Nlc3NfY291bnRfcGVyX2luc3RhbmNlIjogMn0sDQogICAgICAgICAgICAgICAgICAgICJlbnZpcm9ubWVudF92YXJpYWJsZXMiOiB7ImVudmlyb24iOiAidmFsIn0sDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAidXJpX2ZvbGRlciI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5qb2JzLm5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMiIsDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLnBpcGVsaW5lX291dHB1dH19In0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgInJlc291cmNlcyI6IHsiaW5zdGFuY2VfY291bnQiOiAyfSwNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAib3V0cHV0cyI6IHsicGlwZWxpbmVfb3V0cHV0IjogeyJtb2RlIjogIlJlYWRXcml0ZU1vdW50IiwgImpvYl9vdXRwdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIn19LA0KICAgICAgICAgICAgInNldHRpbmdzIjoge30sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGV4cGVjdGVkX2pvYiA9PSBhY3R1YWxfam9iDQoNCiAgICBAcHl0ZXN0Lm1hcmsuc2tpcCgiU2tpcHBpbmcgZHVlIHRvIFNwYXJrIHZlcnNpb24gVXBncmFkZSIpDQogICAgZGVmIHRlc3Rfc3Bhcmtfd2l0aF9vcHRpb25hbF9pbnB1dHMoc2VsZiwgcmFuZHN0cjogQ2FsbGFibGVbW3N0cl0sIHN0cl0sIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvc3Bhcmtfam9iX2luX3BpcGVsaW5lL2NvbXBvbmVudF93aXRoX29wdGlvbmFsX2lucHV0cy55bWwiDQogICAgICAgIHNwYXJrX3dpdGhfb3B0aW9uYWxfaW5wdXRzX2NvbXBvbmVudF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBuYW1lPWYidGVzdF9vcHRpb25hbF9pbnB1dF9jb21wb25lbnRfcGlwZWxpbmVfIiArIHJhbmRzdHIoInBpcGVsaW5lX25hbWUiKSwNCiAgICAgICAgICAgIGRlc2NyaXB0aW9uPSJUaGUgc3Bhcmsgbm9kZSB3aXRoIG9wdGlvbmFsIGlucHV0cyIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgc2FtcGxlX3BpcGVsaW5lKGpvYl9pbl9maWxlLCBzYW1wbGVfcmF0ZSk6DQogICAgICAgICAgICBub2RlMSA9IHNwYXJrX3dpdGhfb3B0aW9uYWxfaW5wdXRzX2NvbXBvbmVudF9mdW5jKGlucHV0MT1qb2JfaW5fZmlsZSwgc2FtcGxlX3JhdGU9c2FtcGxlX3JhdGUpDQogICAgICAgICAgICBub2RlMS5yZXNvdXJjZXMgPSB7Imluc3RhbmNlX3R5cGUiOiAic3RhbmRhcmRfZTRzX3YzIiwgInJ1bnRpbWVfdmVyc2lvbiI6ICIzLjQuMCJ9DQogICAgICAgICAgICByZXR1cm4geyJwaXBlbGluZV9vdXRwdXQiOiBub2RlMS5vdXRwdXRzLm91dHB1dDF9DQoNCiAgICAgICAgcGlwZWxpbmUgPSBzYW1wbGVfcGlwZWxpbmUoDQogICAgICAgICAgICBqb2JfaW5fZmlsZT1JbnB1dCgNCiAgICAgICAgICAgICAgICBwYXRoPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvc3Bhcmtfam9iX2luX3BpcGVsaW5lL2RhdGFzZXQvc2hha2VzcGVhcmUudHh0IiwNCiAgICAgICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuVVJJX0ZJTEUsDQogICAgICAgICAgICAgICAgbW9kZT1JbnB1dE91dHB1dE1vZGVzLkRJUkVDVCwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBzYW1wbGVfcmF0ZT0wLjAxLA0KICAgICAgICApDQogICAgICAgIHBpcGVsaW5lLm91dHB1dHMucGlwZWxpbmVfb3V0cHV0Lm1vZGUgPSBJbnB1dE91dHB1dE1vZGVzLkRJUkVDVA0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KDQogICAgICAgIGFjdHVhbF9qb2IgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLnByb3BlcnRpZXMuYXNfZGljdCgpLCAqY29tbW9uX29taXRfZmllbGRzKQ0KICAgICAgICBleHBlY3RlZF9qb2IgPSB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHNwYXJrIG5vZGUgd2l0aCBvcHRpb25hbCBpbnB1dHMiLA0KICAgICAgICAgICAgInRhZ3MiOiB7Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICAiaXNfYXJjaGl2ZWQiOiBGYWxzZSwNCiAgICAgICAgICAgICJqb2JfdHlwZSI6ICJQaXBlbGluZSIsDQogICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICJqb2JfaW5fZmlsZSI6IHsiam9iX2lucHV0X3R5cGUiOiAidXJpX2ZpbGUiLCAibW9kZSI6ICJEaXJlY3QifSwNCiAgICAgICAgICAgICAgICAic2FtcGxlX3JhdGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMC4wMSJ9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJub2RlMSI6IHsNCiAgICAgICAgICAgICAgICAgICAgImFyZ3MiOiAiLS1pbnB1dDEgJHt7aW5wdXRzLmlucHV0MX19IC0tb3V0cHV0MiAiDQogICAgICAgICAgICAgICAgICAgICIke3tvdXRwdXRzLm91dHB1dDF9fSAtLW15X3NhbXBsZV9yYXRlICINCiAgICAgICAgICAgICAgICAgICAgIiR7e2lucHV0cy5zYW1wbGVfcmF0ZX19ICRbWy0taW5wdXRfb3B0aW9uYWwgIg0KICAgICAgICAgICAgICAgICAgICAiJHt7aW5wdXRzLmlucHV0X29wdGlvbmFsfX1dXSIsDQogICAgICAgICAgICAgICAgICAgICJjb25mIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgInNwYXJrLmRyaXZlci5jb3JlcyI6IDEsDQogICAgICAgICAgICAgICAgICAgICAgICAic3BhcmsuZHJpdmVyLm1lbW9yeSI6ICIyZyIsDQogICAgICAgICAgICAgICAgICAgICAgICAic3BhcmsuZHluYW1pY0FsbG9jYXRpb24uZW5hYmxlZCI6IFRydWUsDQogICAgICAgICAgICAgICAgICAgICAgICAic3BhcmsuZHluYW1pY0FsbG9jYXRpb24ubWF4RXhlY3V0b3JzIjogNCwNCiAgICAgICAgICAgICAgICAgICAgICAgICJzcGFyay5keW5hbWljQWxsb2NhdGlvbi5taW5FeGVjdXRvcnMiOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgInNwYXJrLmV4ZWN1dG9yLmNvcmVzIjogMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJzcGFyay5leGVjdXRvci5pbnN0YW5jZXMiOiAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgInNwYXJrLmV4ZWN1dG9yLm1lbW9yeSI6ICIyZyIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJlbnRyeSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJmaWxlIjogInNhbXBsZXdvcmRfd2l0aF9vcHRpb25hbF9pbnB1dC5weSIsDQogICAgICAgICAgICAgICAgICAgICAgICAic3Bhcmtfam9iX2VudHJ5X3R5cGUiOiAiU3BhcmtKb2JQeXRob25FbnRyeSIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJpZGVudGl0eSI6IHsiaWRlbnRpdHlfdHlwZSI6ICJVc2VySWRlbnRpdHkifSwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJpbnB1dDEiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5qb2JfaW5fZmlsZX19In0sDQogICAgICAgICAgICAgICAgICAgICAgICAic2FtcGxlX3JhdGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5zYW1wbGVfcmF0ZX19In0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIm5vZGUxIiwNCiAgICAgICAgICAgICAgICAgICAgIm91dHB1dHMiOiB7Im91dHB1dDEiOiB7InR5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQub3V0cHV0cy5waXBlbGluZV9vdXRwdXR9fSJ9fSwNCiAgICAgICAgICAgICAgICAgICAgInJlc291cmNlcyI6IHsiaW5zdGFuY2VfdHlwZSI6ICJzdGFuZGFyZF9lNHNfdjMiLCAicnVudGltZV92ZXJzaW9uIjogIjMuNC4wIn0sDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInNwYXJrIiwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7InBpcGVsaW5lX291dHB1dCI6IHsibW9kZSI6ICJEaXJlY3QiLCAiam9iX291dHB1dF90eXBlIjogInVyaV9maWxlIn19LA0KICAgICAgICAgICAgInNldHRpbmdzIjoge30sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGV4cGVjdGVkX2pvYiA9PSBhY3R1YWxfam9iDQoNCiAgICBkZWYgdGVzdF9jb21tYW5kX2J5X3Bhc3Moc2VsZiwgcmFuZHN0cjogQ2FsbGFibGVbW3N0cl0sIHN0cl0sIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9IHN0cihjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiKQ0KICAgICAgICBjb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1oZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCkNCiAgICAgICAgIyB1cGRhdGUgY29tcG9uZW50IGRpc3BsYXkgbmFtZSB0byB3b3JrIGFyb3VuZCBzYW1lIGNvbXBvbmVudCByZWdpc3RlciBtdWx0aXBsZSB0aW1lIGlzc3VlDQogICAgICAgIGNvbXBvbmVudF9mdW5jLmRpc3BsYXlfbmFtZSA9ICJ0ZXN0X2NvbW1hbmRfYnlfcGFzcyINCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICAgICAgZXhwZXJpbWVudF9uYW1lPWV4cGVyaW1lbnRfbmFtZSwNCiAgICAgICAgICAgIGNvbnRpbnVlX29uX3N0ZXBfZmFpbHVyZT1UcnVlLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZShqb2JfaW5fbnVtYmVyLCBqb2JfaW5fb3RoZXJfbnVtYmVyLCBqb2JfaW5fcGF0aCk6DQogICAgICAgICAgICAjIGR5bmFtaWMgZmllbGRzIHdpbGwgcGFzcyB0aHJvdWdoIHRvIGJhY2tlbmQNCiAgICAgICAgICAgIG5vZGUxID0gY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCiAgICAgICAgICAgIG5vZGUxLm5ld19maWVsZCA9ICJ2YWwiDQogICAgICAgICAgICBub2RlMiA9IGNvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX290aGVyX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQogICAgICAgICAgICBub2RlMi5uZXdfZmllbGQgPSB7fQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmUoMTAsIDIwLCBqb2JfaW5wdXQpDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUoDQogICAgICAgICAgICBwaXBlbGluZSwNCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT0iZHNsX2V4cCIsDQogICAgICAgICkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmZvcmNlX3JlcnVuID0gRmFsc2UNCiAgICAgICAgYWN0dWFsX2pvYiA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkucHJvcGVydGllcy5hc19kaWN0KCksICpjb21tb25fb21pdF9maWVsZHMpDQogICAgICAgIGV4cGVjdGVkX2pvYiA9IHsNCiAgICAgICAgICAgICJ0YWdzIjogeyJvd25lciI6ICJzZGt0ZWFtIiwgInRhZyI6ICJ0YWd2YWx1ZSJ9LA0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIlRoZSBoZWxsbyB3b3JsZCBwaXBlbGluZSBqb2IiLA0KICAgICAgICAgICAgImlzX2FyY2hpdmVkIjogRmFsc2UsDQogICAgICAgICAgICAiam9iX3R5cGUiOiAiUGlwZWxpbmUiLA0KICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAiam9iX2luX251bWJlciI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIxMCJ9LA0KICAgICAgICAgICAgICAgICJqb2JfaW5fb3RoZXJfbnVtYmVyIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIwIn0sDQogICAgICAgICAgICAgICAgImpvYl9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAibW9kZSI6ICJSZWFkT25seU1vdW50IiwNCiAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogInVyaV9maWxlIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJub2RlMSI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX251bWJlciI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuam9iX2luX251bWJlcn19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5qb2JfaW5fcGF0aH19In0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIm5vZGUxIiwNCiAgICAgICAgICAgICAgICAgICAgIm5ld19maWVsZCI6ICJ2YWwiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5vZGUyIjogew0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fbnVtYmVyIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5qb2JfaW5fb3RoZXJfbnVtYmVyfX0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmpvYl9pbl9wYXRofX0ifSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAibm9kZTIiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7fSwNCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHsNCiAgICAgICAgICAgICAgICAiY29udGludWVfb25fc3RlcF9mYWlsdXJlIjogVHJ1ZSwNCiAgICAgICAgICAgICAgICAiZm9yY2VfcmVydW4iOiBGYWxzZSwNCiAgICAgICAgICAgICAgICAiZGVmYXVsdF9jb21wdXRlIjogImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGV4cGVjdGVkX2pvYiA9PSBhY3R1YWxfam9iDQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV9wYXJhbWV0ZXJfd2l0aF9kZWZhdWx0X3ZhbHVlKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGlucHV0X3R5cGVzX2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gImlucHV0X3R5cGVzX2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICAjIENvbnN0cnVjdCBwaXBlbGluZQ0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhpcyBpcyB0aGUgYmFzaWMgcGlwZWxpbmUgd2l0aCBzZXZlcmFsIGlucHV0IHR5cGVzIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgaW5wdXRfdHlwZXNfcGlwZWxpbmUoDQogICAgICAgICAgICBjb21wb25lbnRfaW5fc3RyaW5nPSJjb21wb25lbnRfaW5fc3RyaW5nIiwNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9yYW5nZWRfaW50ZWdlcj0xMCwNCiAgICAgICAgICAgIGNvbXBvbmVudF9pbl9lbnVtPSJ3b3JsZCIsDQogICAgICAgICAgICBjb21wb25lbnRfaW5fYm9vbGVhbj1UcnVlLA0KICAgICAgICAgICAgY29tcG9uZW50X2luX3JhbmdlZF9udW1iZXI9OCwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGlucHV0X3R5cGVzX2Z1bmMoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3N0cmluZz1jb21wb25lbnRfaW5fc3RyaW5nLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9yYW5nZWRfaW50ZWdlcj1jb21wb25lbnRfaW5fcmFuZ2VkX2ludGVnZXIsDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX2VudW09Y29tcG9uZW50X2luX2VudW0sDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX2Jvb2xlYW49Y29tcG9uZW50X2luX2Jvb2xlYW4sDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3JhbmdlZF9udW1iZXI9Y29tcG9uZW50X2luX3JhbmdlZF9udW1iZXIsDQogICAgICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBpbnB1dF90eXBlc19waXBlbGluZSgpICAjIHVzZSBkZWZhdWx0IHBpcGVsaW5lIHBhcmFtZXRlcg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImlucHV0X3R5cGVzX3BpcGVsaW5lIikNCg0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iLmlucHV0cy5jb21wb25lbnRfaW5fc3RyaW5nLl9kYXRhID09ICJjb21wb25lbnRfaW5fc3RyaW5nIg0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iLmlucHV0cy5jb21wb25lbnRfaW5fcmFuZ2VkX2ludGVnZXIuX2RhdGEgPT0gIjEwIg0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iLmlucHV0cy5jb21wb25lbnRfaW5fZW51bS5fZGF0YSA9PSAid29ybGQiDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2IuaW5wdXRzLmNvbXBvbmVudF9pbl9ib29sZWFuLl9kYXRhID09ICJUcnVlIg0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iLmlucHV0cy5jb21wb25lbnRfaW5fcmFuZ2VkX251bWJlci5fZGF0YSA9PSAiOCINCg0KICAgIGRlZiB0ZXN0X2NvbXBvbmVudF93aXRoX2RlZmF1bHRfb3B0aW9uYWxfaW5wdXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJkZWZhdWx0X29wdGlvbmFsX2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICAjIENvbnN0cnVjdCBwaXBlbGluZQ0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhpcyBpcyB0aGUgYmFzaWMgcGlwZWxpbmUgd2l0aCBzZXZlcmFsIGlucHV0IHR5cGVzIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgZGVmYXVsdF9vcHRpb25hbF9waXBlbGluZSgpOg0KICAgICAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPSJkZWYiLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PUlucHV0KHR5cGU9InVyaV9maWxlIiwgcGF0aD0iaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiKSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGRlZmF1bHRfb3B0aW9uYWxfZnVuYygNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbT0iZGVmIiwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1JbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiksDQogICAgICAgICAgICAgICAgb3B0aW9uYWxfaW5wdXQ9Tm9uZSwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9Tm9uZSwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbT1Ob25lLA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD1Ob25lLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gZGVmYXVsdF9vcHRpb25hbF9waXBlbGluZSgpICAjIHVzZSBkZWZhdWx0IHBpcGVsaW5lIHBhcmFtZXRlcg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KDQogICAgICAgICMgb25seSB0aGUgdHdvIHJlcXVpcmVkIGlucHV0IGV4aXN0cw0KICAgICAgICBhc3NlcnQgbGVuKHBpcGVsaW5lX2pvYi5qb2JzWyJkZWZhdWx0X29wdGlvbmFsX2NvbXBvbmVudCJdLmlucHV0cykgPT0gMg0KICAgICAgICAjIFRPRE86IG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCBzaG91bGQgYWxzbyBleGlzdHMNCiAgICAgICAgYXNzZXJ0IGxlbihwaXBlbGluZV9qb2Iuam9ic1siZGVmYXVsdF9vcHRpb25hbF9jb21wb25lbnRfMSJdLmlucHV0cykgPT0gMg0KDQogICAgZGVmIHRlc3RfcGlwZWxpbmVfd2l0aF9ub25lX3BhcmFtZXRlcl9oYXNfZGVmYXVsdF9vcHRpb25hbF9mYWxzZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gImRlZmF1bHRfb3B0aW9uYWxfY29tcG9uZW50LnltbCIpKQ0KDQogICAgICAgICMgTm9uZSBpbnB1dCBpcyBiaW5kaW5nIHRvIGEgcmVxdWlyZWQgaW5wdXQNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09cmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PXJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lX3dpdGhfZGVmYXVsdF9vcHRpb25hbF9wYXJhbWV0ZXJzKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9SW5wdXQodHlwZT0idXJpX2ZpbGUiLCBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIpLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09ImhlbGxvIiwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD1Ob25lLA0KICAgICAgICApDQogICAgICAgIHZhbGlkYXRlX3Jlc3VsdCA9IHBpcGVsaW5lLl92YWxpZGF0ZSgpDQogICAgICAgIGFzc2VydCB2YWxpZGF0ZV9yZXN1bHQuZXJyb3JfbWVzc2FnZXMgPT0gew0KICAgICAgICAgICAgImlucHV0cy5yZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQiOiAiUmVxdWlyZWQgaW5wdXQgJ3JlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCcgZm9yIHBpcGVsaW5lICdwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycycgbm90IHByb3ZpZGVkLiINCiAgICAgICAgfQ0KDQogICAgICAgICMgTm9uZSBpbnB1dCBpcyBub3QgYmluZGluZyB0byBhIHJlcXVpcmVkIGlucHV0DQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtLA0KICAgICAgICApOg0KICAgICAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PXJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD1Ob25lLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1JbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiksDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbT0iaGVsbG8iLA0KICAgICAgICApDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUsIGV4cGVyaW1lbnRfbmFtZT0iZGVmYXVsdF9vcHRpb25hbF9waXBlbGluZSIpDQoNCiAgICAgICAgIyBvbmx5IHRoZSB0d28gcmVxdWlyZWQgaW5wdXRzIGV4aXN0cw0KICAgICAgICBhc3NlcnQgbGVuKG5leHQocGlwZWxpbmVfam9iLmpvYnMudmFsdWVzKCkuX19pdGVyX18oKSkuaW5wdXRzKSA9PSAyDQogICAgICAgIHZhbGlkYXRlX3Jlc3VsdCA9IHBpcGVsaW5lLl92YWxpZGF0ZSgpDQogICAgICAgIGFzc2VydCB2YWxpZGF0ZV9yZXN1bHQucGFzc2VkIGlzIFRydWUNCg0KICAgICAgICAjIE5vdCBwYXNzIHJlcXVpcmVkIHBhcmFtZXRlciB3aXRoIGRlZmF1bHQgdmFsdWUNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW0sDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09cmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PUlucHV0KHR5cGU9InVyaV9maWxlIiwgcGF0aD0iaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiKSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPSJoZWxsbyIsDQogICAgICAgICkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSwgZXhwZXJpbWVudF9uYW1lPSJkZWZhdWx0X29wdGlvbmFsX3BpcGVsaW5lIikNCiAgICAgICAgIyBvbmx5IHRoZSB0d28gcmVxdWlyZWQgaW5wdXQgZXhpc3RzDQogICAgICAgIGFzc2VydCBsZW4obmV4dChwaXBlbGluZV9qb2Iuam9icy52YWx1ZXMoKS5fX2l0ZXJfXygpKS5pbnB1dHMpID09IDINCiAgICAgICAgdmFsaWRhdGVfcmVzdWx0ID0gcGlwZWxpbmUuX3ZhbGlkYXRlKCkNCiAgICAgICAgYXNzZXJ0IHZhbGlkYXRlX3Jlc3VsdC5wYXNzZWQgaXMgVHJ1ZQ0KDQogICAgZGVmIHRlc3RfcGlwZWxpbmVfd2l0aF9ub25lX3BhcmFtZXRlcl9ub19kZWZhdWx0X29wdGlvbmFsX3RydWUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJkZWZhdWx0X29wdGlvbmFsX2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICAjIE5vbmUgaW5wdXQgaXMgYmluZGluZyB0byBhIG9wdGlvbmFsIGlucHV0DQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbSwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGRlZmF1bHRfb3B0aW9uYWxfZnVuYygNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1yZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbT1yZXF1aXJlZF9wYXJhbSwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9cmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtPW9wdGlvbmFsX3BhcmFtLA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD1vcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PUlucHV0KHR5cGU9InVyaV9maWxlIiwgcGF0aD0iaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiKSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPSJoZWxsbyIsDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9InJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCIsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbT1Ob25lLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0PSJvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQiLA0KICAgICAgICApDQogICAgICAgICMgdG9kbzogdW5jb21tZW50IHRoaXMgd2hlbiBiYWNrZW5kIHJlbW92ZSBjb21wb25lbnQgam9iIG9wdGlvbmFsIGlucHV0IHdoaWNoIGlzIGJpbmRpbmcgdG8gYSBOb25lIHBpcGVsaW5lDQogICAgICAgICMgIGlucHV0DQogICAgICAgICMgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSwgZXhwZXJpbWVudF9uYW1lPSJkZWZhdWx0X29wdGlvbmFsX3BpcGVsaW5lIikNCiAgICAgICAgYXNzZXJ0ICJvcHRpb25hbF9wYXJhbSIgbm90IGluIHBpcGVsaW5lLmlucHV0cw0KDQogICAgICAgICMgYXNzZXJ0ICJvcHRpb25hbF9wYXJhbSIgbm90IGluIHBpcGVsaW5lX2pvYi5pbnB1dHMNCiAgICAgICAgIyBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtIiBub3QgaW4gbmV4dChwaXBlbGluZV9qb2Iuam9icy52YWx1ZXMoKS5fX2l0ZXJfXygpKS5pbnB1dHMNCg0KICAgICAgICAjIE5vbmUgaW5wdXQgaXMgbm90IGJpbmRpbmcgdG8gYSBvcHRpb25hbCBpbnB1dA0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICkNCiAgICAgICAgZGVmIHBpcGVsaW5lX3dpdGhfZGVmYXVsdF9vcHRpb25hbF9wYXJhbWV0ZXJzKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICApOg0KICAgICAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PXJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD1yZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW09Tm9uZSwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQ9b3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1JbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiksDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbT0iaGVsbG8iLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PSJyZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQiLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW09Tm9uZSwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD0ib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtIiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW0iIG5vdCBpbiBwaXBlbGluZV9qb2IuaW5wdXRzDQoNCiAgICAgICAgIyBOb3QgcGFzcyByZXF1aXJlZCBwYXJhbWV0ZXIgd2l0aCBkZWZhdWx0IHZhbHVlDQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW0sDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09cmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PXJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQ9b3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1JbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiksDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbT0iaGVsbG8iLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PSJyZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQiLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW09Tm9uZSwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD0ib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtIiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW0iIG5vdCBpbiBwaXBlbGluZV9qb2IuaW5wdXRzDQoNCiAgICBkZWYgdGVzdF9jaGVja19waXBlbGluZV9jb21wb25lbnRfcGFyYW1ldGVyKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gImRlZmF1bHRfb3B0aW9uYWxfY29tcG9uZW50LnltbCIpKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfbWlzc2luZ190eXBlKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICApOg0KICAgICAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PXJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD1yZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0PW9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgICkNCg0KICAgICAgICB3aXRoIHB5dGVzdC5yYWlzZXMoVmFsaWRhdGlvbkV4Y2VwdGlvbikgYXMgZToNCiAgICAgICAgICAgIGNsaWVudC5jb21wb25lbnRzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfbWlzc2luZ190eXBlKQ0KDQogICAgICAgIGFzc2VydCAoDQogICAgICAgICAgICAiVW5rbm93biB0eXBlIG9mIHBhcmFtZXRlciBbJ3JlcXVpcmVkX2lucHV0JywgJ3JlcXVpcmVkX3BhcmFtJywgJ3JlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCcsICdvcHRpb25hbF9wYXJhbScsICdvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQnXSBpbiBwaXBlbGluZSBmdW5jICdwaXBlbGluZV9taXNzaW5nX3R5cGUnIg0KICAgICAgICAgICAgaW4gZS52YWx1ZS5tZXNzYWdlDQogICAgICAgICkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKG5vbl9waXBlbGluZV9pbnB1dHM9WyJwYXJhbSJdKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9ub25fcGlwZWxpbmVfaW5wdXRzKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ6IElucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW06IHN0ciwNCiAgICAgICAgICAgIHBhcmFtOiBzdHIsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09cmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICApDQoNCiAgICAgICAgd2l0aCBweXRlc3QucmFpc2VzKFZhbGlkYXRpb25FeGNlcHRpb24pIGFzIGU6DQogICAgICAgICAgICBjbGllbnQuY29tcG9uZW50cy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lX3dpdGhfbm9uX3BpcGVsaW5lX2lucHV0cykNCiAgICAgICAgYXNzZXJ0ICgNCiAgICAgICAgICAgICJDYW5ub3QgcmVnaXN0ZXIgcGlwZWxpbmUgY29tcG9uZW50ICdwaXBlbGluZV93aXRoX25vbl9waXBlbGluZV9pbnB1dHMnIHdpdGggbm9uX3BpcGVsaW5lX2lucHV0cy4iDQogICAgICAgICAgICBpbiBlLnZhbHVlLm1lc3NhZ2UNCiAgICAgICAgKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF92YXJpYWJsZV9pbnB1dHMocmVxdWlyZWRfaW5wdXQ6IElucHV0LCByZXF1aXJlZF9wYXJhbTogc3RyLCAqYXJncywgKiprd2FyZ3MpOg0KICAgICAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PXJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHdpdGggcHl0ZXN0LnJhaXNlcyhWYWxpZGF0aW9uRXhjZXB0aW9uKSBhcyBlOg0KICAgICAgICAgICAgY2xpZW50LmNvbXBvbmVudHMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV93aXRoX3ZhcmlhYmxlX2lucHV0cykNCiAgICAgICAgYXNzZXJ0ICgNCiAgICAgICAgICAgICJDYW5ub3QgcmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBwaXBlbGluZV93aXRoX3ZhcmlhYmxlX2lucHV0cyB3aXRoIHZhcmlhYmxlIGlucHV0cyBbJ2FyZ3MnLCAna3dhcmdzJ10iDQogICAgICAgICAgICBpbiBlLnZhbHVlLm1lc3NhZ2UNCiAgICAgICAgKQ0KDQogICAgZGVmIHRlc3RfY3JlYXRlX3BpcGVsaW5lX2NvbXBvbmVudF9ieV9kc2woc2VsZiwgY2FwbG9nLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJkZWZhdWx0X29wdGlvbmFsX2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKGNvbnRpbnVlX29uX3N0ZXBfZmFpbHVyZT1UcnVlLCBmb3JjZV9yZXJ1bj1UcnVlLCBkZWZhdWx0X2RhdGFzdG9yZT0idGVzdCIpDQogICAgICAgIGRlZiB2YWxpZF9waXBlbGluZV9mdW5jKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ6IElucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW06IHN0ciwNCiAgICAgICAgICAgIG5vZGVfY29tcHV0ZTogc3RyID0gImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGRlZmF1bHRfb3B0aW9uYWxfZnVuYygNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1yZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbT1yZXF1aXJlZF9wYXJhbSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIG5vZGUyID0gZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PXJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgbm9kZTIuY29tcHV0ZSA9IG5vZGVfY29tcHV0ZQ0KDQogICAgICAgIGNvbXBvbmVudCA9IHZhbGlkX3BpcGVsaW5lX2Z1bmMuX3BpcGVsaW5lX2J1aWxkZXIuYnVpbGQodXNlcl9wcm92aWRlZF9rd2FyZ3M9e30pDQogICAgICAgIGFzc2VydCBjb21wb25lbnQuX2F1dG9faW5jcmVtZW50X3ZlcnNpb24gaXMgVHJ1ZQ0KICAgICAgICAjIFNldCBvcmlnaW5hbCBtb2R1bGVfbG9nZ2VyIHdpdGggcGtnIG5hbWUgdG8gJ09wZXJhdGlvbicgdG8gZW5hYmxlIGNhcGxvZyBjYXB0dXJlIGxvZ3MNCiAgICAgICAgZnJvbSBhenVyZS5haS5tbC5vcGVyYXRpb25zIGltcG9ydCBfY29tcG9uZW50X29wZXJhdGlvbnMNCg0KICAgICAgICBfY29tcG9uZW50X29wZXJhdGlvbnMubW9kdWxlX2xvZ2dlciA9IGxvZ2dpbmcuZ2V0TG9nZ2VyKCJPcGVyYXRpb24iKQ0KDQogICAgICAgICMgQXNzZXJ0IGJpbmRpbmcgb24gY29tcHV0ZSBub3QgY2hhbmdlZCBhZnRlciByZXNvbHZlIGRlcGVuZGVuY2llcw0KICAgICAgICBjbGllbnQuY29tcG9uZW50cy5fcmVzb2x2ZV9kZXBlbmRlbmNpZXNfZm9yX3BpcGVsaW5lX2NvbXBvbmVudF9qb2JzKA0KICAgICAgICAgICAgY29tcG9uZW50LCByZXNvbHZlcj1jbGllbnQuY29tcG9uZW50cy5fb3JjaGVzdHJhdG9ycy5nZXRfYXNzZXRfYXJtX2lkDQogICAgICAgICkNCiAgICAgICAgYXNzZXJ0IGNvbXBvbmVudC5qb2JzWyJub2RlMiJdLmNvbXB1dGUgPT0gIiR7e3BhcmVudC5pbnB1dHMubm9kZV9jb21wdXRlfX0iDQoNCiAgICAgICAgd2l0aCBjYXBsb2cuYXRfbGV2ZWwobG9nZ2luZy5XQVJOSU5HKToNCiAgICAgICAgICAgIGNsaWVudC5jb21wb25lbnRzLmNyZWF0ZV9vcl91cGRhdGUodmFsaWRfcGlwZWxpbmVfZnVuYykNCiAgICAgICAgYXNzZXJ0ICgNCiAgICAgICAgICAgICJKb2Igc2V0dGluZ3MgeydkZWZhdWx0X2RhdGFzdG9yZSc6ICd0ZXN0JywgJ2NvbnRpbnVlX29uX3N0ZXBfZmFpbHVyZSc6IFRydWUsICdmb3JjZV9yZXJ1bic6IFRydWV9IG9uIHBpcGVsaW5lIGZ1bmN0aW9uICd2YWxpZF9waXBlbGluZV9mdW5jJyBhcmUgaWdub3JlZCB3aGVuIGNyZWF0aW5nIFBpcGVsaW5lQ29tcG9uZW50LiINCiAgICAgICAgICAgIGluIGNhcGxvZy5tZXNzYWdlcw0KICAgICAgICApDQoNCiAgICBkZWYgdGVzdF9jcmVhdGVfcGlwZWxpbmVfd2l0aF9wYXJhbWV0ZXJfZ3JvdXAoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJkZWZhdWx0X29wdGlvbmFsX2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICBAZ3JvdXANCiAgICAgICAgY2xhc3MgU3ViR3JvdXA6DQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbTogc3RyDQoNCiAgICAgICAgQGdyb3VwDQogICAgICAgIGNsYXNzIEdyb3VwOg0KICAgICAgICAgICAgc3ViOiBTdWJHcm91cA0KICAgICAgICAgICAgbm9kZV9jb21wdXRlOiBzdHIgPSAiY3B1LWNsdXN0ZXIiDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiBzdWJfcGlwZWxpbmVfZnVuYygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0OiBJbnB1dCwNCiAgICAgICAgICAgIGdyb3VwOiBHcm91cCwNCiAgICAgICAgICAgIHN1Yl9ncm91cDogU3ViR3JvdXAsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09Z3JvdXAuc3ViLnJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgbm9kZTIgPSBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09c3ViX2dyb3VwLnJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgbm9kZTIuY29tcHV0ZSA9IGdyb3VwLm5vZGVfY29tcHV0ZQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiByb290X3BpcGVsaW5lX3dpdGhfZ3JvdXAoDQogICAgICAgICAgICByX3JlcXVpcmVkX2lucHV0OiBJbnB1dCwNCiAgICAgICAgICAgIHJfZ3JvdXA6IEdyb3VwLA0KICAgICAgICApOg0KICAgICAgICAgICAgc3ViX3BpcGVsaW5lX2Z1bmMocmVxdWlyZWRfaW5wdXQ9cl9yZXF1aXJlZF9pbnB1dCwgZ3JvdXA9cl9ncm91cCwgc3ViX2dyb3VwPXJfZ3JvdXAuc3ViKQ0KDQogICAgICAgIGpvYiA9IHJvb3RfcGlwZWxpbmVfd2l0aF9ncm91cCgNCiAgICAgICAgICAgIHJfcmVxdWlyZWRfaW5wdXQ9SW5wdXQodHlwZT0idXJpX2ZpbGUiLCBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIpLA0KICAgICAgICAgICAgcl9ncm91cD1Hcm91cChzdWI9U3ViR3JvdXAocmVxdWlyZWRfcGFyYW09ImhlbGxvIikpLA0KICAgICAgICApDQogICAgICAgIHJlc3Rfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwoam9iLCBjbGllbnQpDQogICAgICAgIGFzc2VydCBsZW4ocmVzdF9qb2IuaW5wdXRzKSA9PSAyDQogICAgICAgIHJlc3Rfam9iX2RpY3QgPSByZXN0X2pvYi5fdG9fZGljdCgpDQogICAgICAgIGFzc2VydCByZXN0X2pvYl9kaWN0WyJpbnB1dHMiXSA9PSB7DQogICAgICAgICAgICAicl9yZXF1aXJlZF9pbnB1dCI6IHsNCiAgICAgICAgICAgICAgICAibW9kZSI6ICJyb19tb3VudCIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAidXJpX2ZpbGUiLA0KICAgICAgICAgICAgICAgICJwYXRoIjogImF6dXJlbWw6aHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJyX2dyb3VwLnN1Yi5yZXF1aXJlZF9wYXJhbSI6ICJoZWxsbyIsDQogICAgICAgICAgICAicl9ncm91cC5ub2RlX2NvbXB1dGUiOiAiY3B1LWNsdXN0ZXIiLA0KICAgICAgICB9DQogICAgICAgIGFzc2VydCByZXN0X2pvYl9kaWN0WyJqb2JzIl1bInN1Yl9waXBlbGluZV9mdW5jIl1bImlucHV0cyJdID09IHsNCiAgICAgICAgICAgICJyZXF1aXJlZF9pbnB1dCI6IHsicGF0aCI6ICIke3twYXJlbnQuaW5wdXRzLnJfcmVxdWlyZWRfaW5wdXR9fSJ9LA0KICAgICAgICAgICAgImdyb3VwLnN1Yi5yZXF1aXJlZF9wYXJhbSI6IHsicGF0aCI6ICIke3twYXJlbnQuaW5wdXRzLnJfZ3JvdXAuc3ViLnJlcXVpcmVkX3BhcmFtfX0ifSwNCiAgICAgICAgICAgICJncm91cC5ub2RlX2NvbXB1dGUiOiB7InBhdGgiOiAiJHt7cGFyZW50LmlucHV0cy5yX2dyb3VwLm5vZGVfY29tcHV0ZX19In0sDQogICAgICAgICAgICAic3ViX2dyb3VwLnJlcXVpcmVkX3BhcmFtIjogeyJwYXRoIjogIiR7e3BhcmVudC5pbnB1dHMucl9ncm91cC5zdWIucmVxdWlyZWRfcGFyYW19fSJ9LA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV93aXRoX25vbmVfcGFyYW1ldGVyX2hhc19kZWZhdWx0X29wdGlvbmFsX3RydWUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJkZWZhdWx0X29wdGlvbmFsX2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICAjIE5vbmUgaW5wdXQgaXMgYmluZGluZyB0byBhIG9wdGlvbmFsIGlucHV0DQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbSwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGRlZmF1bHRfb3B0aW9uYWxfZnVuYygNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1yZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbT1yZXF1aXJlZF9wYXJhbSwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9cmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtPW9wdGlvbmFsX3BhcmFtLA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD1vcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PUlucHV0KHR5cGU9InVyaV9maWxlIiwgcGF0aD0iaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiKSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPSJoZWxsbyIsDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9InJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCIsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbT0ib3B0aW9uYWxfcGFyYW0iLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0PU5vbmUsDQogICAgICAgICkNCiAgICAgICAgIyB0b2RvOiB1bmNvbW1lbnQgdGhpcyB3aGVuIGJhY2tlbmQgcmVtb3ZlIGNvbXBvbmVudCBqb2Igb3B0aW9uYWwgaW5wdXQgd2hpY2ggaXMgYmluZGluZyB0byBhIE5vbmUgcGlwZWxpbmUNCiAgICAgICAgIyAgaW5wdXQNCiAgICAgICAgIyBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCIgbm90IGluIHBpcGVsaW5lLmlucHV0cw0KDQogICAgICAgICMgYXNzZXJ0ICJvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQiIG5vdCBpbiBwaXBlbGluZV9qb2IuaW5wdXRzDQogICAgICAgICMgYXNzZXJ0ICJvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQiIG5vdCBpbiBuZXh0KHBpcGVsaW5lX2pvYi5qb2JzLnZhbHVlcygpLl9faXRlcl9fKCkpLmlucHV0cw0KDQogICAgICAgICMgTm9uZSBpbnB1dCBpcyBub3QgYmluZGluZyB0byBhIG9wdGlvbmFsIGlucHV0DQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW0sDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09cmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PXJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbT1vcHRpb25hbF9wYXJhbSwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQ9Tm9uZSwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lX3dpdGhfZGVmYXVsdF9vcHRpb25hbF9wYXJhbWV0ZXJzKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9SW5wdXQodHlwZT0idXJpX2ZpbGUiLCBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIpLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09ImhlbGxvIiwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD0icmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0IiwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtPSJvcHRpb25hbF9wYXJhbSIsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQ9Tm9uZSwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCIgbm90IGluIHBpcGVsaW5lLmlucHV0cw0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCIgbm90IGluIHBpcGVsaW5lX2pvYi5pbnB1dHMNCg0KICAgICAgICAjIE5vdCBwYXNzIHJlcXVpcmVkIHBhcmFtZXRlciB3aXRoIGRlZmF1bHQgdmFsdWUNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbSwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgKToNCiAgICAgICAgICAgIGRlZmF1bHRfb3B0aW9uYWxfZnVuYygNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1yZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbT1yZXF1aXJlZF9wYXJhbSwNCiAgICAgICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9cmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtPW9wdGlvbmFsX3BhcmFtLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dD1JbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiksDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbT0iaGVsbG8iLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PSJyZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQiLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW09Im9wdGlvbmFsX3BhcmFtIiwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD1Ob25lLA0KICAgICAgICApDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUsIGV4cGVyaW1lbnRfbmFtZT0iZGVmYXVsdF9vcHRpb25hbF9waXBlbGluZSIpDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmVfam9iLmlucHV0cw0KDQogICAgICAgICMgUGFzcyBub3Qtbm9uZSB2YWx1ZSB0byBjb21wb25lbnQgZnVuYyBkaXJlY3RseSBidXQgc2V0IG5vbmUgaW4gcGlwZWxpbmUgcGFyYW1ldGVyDQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW0sDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9SW5wdXQodHlwZT0idXJpX2ZpbGUiLCBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIpLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD0icmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0IiwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbT0ib3B0aW9uYWxfcGFyYW0iLA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD0ib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lX3dpdGhfZGVmYXVsdF9vcHRpb25hbF9wYXJhbWV0ZXJzKA0KICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9Tm9uZSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPSJoZWxsbyIsDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9Tm9uZSwNCiAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtPU5vbmUsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQ9Tm9uZSwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KICAgICAgICBhc3NlcnQgInJlcXVpcmVkX2lucHV0IiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAicmVxdWlyZWRfaW5wdXQiIG5vdCBpbiBwaXBlbGluZV9qb2IuaW5wdXRzDQogICAgICAgIGFzc2VydCAicmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAicmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmVfam9iLmlucHV0cw0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtIiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW0iIG5vdCBpbiBwaXBlbGluZV9qb2IuaW5wdXRzDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmUuaW5wdXRzDQogICAgICAgIGFzc2VydCAib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmVfam9iLmlucHV0cw0KDQogICAgZGVmIHRlc3RfcGlwZWxpbmVfd2l0aF9ub25lX3BhcmFtZXRlcl9iaW5kaW5nX3RvX3R3b19jb21wb25lbnRfaW5wdXRzKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGRlZmF1bHRfb3B0aW9uYWxfZnVuYyA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1zdHIoY29tcG9uZW50c19kaXIgLyAiZGVmYXVsdF9vcHRpb25hbF9jb21wb25lbnQueW1sIikpDQoNCiAgICAgICAgIyBOb25lIHBpcGVsaW5lIHBhcmFtZXRlciBpcyBiaW5kaW5nIHRvIHR3byBvcHRpb25hbCBjb21wb25lbnQgaW5wdXQsIHJlbW92ZWQgTm9uZSBpbnB1dA0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoDQogICAgICAgICAgICBkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmVfd2l0aF9kZWZhdWx0X29wdGlvbmFsX3BhcmFtZXRlcnMoDQogICAgICAgICAgICByZXF1aXJlZF9pbnB1dCwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW0sDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICk6DQogICAgICAgICAgICBkZWZhdWx0X29wdGlvbmFsX2Z1bmMoDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfaW5wdXQ9cmVxdWlyZWRfaW5wdXQsDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW09cmVxdWlyZWRfcGFyYW0sDQogICAgICAgICAgICAgICAgcmVxdWlyZWRfcGFyYW1fd2l0aF9kZWZhdWx0PXJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbT1vcHRpb25hbF9wYXJhbSwNCiAgICAgICAgICAgICAgICBvcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQ9b3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgZGVmYXVsdF9vcHRpb25hbF9mdW5jKA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PXJlcXVpcmVkX2lucHV0LA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPXJlcXVpcmVkX3BhcmFtLA0KICAgICAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdD1yZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW09b3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0LA0KICAgICAgICAgICAgICAgIG9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdD1vcHRpb25hbF9wYXJhbV93aXRoX2RlZmF1bHQsDQogICAgICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX2RlZmF1bHRfb3B0aW9uYWxfcGFyYW1ldGVycygNCiAgICAgICAgICAgIHJlcXVpcmVkX2lucHV0PUlucHV0KHR5cGU9InVyaV9maWxlIiwgcGF0aD0iaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiKSwNCiAgICAgICAgICAgIHJlcXVpcmVkX3BhcmFtPSJoZWxsbyIsDQogICAgICAgICAgICByZXF1aXJlZF9wYXJhbV93aXRoX2RlZmF1bHQ9InJlcXVpcmVkX3BhcmFtX3dpdGhfZGVmYXVsdCIsDQogICAgICAgICAgICBvcHRpb25hbF9wYXJhbT0ib3B0aW9uYWxfcGFyYW0iLA0KICAgICAgICAgICAgb3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0PU5vbmUsDQogICAgICAgICkNCiAgICAgICAgIyB0b2RvOiB1bmNvbW1lbnQgdGhpcyB3aGVuIGJhY2tlbmQgcmVtb3ZlIGNvbXBvbmVudCBqb2Igb3B0aW9uYWwgaW5wdXQgd2hpY2ggaXMgYmluZGluZyB0byBhIE5vbmUgcGlwZWxpbmUNCiAgICAgICAgIyAgaW5wdXQNCiAgICAgICAgIyBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ImRlZmF1bHRfb3B0aW9uYWxfcGlwZWxpbmUiKQ0KICAgICAgICBhc3NlcnQgIm9wdGlvbmFsX3BhcmFtX3dpdGhfZGVmYXVsdCIgbm90IGluIHBpcGVsaW5lLmlucHV0cw0KICAgICAgICAjIGFzc2VydCAib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gcGlwZWxpbmVfam9iLmlucHV0cw0KICAgICAgICAjIGFzc2VydCAib3B0aW9uYWxfcGFyYW1fd2l0aF9kZWZhdWx0IiBub3QgaW4gbmV4dChwaXBlbGluZV9qb2Iuam9icy52YWx1ZXMoKS5fX2l0ZXJfXygpKS5pbnB1dHMNCg0KICAgIEBweXRlc3QubWFyay5kaXNhYmxlX21vY2tfY29kZV9oYXNoDQogICAgQHB5dGVzdC5tYXJrLnNraXBpZihjb25kaXRpb249bm90IGlzX2xpdmUoKSwgcmVhc29uPSJyZXVzZSB0ZXN0LCB0YXJnZXQgdG8gdmVyaWZ5IHNlcnZpY2Utc2lkZSBiZWhhdmlvciIpDQogICAgZGVmIHRlc3RfY29tcG9uZW50X3JldXNlKHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIHBhdGggPSAiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQogICAgICAgIGNvbXBvbmVudF9mdW5jMSA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1wYXRoKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoKQ0KICAgICAgICBkZWYgcGlwZWxpbmUoY29tcG9uZW50X2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGgpOg0KICAgICAgICAgICAgbm9kZTEgPSBjb21wb25lbnRfZnVuYzEoY29tcG9uZW50X2luX251bWJlcj1jb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCkNCiAgICAgICAgICAgIG5vZGUyID0gY29tcG9uZW50X2Z1bmMxKGNvbXBvbmVudF9pbl9udW1iZXI9Y29tcG9uZW50X2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2luX3BhdGgpDQoNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMiA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1wYXRoKQ0KICAgICAgICAgICAgbm9kZTMgPSBjb21wb25lbnRfZnVuYzIoY29tcG9uZW50X2luX251bWJlcj1jb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCkNCg0KICAgICAgICAgICAgbm9kZTEuY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgICAgIG5vZGUyLmNvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQogICAgICAgICAgICBub2RlMy5jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIHBpcGVsaW5lMSA9IHBpcGVsaW5lKDEwLCBqb2JfaW5wdXQpDQoNCiAgICAgICAgcGlwZWxpbmUxID0gY2xpZW50LmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUxKQ0KDQogICAgICAgIGNvbXBvbmVudF9pZHMgPSBzZXQoKQ0KICAgICAgICBmb3IgXywgam9iIGluIHBpcGVsaW5lMS5qb2JzLml0ZW1zKCk6DQogICAgICAgICAgICBjb21wb25lbnRfaWQgPSBqb2IuY29tcG9uZW50DQogICAgICAgICAgICBjb21wb25lbnRfaWRzLmFkZChjb21wb25lbnRfaWQpDQoNCiAgICAgICAgYXNzZXJ0IGxlbihjb21wb25lbnRfaWRzKSA9PSAxLCBmIkdvdCBtdWx0aXBsZSBjb21wb25lbnQgaWQ6IHtjb21wb25lbnRfaWRzfSBmb3Igc2FtZSBhbm9uIGNvbXBvbmVudC4iDQoNCiAgICBAcHl0ZXN0Lm1hcmsuZGlzYWJsZV9tb2NrX2NvZGVfaGFzaA0KICAgIEBweXRlc3QubWFyay5za2lwaWYoY29uZGl0aW9uPW5vdCBpc19saXZlKCksIHJlYXNvbj0icmV1c2UgdGVzdCwgdGFyZ2V0IHRvIHZlcmlmeSBzZXJ2aWNlLXNpZGUgYmVoYXZpb3IiKQ0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3JldXNlKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdLCByYW5kaW50OiBDYWxsYWJsZSkgLT4gTm9uZToNCiAgICAgICAgY29tcG9uZW50X3lhbWwgPSBjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQogICAgICAgIGNvbXBvbmVudF9mdW5jMSA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpfV0pDQogICAgICAgIGNvbXBvbmVudF9mdW5jMiA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpfV0pDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIG5hbWU9cmFuZHN0cigicGlwZWxpbmVfbmFtZSIpLA0KICAgICAgICAgICAgZGVzY3JpcHRpb249IlRoZSBoZWxsbyB3b3JsZCBwaXBlbGluZSBqb2IiLA0KICAgICAgICAgICAgdGFncz17Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICBjb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLA0KICAgICAgICAgICAgY29udGludWVfcnVuX29uX3N0ZXBfZmFpbHVyZT1UcnVlLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZShqb2JfaW5fbnVtYmVyLCBqb2JfaW5fb3RoZXJfbnVtYmVyLCBqb2JfaW5fcGF0aCk6DQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzEoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMihjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9vdGhlcl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KDQogICAgICAgIGlucHV0X251bWJlciA9IHJhbmRpbnQoKQ0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lKGlucHV0X251bWJlciwgaW5wdXRfbnVtYmVyLCBqb2JfaW5wdXQpDQogICAgICAgIGpvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUpDQogICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICBzbGVlcF9pZl9saXZlKDMwKQ0KICAgICAgICAgICAgY2hpbGRyZW4gPSBjbGllbnQuam9icy5saXN0KHBhcmVudF9qb2JfbmFtZT1qb2IubmFtZSkNCiAgICAgICAgICAgIGNoaWxkcmVuID0gbGlzdChjaGlsZHJlbikNCiAgICAgICAgICAgIGlmIGxlbihjaGlsZHJlbikgPT0gMjoNCiAgICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAgIGFzc2VydCBsZW4oY2hpbGRyZW4pID09IDINCiAgICAgICAgY2hpbGQwLCBjaGlsZDEgPSBjaGlsZHJlbg0KICAgICAgICAjIGNoaWxkcmVuIHNlcXVlbmNlIGlzIG5vdCBndWFyYW50ZWVkLCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGJvdGgNCiAgICAgICAgaWYgUGlwZWxpbmVDb25zdGFudHMuUkVVU0VEX0ZMQUdfRklFTEQgaW4gY2hpbGQwLnByb3BlcnRpZXMua2V5cygpOg0KICAgICAgICAgICAgYXNzZXJ0IGNoaWxkMC5wcm9wZXJ0aWVzW1BpcGVsaW5lQ29uc3RhbnRzLlJFVVNFRF9GTEFHX0ZJRUxEXSA9PSBQaXBlbGluZUNvbnN0YW50cy5SRVVTRURfRkxBR19UUlVFDQogICAgICAgIGVsaWYgUGlwZWxpbmVDb25zdGFudHMuUkVVU0VEX0ZMQUdfRklFTEQgaW4gY2hpbGQxLnByb3BlcnRpZXMua2V5cygpOg0KICAgICAgICAgICAgYXNzZXJ0IGNoaWxkMS5wcm9wZXJ0aWVzW1BpcGVsaW5lQ29uc3RhbnRzLlJFVVNFRF9GTEFHX0ZJRUxEXSA9PSBQaXBlbGluZUNvbnN0YW50cy5SRVVTRURfRkxBR19UUlVFDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBhc3NlcnQgRmFsc2UsICJOZWl0aGVyIGNoaWxkIHJldXNlcy4iDQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV93aXRoX2NvbXBvbmVudF9pbnB1dF9uYW1lX2Nhc2Uoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIHNvdXJjZT1zdHIoY29tcG9uZW50c19kaXIgLyAiaGVsbG93b3JsZF9jb21wb25lbnRfd2l0aF91cHBlcmNhc2VfaW5wdXQueW1sIikNCiAgICAgICAgKQ0KDQogICAgICAgICMgaW5wdXQgbmFtZSBpcyB0aGUgc2FtZSB3aXRoIHlhbWwgZGVmaW5pdGlvbg0KICAgICAgICBAZHNsLnBpcGVsaW5lKGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiKQ0KICAgICAgICBkZWYgaGVsbG9fd29ybGRfcGlwZWxpbmUoY29tcG9uZW50X2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGgpOg0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X0luX251bWJlcj1jb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCkNCg0KICAgICAgICBwaXBlbGluZSA9IGhlbGxvX3dvcmxkX3BpcGVsaW5lKGNvbXBvbmVudF9pbl9udW1iZXI9MTAsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbnB1dCkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSwgZXhwZXJpbWVudF9uYW1lPWV4cGVyaW1lbnRfbmFtZSkNCiAgICAgICAgYXNzZXJ0ICJjb21wb25lbnRfSW5fbnVtYmVyIiBpbiBuZXh0KHBpcGVsaW5lX2pvYi5qb2JzLnZhbHVlcygpLl9faXRlcl9fKCkpLmlucHV0cw0KDQogICAgICAgICMgaW5wdXQgbmFtZSBpcyBsb3dlciBjYXNlDQogICAgICAgIEBkc2wucGlwZWxpbmUoZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBoZWxsb193b3JsZF9waXBlbGluZShjb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aCk6DQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYyhjb21wb25lbnRfaW5fbnVtYmVyPWNvbXBvbmVudF9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbl9wYXRoKQ0KDQogICAgICAgIHBpcGVsaW5lID0gaGVsbG9fd29ybGRfcGlwZWxpbmUoY29tcG9uZW50X2luX251bWJlcj0xMCwgY29tcG9uZW50X2luX3BhdGg9am9iX2lucHV0KQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lKQ0KICAgICAgICBhc3NlcnQgImNvbXBvbmVudF9Jbl9udW1iZXIiIGluIG5leHQocGlwZWxpbmVfam9iLmpvYnMudmFsdWVzKCkuX19pdGVyX18oKSkuaW5wdXRzDQoNCiAgICAgICAgIyBpbnB1dCBuYW1lIGlzIGVxdWFsIHRvIHlhbWwgZGVmaW5pdGlvbiBpbnB1dCBpZiBib3RoIGNoYW5nZSB0byBsb3dlciBjYXNlDQogICAgICAgIEBkc2wucGlwZWxpbmUoZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBoZWxsb193b3JsZF9waXBlbGluZShjb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aCk6DQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYyhjb21wb25lbnRfSW5fTnVtYmVyPWNvbXBvbmVudF9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbl9wYXRoKQ0KDQogICAgICAgIHBpcGVsaW5lID0gaGVsbG9fd29ybGRfcGlwZWxpbmUoY29tcG9uZW50X2luX251bWJlcj0xMCwgY29tcG9uZW50X2luX3BhdGg9am9iX2lucHV0KQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lLCBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lKQ0KICAgICAgICBhc3NlcnQgImNvbXBvbmVudF9Jbl9udW1iZXIiIGluIG5leHQocGlwZWxpbmVfam9iLmpvYnMudmFsdWVzKCkuX19pdGVyX18oKSkuaW5wdXRzDQoNCiAgICAgICAgIyB0d28gaWRlbnRpY2FsIGlucHV0IGFyZSBnaXZlbiBpZiBpZ25vcmUgY2FzZQ0KICAgICAgICBAZHNsLnBpcGVsaW5lKGRlZmF1bHRfY29tcHV0ZT0iY3B1LWNsdXN0ZXIiKQ0KICAgICAgICBkZWYgaGVsbG9fd29ybGRfcGlwZWxpbmUoY29tcG9uZW50X2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGgpOg0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X0luX251bWJlcj1jb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fbnVtYmVyPWNvbXBvbmVudF9pbl9wYXRoKQ0KDQogICAgICAgIHdpdGggcHl0ZXN0LnJhaXNlcyhWYWxpZGF0aW9uRXhjZXB0aW9uKSBhcyBleDoNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX3BpcGVsaW5lKGNvbXBvbmVudF9pbl9udW1iZXI9MTAsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbnB1dCkNCiAgICAgICAgYXNzZXJ0ICgNCiAgICAgICAgICAgICJJbnZhbGlkIGNvbXBvbmVudCBpbnB1dCBuYW1lcyAnY29tcG9uZW50X2luX251bWJlcicgYW5kICdjb21wb25lbnRfSW5fbnVtYmVyJywgd2hpY2ggYXJlIGVxdWFsIg0KICAgICAgICAgICAgaW4gZXgudmFsdWUubWVzc2FnZQ0KICAgICAgICApDQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV9qb2JfaGVscF9mdW5jdGlvbihzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgeWFtbF9maWxlID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnQueW1sIg0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBwaXBlbGluZShudW1iZXIsIHBhdGgpOg0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9eWFtbF9maWxlKQ0KICAgICAgICAgICAgbm9kZTEgPSBjb21wb25lbnRfZnVuYyhjb21wb25lbnRfaW5fbnVtYmVyPW51bWJlciwgY29tcG9uZW50X2luX3BhdGg9cGF0aCkNCiAgICAgICAgICAgIHJldHVybiB7InBpcGVsaW5lX291dHB1dCI6IG5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofQ0KDQogICAgICAgIHBpcGVsaW5lMSA9IHBpcGVsaW5lKDEwLCBqb2JfaW5wdXQpDQogICAgICAgIHBpcGVsaW5lMSA9IGNsaWVudC5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lMSkNCiAgICAgICAgd2l0aCBwYXRjaCgic3lzLnN0ZG91dCIsIG5ldz1TdHJpbmdJTygpKSBhcyBzdGRfb3V0Og0KICAgICAgICAgICAgcHJpbnQocGlwZWxpbmUxKQ0KICAgICAgICAgICAgYXNzZXJ0ICgNCiAgICAgICAgICAgICAgICAiZGlzcGxheV9uYW1lOiBwaXBlbGluZVxudHlwZTogcGlwZWxpbmVcbmlucHV0czpcbiAgbnVtYmVyOiAnMTAnXG4gIHBhdGg6XG4gICAgbW9kZTogcm9fbW91bnRcbiAgICB0eXBlOiB1cmlfZmlsZVxuICAgIHBhdGg6Ig0KICAgICAgICAgICAgICAgIGluIHN0ZF9vdXQuZ2V0dmFsdWUoKQ0KICAgICAgICAgICAgKQ0KDQogICAgZGVmIHRlc3Rfbm9kZV9wcm9wZXJ0eV9zZXR0aW5nX3ZhbGlkYXRpb24oc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgcGF0aCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMxID0gbG9hZF9jb21wb25lbnQoc291cmNlPXBhdGgpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiBwaXBlbGluZShjb21wb25lbnRfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aCk6DQogICAgICAgICAgICBub2RlMSA9IGNvbXBvbmVudF9mdW5jMShjb21wb25lbnRfaW5fbnVtYmVyPWNvbXBvbmVudF9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbl9wYXRoKQ0KICAgICAgICAgICAgbm9kZTEuamVmZl9zcGVjaWFsX29wdGlvbi5mb28gPSAiYmFyIg0KICAgICAgICAgICAgbm9kZTEuY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCg0KICAgICAgICBkc2xfcGlwZWxpbmU6IFBpcGVsaW5lSm9iID0gcGlwZWxpbmUoMTAsIGpvYl9pbnB1dCkNCiAgICAgICAgd2l0aCBwYXRjaCgiYXp1cmUuYWkubWwuZW50aXRpZXMuX3ZhbGlkYXRpb24uY29yZS5tb2R1bGVfbG9nZ2VyLndhcm5pbmciKSBhcyBtb2NrX2xvZ2dpbmc6DQogICAgICAgICAgICBfID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShkc2xfcGlwZWxpbmUpDQogICAgICAgICAgICBtb2NrX2xvZ2dpbmcuYXNzZXJ0X2NhbGxlZF93aXRoKCJXYXJuaW5nczogW2pvYnMubm9kZTEuamVmZl9zcGVjaWFsX29wdGlvbjogVW5rbm93biBmaWVsZC5dIikNCg0KICAgIGRlZiB0ZXN0X2Fub25fY29tcG9uZW50X2luX3BpcGVsaW5lKA0KICAgICAgICBzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXSwgaGVsbG9fd29ybGRfY29tcG9uZW50OiBDb21wb25lbnQNCiAgICApIC0+IE5vbmU6DQogICAgICAgIGhlbGxvX3dvcmxkX2Z1bmMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgIGNsaWVudD1jbGllbnQsIG5hbWU9aGVsbG9fd29ybGRfY29tcG9uZW50Lm5hbWUsIHZlcnNpb249aGVsbG9fd29ybGRfY29tcG9uZW50LnZlcnNpb24NCiAgICAgICAgKQ0KICAgICAgICBvcmlnaW5faWQgPSBoZWxsb193b3JsZF9mdW5jLmlkDQogICAgICAgIG1waV9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudF9tcGkueW1sIikpDQogICAgICAgIGFzc2VydCBtcGlfZnVuYy5fdmFsaWRhdGUoKS5wYXNzZWQNCg0KICAgICAgICBpbnZhbGlkX2NvbXBvbmVudF9uYW1lID0gIl9pbnZhbGlkIg0KDQogICAgICAgICMgbmFtZSBvZiBhbm9ueW1vdXMgY29tcG9uZW50IGluIHBpcGVsaW5lIGpvYiBzaG91bGQgYmUgb3ZlcndyaXR0ZW4NCiAgICAgICAgbXBpX2Z1bmMubmFtZSA9IGludmFsaWRfY29tcG9uZW50X25hbWUNCiAgICAgICAgYXNzZXJ0IG5vdCBtcGlfZnVuYy5fdmFsaWRhdGUoKS5wYXNzZWQNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImdwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsDQogICAgICAgICAgICBjb250aW51ZV9vbl9zdGVwX2ZhaWx1cmU9RmFsc2UsDQogICAgICAgICkNCiAgICAgICAgZGVmIHBpcGVsaW5lX2Rpc3RyaWJ1dGlvbl9jb21wb25lbnRzKGpvYl9pbl9udW1iZXIsIGpvYl9pbl9wYXRoKToNCiAgICAgICAgICAgIGhlbGxvd29ybGRfY29tcG9uZW50ID0gaGVsbG9fd29ybGRfZnVuYyhjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KICAgICAgICAgICAgaGVsbG93b3JsZF9jb21wb25lbnQub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGggPSBPdXRwdXQoZGF0YXNldD1EYXRhKG5hbWU9Im1sZGVzaWduZXJfY29tcG9uZW50X291dHB1dCIpKQ0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X21waSA9IG1waV9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfbXBpLmRpc3RyaWJ1dGlvbiA9IE1waURpc3RyaWJ1dGlvbigpDQogICAgICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfbXBpLmRpc3RyaWJ1dGlvbi5wcm9jZXNzX2NvdW50X3Blcl9pbnN0YW5jZSA9IDINCg0KICAgICAgICBwaXBlbGluZTogUGlwZWxpbmVKb2IgPSBwaXBlbGluZV9kaXN0cmlidXRpb25fY29tcG9uZW50cygxMCwgam9iX2lucHV0KQ0KICAgICAgICBhc3NlcnQgbXBpX2Z1bmMuX2lzX2Fub255bW91cyBpcyBGYWxzZQ0KICAgICAgICBhc3NlcnQgcGlwZWxpbmUuc2V0dGluZ3MuY29udGludWVfb25fc3RlcF9mYWlsdXJlIGlzIEZhbHNlDQogICAgICAgIGNyZWF0ZWRfam9iOiBQaXBlbGluZUpvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUoDQogICAgICAgICAgICBwaXBlbGluZSwgZXhwZXJpbWVudF9uYW1lPWV4cGVyaW1lbnRfbmFtZSwgY29udGludWVfb25fc3RlcF9mYWlsdXJlPVRydWUNCiAgICAgICAgKQ0KICAgICAgICAjIFRoZW9yZXRpY2FsbHksIHdlIHNob3VsZCBrZWVwIHRoZSBpbnZhbGlkIG5hbWUgaW4gcmVxdWVzdCBib2R5LA0KICAgICAgICAjIGFzIGNvbXBvbmVudCBuYW1lIHZhbGlkIGluIGF6dXJlbWwtY29tcG9uZW50cyBtYXliZSBpbnZhbGlkIGluIGF6dXJlLWFpLW1sLg0KICAgICAgICAjIFNvIHdlIGxlYXZlIHRoaXMgdmFsaWRhdGlvbiB0byBzZXJ2ZXItc2lkZSBmb3Igbm93Lg0KICAgICAgICBhc3NlcnQgbXBpX2Z1bmMuX3RvX3Jlc3Rfb2JqZWN0KCkucHJvcGVydGllcy5jb21wb25lbnRfc3BlY1sibmFtZSJdID09IGludmFsaWRfY29tcG9uZW50X25hbWUNCg0KICAgICAgICAjIGNvbnRpbnVlX29uX3N0ZXBfZmFpbHVyZSBjYW4ndCBiZSBzZXQgaW4gY3JlYXRlX29yX3VwZGF0ZQ0KICAgICAgICBhc3NlcnQgY3JlYXRlZF9qb2Iuc2V0dGluZ3MuY29udGludWVfb25fc3RlcF9mYWlsdXJlIGlzIEZhbHNlDQogICAgICAgIGFzc2VydCBjcmVhdGVkX2pvYi5qb2JzWyJoZWxsb193b3JsZF9jb21wb25lbnRfbXBpIl0uY29tcG9uZW50LnN0YXJ0c3dpdGgoQU5PTllNT1VTX0NPTVBPTkVOVF9OQU1FKQ0KICAgICAgICBhc3NlcnQgY3JlYXRlZF9qb2Iuam9ic1siaGVsbG93b3JsZF9jb21wb25lbnQiXS5jb21wb25lbnQgPT0gIm1pY3Jvc29mdHNhbXBsZXNfY29tbWFuZF9jb21wb25lbnRfYmFzaWM6MC4wLjEiDQogICAgICAgIGFzc2VydCBoZWxsb193b3JsZF9mdW5jLl9pc19hbm9ueW1vdXMgaXMgRmFsc2UNCiAgICAgICAgYXNzZXJ0IG9yaWdpbl9pZCA9PSBoZWxsb193b3JsZF9mdW5jLmlkDQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV9mb3JjZV9yZXJ1bihzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXSkgLT4gTm9uZToNCiAgICAgICAgY29tcG9uZW50X3lhbWwgPSBjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQogICAgICAgIGNvbXBvbmVudF9mdW5jMSA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpfV0pDQogICAgICAgIGNvbXBvbmVudF9mdW5jMiA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpfV0pDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIG5hbWU9cmFuZHN0cigicGlwZWxpbmVfbmFtZSIpLA0KICAgICAgICAgICAgZGVzY3JpcHRpb249IlRoZSBoZWxsbyB3b3JsZCBwaXBlbGluZSBqb2IiLA0KICAgICAgICAgICAgdGFncz17Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICBjb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLA0KICAgICAgICAgICAgY29udGludWVfb25fc3RlcF9mYWlsdXJlPVRydWUsDQogICAgICAgICkNCiAgICAgICAgZGVmIHBpcGVsaW5lKGpvYl9pbl9udW1iZXIsIGpvYl9pbl9vdGhlcl9udW1iZXIsIGpvYl9pbl9wYXRoKToNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMShjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMyKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX290aGVyX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZSgxMCwgMTUsIGpvYl9pbnB1dCkNCiAgICAgICAgam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCiAgICAgICAgYXNzZXJ0IGpvYi5zZXR0aW5ncy5mb3JjZV9yZXJ1biBpcyBOb25lDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIG5hbWU9cmFuZHN0cigicGlwZWxpbmVfbmFtZSIpLA0KICAgICAgICAgICAgZGVzY3JpcHRpb249IlRoZSBoZWxsbyB3b3JsZCBwaXBlbGluZSBqb2IiLA0KICAgICAgICAgICAgdGFncz17Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICBjb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLA0KICAgICAgICAgICAgY29udGludWVfb25fc3RlcF9mYWlsdXJlPVRydWUsDQogICAgICAgICAgICBmb3JjZV9yZXJ1bj1UcnVlLA0KICAgICAgICApDQogICAgICAgIGRlZiBwaXBlbGluZShqb2JfaW5fbnVtYmVyLCBqb2JfaW5fb3RoZXJfbnVtYmVyLCBqb2JfaW5fcGF0aCk6DQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzEoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMihjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9vdGhlcl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmUoMTAsIDE1LCBqb2JfaW5wdXQpDQogICAgICAgIGpvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUsIGZvcmNlX3JlcnVuPVRydWUpDQogICAgICAgIGFzc2VydCBqb2Iuc2V0dGluZ3MuZm9yY2VfcmVydW4gaXMgVHJ1ZQ0KDQogICAgQHB5dGVzdC5tYXJrLnNraXAoIlRPRE8gKDIzNzAxMjkpOiBSZWNvcmRpbmcgZmFpbHMgZHVlIHRvICdDYW5ub3QgZmluZCBwaXBlbGluZSBydW4nIGVycm9yIikNCiAgICBkZWYgdGVzdF9wYXJhbGxlbF9jb21wb25lbnRzX3dpdGhfdGFidWxhcl9pbnB1dChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRzX2RpciA9IHRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcGFyYWxsZWxfY29tcG9uZW50X3dpdGhfdGFidWxhcl9pbnB1dCINCg0KICAgICAgICBiYXRjaF9pbmZlcmVuY2UgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gInRhYnVsYXJfaW5wdXRfZTJlLnltbCIpKQ0KDQogICAgICAgICMgQ29uc3RydWN0IHBpcGVsaW5lDQogICAgICAgIEBkc2wucGlwZWxpbmUoZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBwYXJhbGxlbF9pbl9waXBlbGluZShqb2JfZGF0YV9wYXRoLCBzY29yZV9tb2RlbCk6DQogICAgICAgICAgICBiYXRjaF9pbmZlcmVuY2Vfbm9kZSA9IGJhdGNoX2luZmVyZW5jZShqb2JfZGF0YV9wYXRoPWpvYl9kYXRhX3BhdGgsIHNjb3JlX21vZGVsPXNjb3JlX21vZGVsKQ0KICAgICAgICAgICAgYmF0Y2hfaW5mZXJlbmNlX25vZGUubWluaV9iYXRjaF9zaXplID0gNQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGFyYWxsZWxfaW5fcGlwZWxpbmUoDQogICAgICAgICAgICBqb2JfZGF0YV9wYXRoPUlucHV0KA0KICAgICAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgICAgIHBhdGg9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2RhdGFzZXQvbmV1cmFsLWlyaXMtbWx0YWJsZSIsDQogICAgICAgICAgICAgICAgbW9kZT1JbnB1dE91dHB1dE1vZGVzLkRJUkVDVCwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBzY29yZV9tb2RlbD1JbnB1dCgNCiAgICAgICAgICAgICAgICBwYXRoPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9tb2RlbCIsIHR5cGU9QXNzZXRUeXBlcy5VUklfRk9MREVSLCBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRE9XTkxPQUQNCiAgICAgICAgICAgICksDQogICAgICAgICkNCiAgICAgICAgIyBzdWJtaXQgcGlwZWxpbmUgam9iDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQsIGV4cGVyaW1lbnRfbmFtZT0icGFyYWxsZWxfaW5fcGlwZWxpbmUiKQ0KDQogICAgICAgICMgY2hlY2sgcmVxdWlyZWQgZmllbGRzIGluIGpvYiBkaWN0DQogICAgICAgIGpvYl9kaWN0ID0gcGlwZWxpbmVfam9iLl90b19kaWN0KCkNCiAgICAgICAgZXhwZWN0ZWRfa2V5cyA9IFsic3RhdHVzIiwgInByb3BlcnRpZXMiLCAiY3JlYXRpb25fY29udGV4dCJdDQogICAgICAgIGZvciBrIGluIGV4cGVjdGVkX2tleXM6DQogICAgICAgICAgICBhc3NlcnQgayBpbiBqb2JfZGljdC5rZXlzKCksIGYiZmFpbGVkIHRvIGdldCB7a30gaW4ge2pvYl9kaWN0fSINCg0KICAgICAgICAjIG9yaWdpbmFsIGpvYiBkaWQgbm90IGNoYW5nZQ0KICAgICAgICBhc3NlcnRfam9iX2lucHV0X291dHB1dF90eXBlcyhwaXBlbGluZV9qb2IpDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID09ICJjcHUtY2x1c3RlciINCg0KICAgIEBweXRlc3QubWFyay5za2lwKCJUT0RPICgyMzcwMTI5KTogUmVjb3JkaW5nIGZhaWxzIGR1ZSB0byAnQ2Fubm90IGZpbmQgcGlwZWxpbmUgcnVuJyBlcnJvciIpDQogICAgZGVmIHRlc3RfcGFyYWxsZWxfY29tcG9uZW50c193aXRoX3RhYnVsYXJfaW5wdXRfYmluZF90b19saXRlcmFsX2lucHV0KHNlbGYsIGNsaWVudDogTUxDbGllbnQpIC0+IE5vbmU6DQogICAgICAgIGNvbXBvbmVudHNfZGlyID0gdGVzdHNfcm9vdF9kaXIgLyAidGVzdF9jb25maWdzL2RzbF9waXBlbGluZS9wYXJhbGxlbF9jb21wb25lbnRfd2l0aF90YWJ1bGFyX2lucHV0Ig0KDQogICAgICAgIGJhdGNoX2luZmVyZW5jZSA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1zdHIoY29tcG9uZW50c19kaXIgLyAidGFidWxhcl9pbnB1dF9lMmUueW1sIikpDQoNCiAgICAgICAgIyBDb25zdHJ1Y3QgcGlwZWxpbmUNCiAgICAgICAgQGRzbC5waXBlbGluZShkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIikNCiAgICAgICAgZGVmIHBhcmFsbGVsX2luX3BpcGVsaW5lKGpvYl9kYXRhX3BhdGgsIHNjb3JlX21vZGVsLCBsaXRlcmFsX2lucHV0KToNCiAgICAgICAgICAgIGJhdGNoX2luZmVyZW5jZV9ub2RlID0gYmF0Y2hfaW5mZXJlbmNlKGpvYl9kYXRhX3BhdGg9am9iX2RhdGFfcGF0aCwgc2NvcmVfbW9kZWw9c2NvcmVfbW9kZWwpDQogICAgICAgICAgICBiYXRjaF9pbmZlcmVuY2Vfbm9kZS5taW5pX2JhdGNoX3NpemUgPSA1DQogICAgICAgICAgICBiYXRjaF9pbmZlcmVuY2Vfbm9kZS5tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlID0gbGl0ZXJhbF9pbnB1dA0KICAgICAgICAgICAgYmF0Y2hfaW5mZXJlbmNlX25vZGUuZXJyb3JfdGhyZXNob2xkID0gbGl0ZXJhbF9pbnB1dA0KICAgICAgICAgICAgYmF0Y2hfaW5mZXJlbmNlX25vZGUubWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQgPSBsaXRlcmFsX2lucHV0DQoNCiAgICAgICAgcGlwZWxpbmUgPSBwYXJhbGxlbF9pbl9waXBlbGluZSgNCiAgICAgICAgICAgIGpvYl9kYXRhX3BhdGg9SW5wdXQoDQogICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICAgICAgcGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YXNldC9uZXVyYWwtaXJpcy1tbHRhYmxlIiwNCiAgICAgICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRElSRUNULA0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIHNjb3JlX21vZGVsPUlucHV0KA0KICAgICAgICAgICAgICAgIHBhdGg9Ii4vdGVzdHMvdGVzdF9jb25maWdzL21vZGVsIiwgdHlwZT1Bc3NldFR5cGVzLlVSSV9GT0xERVIsIG1vZGU9SW5wdXRPdXRwdXRNb2Rlcy5ET1dOTE9BRA0KICAgICAgICAgICAgKSwNCiAgICAgICAgICAgIGxpdGVyYWxfaW5wdXQ9MiwNCiAgICAgICAgKQ0KICAgICAgICAjIHN1Ym1pdCBwaXBlbGluZSBqb2INCiAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCwgZXhwZXJpbWVudF9uYW1lPSJwYXJhbGxlbF9pbl9waXBlbGluZSIpDQoNCiAgICAgICAgIyBjaGVjayByZXF1aXJlZCBmaWVsZHMgaW4gam9iIGRpY3QNCiAgICAgICAgam9iX2RpY3QgPSBwaXBlbGluZV9qb2IuX3RvX2RpY3QoKQ0KICAgICAgICBleHBlY3RlZF9rZXlzID0gWyJzdGF0dXMiLCAicHJvcGVydGllcyIsICJjcmVhdGlvbl9jb250ZXh0Il0NCiAgICAgICAgZm9yIGsgaW4gZXhwZWN0ZWRfa2V5czoNCiAgICAgICAgICAgIGFzc2VydCBrIGluIGpvYl9kaWN0LmtleXMoKSwgZiJmYWlsZWQgdG8gZ2V0IHtrfSBpbiB7am9iX2RpY3R9Ig0KDQogICAgICAgICMgb3JpZ2luYWwgam9iIGRpZCBub3QgY2hhbmdlDQogICAgICAgIGFzc2VydF9qb2JfaW5wdXRfb3V0cHV0X3R5cGVzKHBpcGVsaW5lX2pvYikNCiAgICAgICAgYXNzZXJ0IHBpcGVsaW5lX2pvYi5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPT0gImNwdS1jbHVzdGVyIg0KDQogICAgQHB5dGVzdC5tYXJrLnNraXAoIlRPRE8gKDIzNzAxMjkpOiBSZWNvcmRpbmcgZmFpbHMgZHVlIHRvICdDYW5ub3QgZmluZCBwaXBlbGluZSBydW4nIGVycm9yIikNCiAgICBkZWYgdGVzdF9wYXJhbGxlbF9jb21wb25lbnRzX3dpdGhfZmlsZV9pbnB1dChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRzX2RpciA9IHRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcGFyYWxsZWxfY29tcG9uZW50X3dpdGhfZmlsZV9pbnB1dCINCg0KICAgICAgICBiYXRjaF9pbmZlcmVuY2UgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gInNjb3JlLnltbCIpKQ0KDQogICAgICAgICMgQ29uc3RydWN0IHBpcGVsaW5lDQogICAgICAgIEBkc2wucGlwZWxpbmUoZGVmYXVsdF9jb21wdXRlPSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBwYXJhbGxlbF9pbl9waXBlbGluZShqb2JfZGF0YV9wYXRoKToNCiAgICAgICAgICAgIGJhdGNoX2luZmVyZW5jZV9ub2RlID0gYmF0Y2hfaW5mZXJlbmNlKGpvYl9kYXRhX3BhdGg9am9iX2RhdGFfcGF0aCkNCiAgICAgICAgICAgIGJhdGNoX2luZmVyZW5jZV9ub2RlLm1pbmlfYmF0Y2hfc2l6ZSA9IDUNCg0KICAgICAgICBwaXBlbGluZSA9IHBhcmFsbGVsX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgam9iX2RhdGFfcGF0aD1JbnB1dCgNCiAgICAgICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgICAgICBwYXRoPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kYXRhc2V0L21uaXN0LWRhdGEiLA0KICAgICAgICAgICAgICAgIG1vZGU9SW5wdXRPdXRwdXRNb2Rlcy5FVkFMX01PVU5ULA0KICAgICAgICAgICAgKSwNCiAgICAgICAgKQ0KICAgICAgICAjIHN1Ym1pdCBwaXBlbGluZSBqb2INCiAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCwgZXhwZXJpbWVudF9uYW1lPSJwYXJhbGxlbF9pbl9waXBlbGluZSIpDQogICAgICAgICMgY2hlY2sgcmVxdWlyZWQgZmllbGRzIGluIGpvYiBkaWN0DQogICAgICAgIGpvYl9kaWN0ID0gcGlwZWxpbmVfam9iLl90b19kaWN0KCkNCiAgICAgICAgZXhwZWN0ZWRfa2V5cyA9IFsic3RhdHVzIiwgInByb3BlcnRpZXMiLCAiY3JlYXRpb25fY29udGV4dCJdDQogICAgICAgIGZvciBrIGluIGV4cGVjdGVkX2tleXM6DQogICAgICAgICAgICBhc3NlcnQgayBpbiBqb2JfZGljdC5rZXlzKCksIGYiZmFpbGVkIHRvIGdldCB7a30gaW4ge2pvYl9kaWN0fSINCg0KICAgICAgICAjIG9yaWdpbmFsIGpvYiBkaWQgbm90IGNoYW5nZQ0KICAgICAgICBhc3NlcnRfam9iX2lucHV0X291dHB1dF90eXBlcyhwaXBlbGluZV9qb2IpDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID09ICJjcHUtY2x1c3RlciINCg0KICAgIEBweXRlc3QubWFyay5za2lwKCJUT0RPICgyMzcwMTI5KTogUmVjb3JkaW5nIGZhaWxzIGR1ZSB0byAnQ2Fubm90IGZpbmQgcGlwZWxpbmUgcnVuJyBlcnJvciIpDQogICAgZGVmIHRlc3RfcGFyYWxsZWxfcnVuX2Z1bmN0aW9uKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBkYXRhID0gSW5wdXQoDQogICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgIHBhdGg9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2RhdGFzZXQvbW5pc3QtZGF0YSIsDQogICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRVZBTF9NT1VOVCwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZSA9IGJ1aWxkX3BpcGVsaW5lX3dpdGhfcGFyYWxsZWxfcnVuX2Z1bmN0aW9uKGRhdGEpDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUpICAjIHN1Ym1pdCBwaXBlbGluZSBqb2INCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJpc19hcmNoaXZlZCI6IEZhbHNlLA0KICAgICAgICAgICAgImpvYl90eXBlIjogIlBpcGVsaW5lIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgImpvYl9kYXRhX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogIm1sdGFibGUiLCAibW9kZSI6ICJFdmFsTW91bnQifSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiam9icyI6IHsNCiAgICAgICAgICAgICAgICAibm9kZTEiOiB7DQogICAgICAgICAgICAgICAgICAgICJpbnB1dF9kYXRhIjogIiR7e2lucHV0cy5qb2JfZGF0YV9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICAiZGlzcGxheV9uYW1lIjogIm15LWV2YWx1YXRlLWpvYiIsDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2RhdGFfcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuam9iX2RhdGFfcGF0aH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAibm9kZTEiLA0KICAgICAgICAgICAgICAgICAgICAibWluaV9iYXRjaF9zaXplIjogNSwNCiAgICAgICAgICAgICAgICAgICAgImxvZ2dpbmdfbGV2ZWwiOiAiREVCVUciLA0KICAgICAgICAgICAgICAgICAgICAibWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSI6IDEsDQogICAgICAgICAgICAgICAgICAgICJlcnJvcl90aHJlc2hvbGQiOiAxLA0KICAgICAgICAgICAgICAgICAgICAibWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQiOiAxLA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsiam9iX291dHB1dF9wYXRoIjogeyJ0eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMucGlwZWxpbmVfb3V0cHV0fX0ifX0sDQogICAgICAgICAgICAgICAgICAgICJyZXNvdXJjZXMiOiB7Imluc3RhbmNlX2NvdW50IjogMn0sDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInBhcmFsbGVsIiwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJvdXRwdXRzIjogew0KICAgICAgICAgICAgICAgICJwaXBlbGluZV9vdXRwdXQiOiB7DQogICAgICAgICAgICAgICAgICAgICJtb2RlIjogIlJlYWRXcml0ZU1vdW50IiwNCiAgICAgICAgICAgICAgICAgICAgImpvYl9vdXRwdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIiwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgInNldHRpbmdzIjogeyJkZWZhdWx0X2NvbXB1dGUiOiAiY3B1LWNsdXN0ZXIifSwNCiAgICAgICAgfQ0KICAgICAgICBhc3NlcnQgZXhwZWN0ZWRfam9iID09IGFjdHVhbF9qb2INCg0KICAgICAgICAjIGNoZWNrIHJlcXVpcmVkIGZpZWxkcyBpbiBqb2IgZGljdA0KICAgICAgICBqb2JfZGljdCA9IHBpcGVsaW5lX2pvYi5fdG9fZGljdCgpDQogICAgICAgIGV4cGVjdGVkX2tleXMgPSBbInN0YXR1cyIsICJwcm9wZXJ0aWVzIiwgImNyZWF0aW9uX2NvbnRleHQiXQ0KICAgICAgICBmb3IgayBpbiBleHBlY3RlZF9rZXlzOg0KICAgICAgICAgICAgYXNzZXJ0IGsgaW4gam9iX2RpY3Qua2V5cygpLCBmImZhaWxlZCB0byBnZXQge2t9IGluIHtqb2JfZGljdH0iDQoNCiAgICAgICAgIyBvcmlnaW5hbCBqb2IgZGlkIG5vdCBjaGFuZ2UNCiAgICAgICAgYXNzZXJ0X2pvYl9pbnB1dF9vdXRwdXRfdHlwZXMocGlwZWxpbmVfam9iKQ0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9PSAiY3B1LWNsdXN0ZXIiDQoNCiAgICBAcHl0ZXN0Lm1hcmsuc2tpcCgiVE9ETyAoMjM3MDEyOSk6IFJlY29yZGluZyBmYWlscyBkdWUgdG8gJ0Nhbm5vdCBmaW5kIHBpcGVsaW5lIHJ1bicgZXJyb3IiKQ0KICAgIGRlZiB0ZXN0X3BhcmFsbGVsX3J1bl9mdW5jdGlvbl9ydW5fc2V0dGluZ3NfYmluZF90b19saXRlcmFsX2lucHV0KHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBkYXRhID0gSW5wdXQoDQogICAgICAgICAgICB0eXBlPUFzc2V0VHlwZXMuTUxUQUJMRSwNCiAgICAgICAgICAgIHBhdGg9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2RhdGFzZXQvbW5pc3QtZGF0YSIsDQogICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRVZBTF9NT1VOVCwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZSA9IGJ1aWxkX3BpcGVsaW5lX3dpdGhfcGFyYWxsZWxfcnVuX2Z1bmN0aW9uKGRhdGEsIDIpDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUpICAjIHN1Ym1pdCBwaXBlbGluZSBqb2INCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJpc19hcmNoaXZlZCI6IEZhbHNlLA0KICAgICAgICAgICAgImpvYl90eXBlIjogIlBpcGVsaW5lIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgImpvYl9kYXRhX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogIm1sdGFibGUiLCAibW9kZSI6ICJFdmFsTW91bnQifSwNCiAgICAgICAgICAgICAgICAibGl0ZXJhbF9pbnB1dCI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIyIn0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImpvYnMiOiB7DQogICAgICAgICAgICAgICAgIm5vZGUxIjogew0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRfZGF0YSI6ICIke3tpbnB1dHMuam9iX2RhdGFfcGF0aH19IiwNCiAgICAgICAgICAgICAgICAgICAgImRpc3BsYXlfbmFtZSI6ICJteS1ldmFsdWF0ZS1qb2IiLA0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9kYXRhX3BhdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmpvYl9kYXRhX3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJuYW1lIjogIm5vZGUxIiwNCiAgICAgICAgICAgICAgICAgICAgIm1pbmlfYmF0Y2hfc2l6ZSI6IDUsDQogICAgICAgICAgICAgICAgICAgICJsb2dnaW5nX2xldmVsIjogIkRFQlVHIiwNCiAgICAgICAgICAgICAgICAgICAgIm1heF9jb25jdXJyZW5jeV9wZXJfaW5zdGFuY2UiOiAiJHt7cGFyZW50LmlucHV0cy5saXRlcmFsX2lucHV0fX0iLA0KICAgICAgICAgICAgICAgICAgICAiZXJyb3JfdGhyZXNob2xkIjogIiR7e3BhcmVudC5pbnB1dHMubGl0ZXJhbF9pbnB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgIm1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkIjogIiR7e3BhcmVudC5pbnB1dHMubGl0ZXJhbF9pbnB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgIm91dHB1dHMiOiB7ImpvYl9vdXRwdXRfcGF0aCI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLnBpcGVsaW5lX291dHB1dH19In19LA0KICAgICAgICAgICAgICAgICAgICAicmVzb3VyY2VzIjogeyJpbnN0YW5jZV9jb3VudCI6ICIke3twYXJlbnQuaW5wdXRzLmxpdGVyYWxfaW5wdXR9fSJ9LA0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJwYXJhbGxlbCIsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAicGlwZWxpbmVfb3V0cHV0Ijogew0KICAgICAgICAgICAgICAgICAgICAibW9kZSI6ICJSZWFkV3JpdGVNb3VudCIsDQogICAgICAgICAgICAgICAgICAgICJqb2Jfb3V0cHV0X3R5cGUiOiAidXJpX2ZvbGRlciIsDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHsiZGVmYXVsdF9jb21wdXRlIjogImNwdS1jbHVzdGVyIn0sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGV4cGVjdGVkX2pvYiA9PSBhY3R1YWxfam9iDQogICAgICAgICMgY2hlY2sgcmVxdWlyZWQgZmllbGRzIGluIGpvYiBkaWN0DQogICAgICAgIGpvYl9kaWN0ID0gcGlwZWxpbmVfam9iLl90b19kaWN0KCkNCiAgICAgICAgZXhwZWN0ZWRfa2V5cyA9IFsic3RhdHVzIiwgInByb3BlcnRpZXMiLCAiY3JlYXRpb25fY29udGV4dCJdDQogICAgICAgIGZvciBrIGluIGV4cGVjdGVkX2tleXM6DQogICAgICAgICAgICBhc3NlcnQgayBpbiBqb2JfZGljdC5rZXlzKCksIGYiZmFpbGVkIHRvIGdldCB7a30gaW4ge2pvYl9kaWN0fSINCg0KICAgICAgICAjIG9yaWdpbmFsIGpvYiBkaWQgbm90IGNoYW5nZQ0KICAgICAgICBhc3NlcnRfam9iX2lucHV0X291dHB1dF90eXBlcyhwaXBlbGluZV9qb2IpDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID09ICJjcHUtY2x1c3RlciINCg0KICAgIGRlZiB0ZXN0X3BhcmFsbGVsX2pvYihzZWxmLCByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXSwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGVudmlyb25tZW50ID0gIkF6dXJlTUwtc2tsZWFybi0xLjAtdWJ1bnR1MjAuMDQtcHkzOC1jcHU6MzMiDQogICAgICAgIGlucHV0cyA9IHsNCiAgICAgICAgICAgICJqb2JfZGF0YV9wYXRoIjogSW5wdXQoDQogICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICAgICAgcGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YXNldC9tbmlzdC1kYXRhIiwNCiAgICAgICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRVZBTF9NT1VOVCwNCiAgICAgICAgICAgICksDQogICAgICAgIH0NCiAgICAgICAgaW5wdXRfZGF0YSA9ICIke3tpbnB1dHMuam9iX2RhdGFfcGF0aH19Ig0KICAgICAgICBvdXRwdXRzID0geyJqb2Jfb3V0cHV0X3BhdGgiOiBPdXRwdXQodHlwZT1Bc3NldFR5cGVzLlVSSV9GT0xERVIsIG1vZGU9InJ3X21vdW50Iil9DQogICAgICAgIHJlc291cmNlcyA9IHsiaW5zdGFuY2VfY291bnQiOiAyfQ0KICAgICAgICB0YXNrID0gUnVuRnVuY3Rpb24oDQogICAgICAgICAgICBjb2RlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcGFyYWxsZWxfY29tcG9uZW50X3dpdGhfZmlsZV9pbnB1dC9zcmMvIiwNCiAgICAgICAgICAgIGVudHJ5X3NjcmlwdD0ic2NvcmUucHkiLA0KICAgICAgICAgICAgcHJvZ3JhbV9hcmd1bWVudHM9Ii0tam9iX291dHB1dF9wYXRoICR7e291dHB1dHMuam9iX291dHB1dF9wYXRofX0iLA0KICAgICAgICAgICAgZW52aXJvbm1lbnQ9ZW52aXJvbm1lbnQsDQogICAgICAgICkNCiAgICAgICAgbG9nZ2luZ19sZXZlbCA9ICJERUJVRyINCiAgICAgICAgbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSA9IDENCiAgICAgICAgZXJyb3JfdGhyZXNob2xkID0gMQ0KICAgICAgICBtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCA9IDENCiAgICAgICAgbWluaV9iYXRjaF9zaXplID0gIjUiDQogICAgICAgIGVudmlyb25tZW50X3ZhcmlhYmxlcyA9IHsiZW52aXJvbm1lbnQiOiAidmFsIn0NCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIHBpcGVsaW5lIGpvYiB3aXRoIHBhcmFsbGVsIGZ1bmN0aW9uIiwNCiAgICAgICAgICAgIHRhZ3M9eyJvd25lciI6ICJzZGt0ZWFtIiwgInRhZyI6ICJ0YWd2YWx1ZSJ9LA0KICAgICAgICApDQogICAgICAgIGRlZiBwYXJhbGxlbF9pbl9waXBlbGluZShqb2JfZGF0YV9wYXRoKToNCiAgICAgICAgICAgIHBhcmFsbGVsX2pvYiA9IFBhcmFsbGVsSm9iKA0KICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZT0ibXktZXZhbHVhdGUtam9iIiwNCiAgICAgICAgICAgICAgICByZXNvdXJjZXM9cmVzb3VyY2VzLA0KICAgICAgICAgICAgICAgIG1pbmlfYmF0Y2hfc2l6ZT1taW5pX2JhdGNoX3NpemUsDQogICAgICAgICAgICAgICAgdGFzaz10YXNrLA0KICAgICAgICAgICAgICAgIGlucHV0X2RhdGE9aW5wdXRfZGF0YSwNCiAgICAgICAgICAgICAgICBsb2dnaW5nX2xldmVsPWxvZ2dpbmdfbGV2ZWwsDQogICAgICAgICAgICAgICAgbWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZT1tYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlLA0KICAgICAgICAgICAgICAgIGVycm9yX3RocmVzaG9sZD1lcnJvcl90aHJlc2hvbGQsDQogICAgICAgICAgICAgICAgbWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQ9bWluaV9iYXRjaF9lcnJvcl90aHJlc2hvbGQsDQogICAgICAgICAgICAgICAgZW52aXJvbm1lbnRfdmFyaWFibGVzPWVudmlyb25tZW50X3ZhcmlhYmxlcywNCiAgICAgICAgICAgICAgICBpbnB1dHM9aW5wdXRzLA0KICAgICAgICAgICAgICAgIG91dHB1dHM9b3V0cHV0cywNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHBhcmFsbGVsX2pvYl9mdW5jID0gdG9fY29tcG9uZW50KGpvYj1wYXJhbGxlbF9qb2IpDQogICAgICAgICAgICBwYXJhbGxlbF9ub2RlID0gcGFyYWxsZWxfam9iX2Z1bmMoam9iX2RhdGFfcGF0aD1qb2JfZGF0YV9wYXRoKQ0KDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJwaXBlbGluZV9qb2Jfb3V0IjogcGFyYWxsZWxfbm9kZS5vdXRwdXRzLmpvYl9vdXRwdXRfcGF0aCwNCiAgICAgICAgICAgIH0NCg0KICAgICAgICBwaXBlbGluZSA9IHBhcmFsbGVsX2luX3BpcGVsaW5lKA0KICAgICAgICAgICAgSW5wdXQoDQogICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLk1MVEFCTEUsDQogICAgICAgICAgICAgICAgcGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YXNldC9tbmlzdC1kYXRhIiwNCiAgICAgICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRVZBTF9NT1VOVCwNCiAgICAgICAgICAgICksDQogICAgICAgICkNCiAgICAgICAgcGlwZWxpbmUuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICAjIHN1Ym1pdCBqb2IgdG8gd29ya3NwYWNlDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQsIGV4cGVyaW1lbnRfbmFtZT0icGFyYWxsZWxfaW5fcGlwZWxpbmUiKQ0KICAgICAgICBvbWl0X2ZpZWxkcyA9IFsNCiAgICAgICAgICAgICJqb2JzLnBhcmFsbGVsX25vZGUudGFzay5jb2RlIiwNCiAgICAgICAgICAgICJqb2JzLnBhcmFsbGVsX25vZGUudGFzay5lbnZpcm9ubWVudCIsDQogICAgICAgIF0gKyBjb21tb25fb21pdF9maWVsZHMNCiAgICAgICAgYWN0dWFsX2pvYiA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkucHJvcGVydGllcy5hc19kaWN0KCksICpvbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgInRhZ3MiOiB7Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiVGhlIHBpcGVsaW5lIGpvYiB3aXRoIHBhcmFsbGVsIGZ1bmN0aW9uIiwNCiAgICAgICAgICAgICJpc19hcmNoaXZlZCI6IEZhbHNlLA0KICAgICAgICAgICAgImpvYl90eXBlIjogIlBpcGVsaW5lIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgImpvYl9kYXRhX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogIm1sdGFibGUiLCAibW9kZSI6ICJFdmFsTW91bnQifSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiam9icyI6IHsNCiAgICAgICAgICAgICAgICAicGFyYWxsZWxfbm9kZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgImlucHV0X2RhdGEiOiAiJHt7aW5wdXRzLmpvYl9kYXRhX3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAiam9iX2RhdGFfcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuam9iX2RhdGFfcGF0aH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIm1pbmlfYmF0Y2hfc2l6ZSI6IDUsDQogICAgICAgICAgICAgICAgICAgICJtYXhfY29uY3VycmVuY3lfcGVyX2luc3RhbmNlIjogMSwNCiAgICAgICAgICAgICAgICAgICAgIm1pbmlfYmF0Y2hfZXJyb3JfdGhyZXNob2xkIjogMSwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAicGFyYWxsZWxfbm9kZSIsDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9vdXRwdXRfcGF0aCI6IHsidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMucGlwZWxpbmVfam9iX291dH19IiwgInR5cGUiOiAibGl0ZXJhbCJ9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJyZXNvdXJjZXMiOiB7Imluc3RhbmNlX2NvdW50IjogMn0sDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInBhcmFsbGVsIiwNCiAgICAgICAgICAgICAgICAgICAgInRhc2siOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJydW5fZnVuY3Rpb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgImVudHJ5X3NjcmlwdCI6ICJzY29yZS5weSIsDQogICAgICAgICAgICAgICAgICAgICAgICAicHJvZ3JhbV9hcmd1bWVudHMiOiAiLS1qb2Jfb3V0cHV0X3BhdGggJHt7b3V0cHV0cy5qb2Jfb3V0cHV0X3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAicGlwZWxpbmVfam9iX291dCI6IHsNCiAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiUmVhZFdyaXRlTW91bnQiLA0KICAgICAgICAgICAgICAgICAgICAiam9iX291dHB1dF90eXBlIjogInVyaV9mb2xkZXIiLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAic2V0dGluZ3MiOiB7ImRlZmF1bHRfY29tcHV0ZSI6ICJjcHUtY2x1c3RlciJ9LA0KICAgICAgICB9DQogICAgICAgIGFzc2VydCBleHBlY3RlZF9qb2IgPT0gYWN0dWFsX2pvYg0KDQogICAgZGVmIHRlc3RfbXVsdGlfcGFyYWxsZWxfY29tcG9uZW50c193aXRoX2ZpbGVfaW5wdXRfcGlwZWxpbmVfb3V0cHV0KA0KICAgICAgICBzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXQ0KICAgICkgLT4gTm9uZToNCiAgICAgICAgY29tcG9uZW50c19kaXIgPSB0ZXN0c19yb290X2RpciAvICJ0ZXN0X2NvbmZpZ3MvZHNsX3BpcGVsaW5lL3BhcmFsbGVsX2NvbXBvbmVudF93aXRoX2ZpbGVfaW5wdXQiDQogICAgICAgIGJhdGNoX2luZmVyZW5jZTEgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9c3RyKGNvbXBvbmVudHNfZGlyIC8gInNjb3JlLnltbCIpKQ0KICAgICAgICBiYXRjaF9pbmZlcmVuY2UyID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJzY29yZS55bWwiKSkNCiAgICAgICAgY29udmVydF9kYXRhID0gbG9hZF9jb21wb25lbnQoc291cmNlPXN0cihjb21wb25lbnRzX2RpciAvICJjb252ZXJ0X2RhdGEueW1sIikpDQoNCiAgICAgICAgIyBDb25zdHJ1Y3QgcGlwZWxpbmUNCiAgICAgICAgQGRzbC5waXBlbGluZShkZWZhdWx0X2NvbXB1dGU9ImNwdS1jbHVzdGVyIikNCiAgICAgICAgZGVmIHBhcmFsbGVsX2luX3BpcGVsaW5lKGpvYl9kYXRhX3BhdGgpOg0KICAgICAgICAgICAgYmF0Y2hfaW5mZXJlbmNlX25vZGUxID0gYmF0Y2hfaW5mZXJlbmNlMShqb2JfZGF0YV9wYXRoPWpvYl9kYXRhX3BhdGgpDQogICAgICAgICAgICBjb252ZXJ0X2RhdGFfbm9kZSA9IGNvbnZlcnRfZGF0YShpbnB1dF9kYXRhPWJhdGNoX2luZmVyZW5jZV9ub2RlMS5vdXRwdXRzLmpvYl9vdXRwdXRfcGF0aCkNCiAgICAgICAgICAgIGNvbnZlcnRfZGF0YV9ub2RlLm91dHB1dHMuZmlsZV9vdXRwdXRfZGF0YS50eXBlID0gQXNzZXRUeXBlcy5NTFRBQkxFDQogICAgICAgICAgICBiYXRjaF9pbmZlcmVuY2Vfbm9kZTIgPSBiYXRjaF9pbmZlcmVuY2UyKGpvYl9kYXRhX3BhdGg9Y29udmVydF9kYXRhX25vZGUub3V0cHV0cy5maWxlX291dHB1dF9kYXRhKQ0KICAgICAgICAgICAgYmF0Y2hfaW5mZXJlbmNlX25vZGUyLmlucHV0cy5qb2JfZGF0YV9wYXRoLm1vZGUgPSBJbnB1dE91dHB1dE1vZGVzLkVWQUxfTU9VTlQNCg0KICAgICAgICAgICAgcmV0dXJuIHsiam9iX291dF9kYXRhIjogYmF0Y2hfaW5mZXJlbmNlX25vZGUyLm91dHB1dHMuam9iX291dHB1dF9wYXRofQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGFyYWxsZWxfaW5fcGlwZWxpbmUoDQogICAgICAgICAgICBqb2JfZGF0YV9wYXRoPUlucHV0KA0KICAgICAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgICAgIHBhdGg9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2RhdGFzZXQvbW5pc3QtZGF0YS8iLA0KICAgICAgICAgICAgICAgIG1vZGU9SW5wdXRPdXRwdXRNb2Rlcy5FVkFMX01PVU5ULA0KICAgICAgICAgICAgKSwNCiAgICAgICAgKQ0KICAgICAgICBwaXBlbGluZS5vdXRwdXRzLmpvYl9vdXRfZGF0YS5tb2RlID0gInVwbG9hZCINCg0KICAgICAgICAjIHN1Ym1pdCBwaXBlbGluZSBqb2INCiAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCwgZXhwZXJpbWVudF9uYW1lPSJwYXJhbGxlbF9pbl9waXBlbGluZSIpDQoNCiAgICAgICAgb21pdF9maWVsZHMgPSBbDQogICAgICAgICAgICAiam9icy4qLnRhc2suY29kZSIsDQogICAgICAgICAgICAiam9icy4qLnRhc2suZW52aXJvbm1lbnQiLA0KICAgICAgICBdICsgY29tbW9uX29taXRfZmllbGRzDQogICAgICAgIGFjdHVhbF9qb2IgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLnByb3BlcnRpZXMuYXNfZGljdCgpLCAqb21pdF9maWVsZHMpDQogICAgICAgIGV4cGVjdGVkX2pvYiA9IHsNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAiaXNfYXJjaGl2ZWQiOiBGYWxzZSwNCiAgICAgICAgICAgICJqb2JfdHlwZSI6ICJQaXBlbGluZSIsDQogICAgICAgICAgICAiaW5wdXRzIjogeyJqb2JfZGF0YV9wYXRoIjogeyJtb2RlIjogIkV2YWxNb3VudCIsICJqb2JfaW5wdXRfdHlwZSI6ICJtbHRhYmxlIn19LA0KICAgICAgICAgICAgImpvYnMiOiB7DQogICAgICAgICAgICAgICAgImJhdGNoX2luZmVyZW5jZV9ub2RlMSI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAicGFyYWxsZWwiLA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJiYXRjaF9pbmZlcmVuY2Vfbm9kZTEiLA0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9kYXRhX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5qb2JfZGF0YV9wYXRofX0ifQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAibWluaV9iYXRjaF9zaXplIjogMSwNCiAgICAgICAgICAgICAgICAgICAgInRhc2siOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJydW5fZnVuY3Rpb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgImVudHJ5X3NjcmlwdCI6ICJzY29yZS5weSIsDQogICAgICAgICAgICAgICAgICAgICAgICAicHJvZ3JhbV9hcmd1bWVudHMiOiAiLS1qb2Jfb3V0cHV0X3BhdGggJHt7b3V0cHV0cy5qb2Jfb3V0cHV0X3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJpbnB1dF9kYXRhIjogIiR7e2lucHV0cy5qb2JfZGF0YV9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICAicmVzb3VyY2VzIjogeyJpbnN0YW5jZV9jb3VudCI6IDJ9LA0KICAgICAgICAgICAgICAgICAgICAibWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSI6IDEsDQogICAgICAgICAgICAgICAgICAgICJtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCI6IDEsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAiY29udmVydF9kYXRhX25vZGUiOiB7DQogICAgICAgICAgICAgICAgICAgICJuYW1lIjogImNvbnZlcnRfZGF0YV9ub2RlIiwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJpbnB1dF9kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmpvYnMuYmF0Y2hfaW5mZXJlbmNlX25vZGUxLm91dHB1dHMuam9iX291dHB1dF9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsiZmlsZV9vdXRwdXRfZGF0YSI6IHsiam9iX291dHB1dF90eXBlIjogIm1sdGFibGUifX0sDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgImJhdGNoX2luZmVyZW5jZV9ub2RlMiI6IHsNCiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAicGFyYWxsZWwiLA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJiYXRjaF9pbmZlcmVuY2Vfbm9kZTIiLA0KICAgICAgICAgICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9kYXRhX3BhdGgiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuam9icy5jb252ZXJ0X2RhdGFfbm9kZS5vdXRwdXRzLmZpbGVfb3V0cHV0X2RhdGF9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiRXZhbE1vdW50IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIm91dHB1dHMiOiB7ImpvYl9vdXRwdXRfcGF0aCI6IHsidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMuam9iX291dF9kYXRhfX0iLCAidHlwZSI6ICJsaXRlcmFsIn19LA0KICAgICAgICAgICAgICAgICAgICAibWluaV9iYXRjaF9zaXplIjogMSwNCiAgICAgICAgICAgICAgICAgICAgInRhc2siOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJydW5fZnVuY3Rpb24iLA0KICAgICAgICAgICAgICAgICAgICAgICAgImVudHJ5X3NjcmlwdCI6ICJzY29yZS5weSIsDQogICAgICAgICAgICAgICAgICAgICAgICAicHJvZ3JhbV9hcmd1bWVudHMiOiAiLS1qb2Jfb3V0cHV0X3BhdGggJHt7b3V0cHV0cy5qb2Jfb3V0cHV0X3BhdGh9fSIsDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJpbnB1dF9kYXRhIjogIiR7e2lucHV0cy5qb2JfZGF0YV9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICAicmVzb3VyY2VzIjogeyJpbnN0YW5jZV9jb3VudCI6IDJ9LA0KICAgICAgICAgICAgICAgICAgICAibWF4X2NvbmN1cnJlbmN5X3Blcl9pbnN0YW5jZSI6IDEsDQogICAgICAgICAgICAgICAgICAgICJtaW5pX2JhdGNoX2Vycm9yX3RocmVzaG9sZCI6IDEsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAib3V0cHV0cyI6IHsiam9iX291dF9kYXRhIjogeyJtb2RlIjogIlVwbG9hZCIsICJqb2Jfb3V0cHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9fSwNCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHsiZGVmYXVsdF9jb21wdXRlIjogImNwdS1jbHVzdGVyIn0sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGV4cGVjdGVkX2pvYiA9PSBhY3R1YWxfam9iDQoNCiAgICBkZWYgdGVzdF9nZXRfY2hpbGRfam9iKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdKSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9IGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMxID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sLCBwYXJhbXNfb3ZlcnJpZGU9W3sibmFtZSI6IHJhbmRzdHIoImNvbXBvbmVudF9uYW1lIil9XSkNCiAgICAgICAgY29tcG9uZW50X2Z1bmMyID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sLCBwYXJhbXNfb3ZlcnJpZGU9W3sibmFtZSI6IHJhbmRzdHIoImNvbXBvbmVudF9uYW1lIil9XSkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKA0KICAgICAgICAgICAgbmFtZT1yYW5kc3RyKCJwaXBlbGluZV9uYW1lIiksDQogICAgICAgICAgICBkZXNjcmlwdGlvbj0iVGhlIGhlbGxvIHdvcmxkIHBpcGVsaW5lIGpvYiIsDQogICAgICAgICAgICB0YWdzPXsib3duZXIiOiAic2RrdGVhbSIsICJ0YWciOiAidGFndmFsdWUifSwNCiAgICAgICAgICAgIGNvbXB1dGU9ImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgIGV4cGVyaW1lbnRfbmFtZT1leHBlcmltZW50X25hbWUsDQogICAgICAgICAgICBjb250aW51ZV9vbl9zdGVwX2ZhaWx1cmU9VHJ1ZSwNCiAgICAgICAgKQ0KICAgICAgICBkZWYgcGlwZWxpbmUoam9iX2luX251bWJlciwgam9iX2luX290aGVyX251bWJlciwgam9iX2luX3BhdGgpOg0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMxKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQogICAgICAgICAgICBjb21wb25lbnRfZnVuYzIoY29tcG9uZW50X2luX251bWJlcj1qb2JfaW5fb3RoZXJfbnVtYmVyLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5fcGF0aCkNCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lKDEwLCAxNSwgam9iX2lucHV0KQ0KICAgICAgICBqb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KICAgICAgICBjbGllbnQuam9icy5nZXQoam9iLm5hbWUpDQogICAgICAgIGNsaWVudC5qb2JzLmdldChqb2IubmFtZSkuX3JlcHJfaHRtbF8oKSAgIyB0byB0ZXN0IGNsaWVudC5qb2JzLmdldCgpIHdvcmtzIGluIG5vdGVib29rDQoNCiAgICAgICAgY2hpbGRyZW4gPSBsaXN0KGNsaWVudC5qb2JzLmxpc3QocGFyZW50X2pvYl9uYW1lPWpvYi5uYW1lKSkNCiAgICAgICAgZm9yIGNoaWxkIGluIGNoaWxkcmVuOg0KICAgICAgICAgICAgY2xpZW50LmpvYnMuZ2V0KGNoaWxkLm5hbWUpDQogICAgICAgICAgICBjbGllbnQuam9icy5nZXQoY2hpbGQubmFtZSkuX3JlcHJfaHRtbF8oKQ0KDQogICAgZGVmIHRlc3RfZHNsX3BpcGVsaW5lX3dpdGhvdXRfc2V0dGluZ19iaW5kaW5nX25vZGUoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgZnJvbSB0ZXN0X2NvbmZpZ3MuZHNsX3BpcGVsaW5lLnBpcGVsaW5lX3dpdGhfc2V0X2JpbmRpbmdfb3V0cHV0X2lucHV0LnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBwaXBlbGluZV93aXRob3V0X3NldHRpbmdfYmluZGluZ19ub2RlLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRob3V0X3NldHRpbmdfYmluZGluZ19ub2RlKCkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkUyRSBkdW1teSBwaXBlbGluZSB3aXRoIGNvbXBvbmVudHMgZGVmaW5lZCB2aWEgeWFtbC4iLA0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJjb21wdXRlX2lkIjogImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgICJpc19hcmNoaXZlZCI6IEZhbHNlLA0KICAgICAgICAgICAgImpvYl90eXBlIjogIlBpcGVsaW5lIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgInRyYWluaW5nX2lucHV0IjogeyJtb2RlIjogIlJlYWRPbmx5TW91bnQiLCAiam9iX2lucHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9LA0KICAgICAgICAgICAgICAgICJ0cmFpbmluZ19tYXhfZXBvY2hzIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIwIn0sDQogICAgICAgICAgICAgICAgInRyYWluaW5nX2xlYXJuaW5nX3JhdGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMS44In0sDQogICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGVfc2NoZWR1bGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAidGltZS1iYXNlZCJ9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJ0cmFpbl93aXRoX3NhbXBsZV9kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAidHJhaW5fd2l0aF9zYW1wbGVfZGF0YSIsDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAidHJhaW5pbmdfZGF0YSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX2lucHV0fX0ifSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXhfZXBvY2hzIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMudHJhaW5pbmdfbWF4X2Vwb2Noc319In0sDQogICAgICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMudHJhaW5pbmdfbGVhcm5pbmdfcmF0ZX19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZV9zY2hlZHVsZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMubGVhcm5pbmdfcmF0ZV9zY2hlZHVsZX19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRzIjogeyJtb2RlbF9vdXRwdXQiOiB7InZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLnRyYWluZWRfbW9kZWx9fSIsICJ0eXBlIjogImxpdGVyYWwifX0sDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJvdXRwdXRzIjogeyJ0cmFpbmVkX21vZGVsIjogeyJtb2RlIjogIlJlYWRXcml0ZU1vdW50IiwgImpvYl9vdXRwdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIn19LA0KICAgICAgICAgICAgInNldHRpbmdzIjoge30sDQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGV4cGVjdGVkX2pvYiA9PSBhY3R1YWxfam9iDQoNCiAgICBkZWYgdGVzdF9kc2xfcGlwZWxpbmVfd2l0aF9vbmx5X3NldHRpbmdfcGlwZWxpbmVfbGV2ZWwoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5waXBlbGluZV93aXRoX3NldF9iaW5kaW5nX291dHB1dF9pbnB1dC5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgcGlwZWxpbmVfd2l0aF9vbmx5X3NldHRpbmdfcGlwZWxpbmVfbGV2ZWwsDQogICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZSA9IHBpcGVsaW5lX3dpdGhfb25seV9zZXR0aW5nX3BpcGVsaW5lX2xldmVsKCkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCiAgICAgICAgZXhwZWN0ZWRfam9iID0gew0KICAgICAgICAgICAgImRlc2NyaXB0aW9uIjogIkUyRSBkdW1teSBwaXBlbGluZSB3aXRoIGNvbXBvbmVudHMgZGVmaW5lZCB2aWEgeWFtbC4iLA0KICAgICAgICAgICAgInRhZ3MiOiB7fSwNCiAgICAgICAgICAgICJjb21wdXRlX2lkIjogImNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgICJpc19hcmNoaXZlZCI6IEZhbHNlLA0KICAgICAgICAgICAgImpvYl90eXBlIjogIlBpcGVsaW5lIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgInRyYWluaW5nX2lucHV0IjogeyJtb2RlIjogIlJlYWRPbmx5TW91bnQiLCAiam9iX2lucHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9LA0KICAgICAgICAgICAgICAgICJ0cmFpbmluZ19tYXhfZXBvY2hzIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIwIn0sDQogICAgICAgICAgICAgICAgInRyYWluaW5nX2xlYXJuaW5nX3JhdGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMS44In0sDQogICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGVfc2NoZWR1bGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAidGltZS1iYXNlZCJ9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJ0cmFpbl93aXRoX3NhbXBsZV9kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAidHJhaW5fd2l0aF9zYW1wbGVfZGF0YSIsDQogICAgICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAidHJhaW5pbmdfZGF0YSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX2lucHV0fX0ifSwNCiAgICAgICAgICAgICAgICAgICAgICAgICJtYXhfZXBvY2hzIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMudHJhaW5pbmdfbWF4X2Vwb2Noc319In0sDQogICAgICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMudHJhaW5pbmdfbGVhcm5pbmdfcmF0ZX19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZV9zY2hlZHVsZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMubGVhcm5pbmdfcmF0ZV9zY2hlZHVsZX19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICJvdXRwdXRzIjogeyJtb2RlbF9vdXRwdXQiOiB7InZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLnRyYWluZWRfbW9kZWx9fSIsICJ0eXBlIjogImxpdGVyYWwifX0sDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJvdXRwdXRzIjogeyJ0cmFpbmVkX21vZGVsIjogeyJtb2RlIjogIlVwbG9hZCIsICJqb2Jfb3V0cHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9fSwNCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHt9LA0KICAgICAgICB9DQogICAgICAgIGFzc2VydCBleHBlY3RlZF9qb2IgPT0gYWN0dWFsX2pvYg0KDQogICAgQHB5dGVzdC5tYXJrLnNraXBpZihjb25kaXRpb249bm90IGlzX2xpdmUoKSwgcmVhc29uPSJUT0RPKDIxNzczNTMpOiBpbnZlc3RpZ2F0ZSB3aHkgdGhpcyB0ZXN0IGZhaWxzLiIpDQogICAgZGVmIHRlc3RfZHNsX3BpcGVsaW5lX3dpdGhfb25seV9zZXR0aW5nX2JpbmRpbmdfbm9kZShzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgIyBUb2RvOiBjaGVja291dCBydW4gcHJpb3JpdHkgd2hlbiBiYWNrZW5kIGlzIHJlYWR5DQogICAgICAgIGZyb20gdGVzdF9jb25maWdzLmRzbF9waXBlbGluZS5waXBlbGluZV93aXRoX3NldF9iaW5kaW5nX291dHB1dF9pbnB1dC5waXBlbGluZSBpbXBvcnQgKA0KICAgICAgICAgICAgcGlwZWxpbmVfd2l0aF9vbmx5X3NldHRpbmdfYmluZGluZ19ub2RlLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX29ubHlfc2V0dGluZ19iaW5kaW5nX25vZGUoKQ0KICAgICAgICBwaXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KDQogICAgICAgIGFjdHVhbF9qb2IgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLnByb3BlcnRpZXMuYXNfZGljdCgpLCAqY29tbW9uX29taXRfZmllbGRzKQ0KICAgICAgICBleHBlY3RlZF9qb2IgPSB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRTJFIGR1bW15IHBpcGVsaW5lIHdpdGggY29tcG9uZW50cyBkZWZpbmVkIHZpYSB5YW1sLiIsDQogICAgICAgICAgICAidGFncyI6IHt9LA0KICAgICAgICAgICAgImNvbXB1dGVfaWQiOiAiY3B1LWNsdXN0ZXIiLA0KICAgICAgICAgICAgImlzX2FyY2hpdmVkIjogRmFsc2UsDQogICAgICAgICAgICAiam9iX3R5cGUiOiAiUGlwZWxpbmUiLA0KICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAidHJhaW5pbmdfaW5wdXQiOiB7Im1vZGUiOiAiUmVhZE9ubHlNb3VudCIsICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIn0sDQogICAgICAgICAgICAgICAgInRyYWluaW5nX21heF9lcG9jaHMiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMjAifSwNCiAgICAgICAgICAgICAgICAidHJhaW5pbmdfbGVhcm5pbmdfcmF0ZSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIxLjgifSwNCiAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZV9zY2hlZHVsZSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICJ0aW1lLWJhc2VkIn0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImpvYnMiOiB7DQogICAgICAgICAgICAgICAgInRyYWluX3dpdGhfc2FtcGxlX2RhdGEiOiB7DQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJ0cmFpbl93aXRoX3NhbXBsZV9kYXRhIiwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtb2RlIjogIlJlYWRPbmx5TW91bnQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy50cmFpbmluZ19pbnB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAibWF4X2Vwb2NocyI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX21heF9lcG9jaHN9fSJ9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX2xlYXJuaW5nX3JhdGV9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGVfc2NoZWR1bGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmxlYXJuaW5nX3JhdGVfc2NoZWR1bGV9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJtb2RlbF9vdXRwdXQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiVXBsb2FkIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMudHJhaW5lZF9tb2RlbH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIyBtb2RlIHdpbGwgYmUgY29waWVkIHRvIHBpcGVsaW5lIGxldmVsDQogICAgICAgICAgICAib3V0cHV0cyI6IHsidHJhaW5lZF9tb2RlbCI6IHsibW9kZSI6ICJVcGxvYWQiLCAiam9iX291dHB1dF90eXBlIjogInVyaV9mb2xkZXIifX0sDQogICAgICAgICAgICAic2V0dGluZ3MiOiB7fSwNCiAgICAgICAgfQ0KICAgICAgICBhc3NlcnQgZXhwZWN0ZWRfam9iID09IGFjdHVhbF9qb2INCg0KICAgIEBweXRlc3QubWFyay5za2lwaWYoY29uZGl0aW9uPW5vdCBpc19saXZlKCksIHJlYXNvbj0iVE9ETygyMTc3MzUzKTogaW52ZXN0aWdhdGUgd2h5IHRoaXMgdGVzdCBmYWlscy4iKQ0KICAgIGRlZiB0ZXN0X2RzbF9waXBlbGluZV93aXRoX3NldHRpbmdfYmluZGluZ19ub2RlX2FuZF9waXBlbGluZV9sZXZlbChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUucGlwZWxpbmVfd2l0aF9zZXRfYmluZGluZ19vdXRwdXRfaW5wdXQucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIHBpcGVsaW5lX3dpdGhfc2V0dGluZ19iaW5kaW5nX25vZGVfYW5kX3BpcGVsaW5lX2xldmVsLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV93aXRoX3NldHRpbmdfYmluZGluZ19ub2RlX2FuZF9waXBlbGluZV9sZXZlbCgpDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUpDQoNCiAgICAgICAgYWN0dWFsX2pvYiA9IG9taXRfd2l0aF93aWxkY2FyZChwaXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkucHJvcGVydGllcy5hc19kaWN0KCksICpjb21tb25fb21pdF9maWVsZHMpDQogICAgICAgIGV4cGVjdGVkX2pvYiA9IHsNCiAgICAgICAgICAgICJkZXNjcmlwdGlvbiI6ICJFMkUgZHVtbXkgcGlwZWxpbmUgd2l0aCBjb21wb25lbnRzIGRlZmluZWQgdmlhIHlhbWwuIiwNCiAgICAgICAgICAgICJ0YWdzIjoge30sDQogICAgICAgICAgICAiY29tcHV0ZV9pZCI6ICJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICAiaXNfYXJjaGl2ZWQiOiBGYWxzZSwNCiAgICAgICAgICAgICJqb2JfdHlwZSI6ICJQaXBlbGluZSIsDQogICAgICAgICAgICAiaW5wdXRzIjogew0KICAgICAgICAgICAgICAgICJ0cmFpbmluZ19pbnB1dCI6IHsibW9kZSI6ICJEb3dubG9hZCIsICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIn0sDQogICAgICAgICAgICAgICAgInRyYWluaW5nX21heF9lcG9jaHMiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMjAifSwNCiAgICAgICAgICAgICAgICAidHJhaW5pbmdfbGVhcm5pbmdfcmF0ZSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIxLjgifSwNCiAgICAgICAgICAgICAgICAibGVhcm5pbmdfcmF0ZV9zY2hlZHVsZSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICJ0aW1lLWJhc2VkIn0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImpvYnMiOiB7DQogICAgICAgICAgICAgICAgInRyYWluX3dpdGhfc2FtcGxlX2RhdGEiOiB7DQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJ0cmFpbl93aXRoX3NhbXBsZV9kYXRhIiwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtb2RlIjogIlJlYWRPbmx5TW91bnQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy50cmFpbmluZ19pbnB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAibWF4X2Vwb2NocyI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX21heF9lcG9jaHN9fSJ9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX2xlYXJuaW5nX3JhdGV9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGVfc2NoZWR1bGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmxlYXJuaW5nX3JhdGVfc2NoZWR1bGV9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJtb2RlbF9vdXRwdXQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiVXBsb2FkIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMudHJhaW5lZF9tb2RlbH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIyBwaXBlbGluZSBsZXZlbCBvdXRwdXQgc2V0dGluZyB0YWtpbmcgZWZmZWN0DQogICAgICAgICAgICAib3V0cHV0cyI6IHsidHJhaW5lZF9tb2RlbCI6IHsibW9kZSI6ICJSZWFkV3JpdGVNb3VudCIsICJqb2Jfb3V0cHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9fSwNCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHt9LA0KICAgICAgICB9DQogICAgICAgIGFzc2VydCBleHBlY3RlZF9qb2IgPT0gYWN0dWFsX2pvYg0KDQogICAgZGVmIHRlc3RfZHNsX3BpcGVsaW5lX3dpdGhfY29tbWFuZF9idWlsZGVyX3NldHRpbmdfYmluZGluZ19ub2RlX2FuZF9waXBlbGluZV9sZXZlbChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUucGlwZWxpbmVfd2l0aF9zZXRfYmluZGluZ19vdXRwdXRfaW5wdXQucGlwZWxpbmUgaW1wb3J0ICgNCiAgICAgICAgICAgIHBpcGVsaW5lX3dpdGhfY29tbWFuZF9idWlsZGVyX3NldHRpbmdfYmluZGluZ19ub2RlX2FuZF9waXBlbGluZV9sZXZlbCwNCiAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcGlwZWxpbmVfd2l0aF9jb21tYW5kX2J1aWxkZXJfc2V0dGluZ19iaW5kaW5nX25vZGVfYW5kX3BpcGVsaW5lX2xldmVsKCkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCg0KICAgICAgICBleHBlY3RlZF9qb2IgPSB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAiRTJFIGR1bW15IHBpcGVsaW5lIHdpdGggY29tcG9uZW50cyBkZWZpbmVkIHZpYSB5YW1sLiIsDQogICAgICAgICAgICAidGFncyI6IHt9LA0KICAgICAgICAgICAgImNvbXB1dGVfaWQiOiAiY3B1LWNsdXN0ZXIiLA0KICAgICAgICAgICAgImlzX2FyY2hpdmVkIjogRmFsc2UsDQogICAgICAgICAgICAiam9iX3R5cGUiOiAiUGlwZWxpbmUiLA0KICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAidHJhaW5pbmdfaW5wdXQiOiB7Im1vZGUiOiAiRG93bmxvYWQiLCAiam9iX2lucHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9LA0KICAgICAgICAgICAgICAgICJ0cmFpbmluZ19tYXhfZXBvY2hzIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIjIwIn0sDQogICAgICAgICAgICAgICAgInRyYWluaW5nX2xlYXJuaW5nX3JhdGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMS44In0sDQogICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGVfc2NoZWR1bGUiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAidGltZS1iYXNlZCJ9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJ0cmFpbl93aXRoX3NhbXBsZV9kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgICAgICAgICAgImRpc3RyaWJ1dGlvbiI6IHsiZGlzdHJpYnV0aW9uX3R5cGUiOiAiUHlUb3JjaCIsICJwcm9jZXNzX2NvdW50X3Blcl9pbnN0YW5jZSI6IDJ9LA0KICAgICAgICAgICAgICAgICAgICAibmFtZSI6ICJ0cmFpbl93aXRoX3NhbXBsZV9kYXRhIiwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJ0cmFpbmluZ19kYXRhIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtb2RlIjogIlJlYWRPbmx5TW91bnQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy50cmFpbmluZ19pbnB1dH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAibWF4X2Vwb2NocyI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX21heF9lcG9jaHN9fSJ9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLnRyYWluaW5nX2xlYXJuaW5nX3JhdGV9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgImxlYXJuaW5nX3JhdGVfc2NoZWR1bGUiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmxlYXJuaW5nX3JhdGVfc2NoZWR1bGV9fSIsDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJtb2RlbF9vdXRwdXQiOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiVXBsb2FkIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiJHt7cGFyZW50Lm91dHB1dHMudHJhaW5lZF9tb2RlbH19IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJsaXRlcmFsIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm91dHB1dHMiOiB7InRyYWluZWRfbW9kZWwiOiB7Im1vZGUiOiAiUmVhZFdyaXRlTW91bnQiLCAiam9iX291dHB1dF90eXBlIjogInVyaV9mb2xkZXIifX0sDQogICAgICAgICAgICAic2V0dGluZ3MiOiB7fSwNCiAgICAgICAgfQ0KICAgICAgICBhc3NlcnQgZXhwZWN0ZWRfam9iID09IGFjdHVhbF9qb2INCg0KICAgIEBweXRlc3QubWFyay5za2lwKCJUT0RPICgyMzc1MDg2KTogSm9iIGZhaWxpbmcgd2l0aCAnVXNlciBmYWlsZWQgdG8gY2FsbCBTYXZlVXNlclRva2VuIGJlZm9yZSBHZXRVc2VyVG9rZW4nIikNCiAgICBkZWYgdGVzdF9zcGFya19jb21wb25lbnRzKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdKSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRzX2RpciA9IHRlc3RzX3Jvb3RfZGlyIC8gInRlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvc3Bhcmtfam9iX2luX3BpcGVsaW5lIg0KICAgICAgICBhZGRfZ3JlZXRpbmdfY29sdW1uID0gbG9hZF9jb21wb25lbnQoc3RyKGNvbXBvbmVudHNfZGlyIC8gImFkZF9ncmVldGluZ19jb2x1bW5fY29tcG9uZW50LnltbCIpKQ0KICAgICAgICBjb3VudF9ieV9yb3cgPSBsb2FkX2NvbXBvbmVudChzdHIoY29tcG9uZW50c19kaXIgLyAiY291bnRfYnlfcm93X2NvbXBvbmVudC55bWwiKSkNCg0KICAgICAgICAjIENvbnN0cnVjdCBwaXBlbGluZQ0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHNwYXJrX3BpcGVsaW5lX2Zyb21feWFtbChpcmlzX2RhdGEpOg0KICAgICAgICAgICAgYWRkX2dyZWV0aW5nX2NvbHVtbl9ub2RlID0gYWRkX2dyZWV0aW5nX2NvbHVtbihmaWxlX2lucHV0PWlyaXNfZGF0YSkNCiAgICAgICAgICAgIGFkZF9ncmVldGluZ19jb2x1bW5fbm9kZS5yZXNvdXJjZXMgPSB7Imluc3RhbmNlX3R5cGUiOiAic3RhbmRhcmRfZTRzX3YzIiwgInJ1bnRpbWVfdmVyc2lvbiI6ICIzLjQuMCJ9DQogICAgICAgICAgICBjb3VudF9ieV9yb3dfbm9kZSA9IGNvdW50X2J5X3JvdyhmaWxlX2lucHV0PWlyaXNfZGF0YSkNCiAgICAgICAgICAgIGNvdW50X2J5X3Jvd19ub2RlLnJlc291cmNlcyA9IHsiaW5zdGFuY2VfdHlwZSI6ICJzdGFuZGFyZF9lNHNfdjMiLCAicnVudGltZV92ZXJzaW9uIjogIjMuNC4wIn0NCiAgICAgICAgICAgIHJldHVybiB7Im91dHB1dCI6IGNvdW50X2J5X3Jvd19ub2RlLm91dHB1dHMub3V0cHV0fQ0KDQogICAgICAgIHBpcGVsaW5lID0gc3BhcmtfcGlwZWxpbmVfZnJvbV95YW1sKA0KICAgICAgICAgICAgaXJpc19kYXRhPUlucHV0KA0KICAgICAgICAgICAgICAgIHBhdGg9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2RzbF9waXBlbGluZS9zcGFya19qb2JfaW5fcGlwZWxpbmUvZGF0YXNldC9pcmlzLmNzdiIsDQogICAgICAgICAgICAgICAgdHlwZT1Bc3NldFR5cGVzLlVSSV9GSUxFLA0KICAgICAgICAgICAgICAgIG1vZGU9SW5wdXRPdXRwdXRNb2Rlcy5ESVJFQ1QsDQogICAgICAgICAgICApLA0KICAgICAgICApDQogICAgICAgIHBpcGVsaW5lLm91dHB1dHMub3V0cHV0Lm1vZGUgPSAiRGlyZWN0Ig0KICAgICAgICBwaXBlbGluZS5vdXRwdXRzLm91dHB1dC50eXBlID0gInVyaV9maWxlIg0KDQogICAgICAgICMgc3VibWl0IHBpcGVsaW5lIGpvYg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50LCBleHBlcmltZW50X25hbWU9InNwYXJrX2luX3BpcGVsaW5lIikNCiAgICAgICAgIyBjaGVjayByZXF1aXJlZCBmaWVsZHMgaW4gam9iIGRpY3QNCiAgICAgICAgam9iX2RpY3QgPSBwaXBlbGluZV9qb2IuX3RvX2RpY3QoKQ0KICAgICAgICBleHBlY3RlZF9rZXlzID0gWyJzdGF0dXMiLCAicHJvcGVydGllcyIsICJjcmVhdGlvbl9jb250ZXh0Il0NCiAgICAgICAgZm9yIGsgaW4gZXhwZWN0ZWRfa2V5czoNCiAgICAgICAgICAgIGFzc2VydCBrIGluIGpvYl9kaWN0LmtleXMoKSwgZiJmYWlsZWQgdG8gZ2V0IHtrfSBpbiB7am9iX2RpY3R9Ig0KDQogICAgICAgICMgb3JpZ2luYWwgam9iIGRpZCBub3QgY2hhbmdlDQogICAgICAgIGFzc2VydF9qb2JfaW5wdXRfb3V0cHV0X3R5cGVzKHBpcGVsaW5lX2pvYikNCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3dpdGhfZ3JvdXAoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGZyb20gZW51bSBpbXBvcnQgRW51bQ0KDQogICAgICAgIGNsYXNzIEVudW1PcHMoRW51bSk6DQogICAgICAgICAgICBPcHRpb24xID0gImhlbGxvIg0KICAgICAgICAgICAgT3B0aW9uMiA9ICJ3b3JsZCINCg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2lucHV0X3R5cGVzX2NvbXBvbmVudC55bWwiDQogICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9mdW5jID0gbG9hZF9jb21wb25lbnQoaGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwpDQogICAgICAgIGZyb20gYXp1cmUuYWkubWwuZHNsLl9ncm91cF9kZWNvcmF0b3IgaW1wb3J0IGdyb3VwDQoNCiAgICAgICAgQGdyb3VwDQogICAgICAgIGNsYXNzIFBhcmFtQ2xhc3M6DQogICAgICAgICAgICBpbnRfcGFyYW06IElucHV0KG1pbj0xLjAsIG1heD01LjAsIHR5cGU9ImludGVnZXIiKQ0KICAgICAgICAgICAgZW51bV9wYXJhbTogRW51bU9wcw0KICAgICAgICAgICAgc3RyX3BhcmFtOiBzdHIgPSAidGVzdCINCiAgICAgICAgICAgIGJvb2xfcGFyYW06IGJvb2wgPSBUcnVlDQogICAgICAgICAgICBudW1iZXJfcGFyYW0gPSA0LjANCg0KICAgICAgICBkZWZhdWx0X3BhcmFtID0gUGFyYW1DbGFzcyhpbnRfcGFyYW09MiwgZW51bV9wYXJhbT1FbnVtT3BzLk9wdGlvbjEsIGJvb2xfcGFyYW09RmFsc2UpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZShkZWZhdWx0X2NvbXB1dGVfdGFyZ2V0PSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBwaXBlbGluZV93aXRoX2dyb3VwKGdyb3VwOiBQYXJhbUNsYXNzKToNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9mdW5jKA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9zdHJpbmc9Z3JvdXAuc3RyX3BhcmFtLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9yYW5nZWRfbnVtYmVyPWdyb3VwLm51bWJlcl9wYXJhbSwNCiAgICAgICAgICAgICAgICBjb21wb25lbnRfaW5fZW51bT1ncm91cC5lbnVtX3BhcmFtLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9ib29sZWFuPWdyb3VwLmJvb2xfcGFyYW0sDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3JhbmdlZF9pbnRlZ2VyPWdyb3VwLmludF9wYXJhbSwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwaXBlbGluZV93aXRoX2dyb3VwKGRlZmF1bHRfcGFyYW0pDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfam9iKQ0KDQogICAgICAgIGFjdHVhbF9qb2IgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLnByb3BlcnRpZXMuYXNfZGljdCgpLCAqY29tbW9uX29taXRfZmllbGRzKQ0KICAgICAgICBleHBlY3RlZF9qb2JfaW5wdXRzID0gew0KICAgICAgICAgICAgImdyb3VwLmludF9wYXJhbSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIyIn0sDQogICAgICAgICAgICAiZ3JvdXAuZW51bV9wYXJhbSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICJoZWxsbyJ9LA0KICAgICAgICAgICAgImdyb3VwLnN0cl9wYXJhbSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICJ0ZXN0In0sDQogICAgICAgICAgICAiZ3JvdXAuYm9vbF9wYXJhbSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICJGYWxzZSJ9LA0KICAgICAgICAgICAgImdyb3VwLm51bWJlcl9wYXJhbSI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICI0LjAifSwNCiAgICAgICAgfQ0KICAgICAgICBleHBlY3RlZF9ub2RlX2lucHV0cyA9IHsNCiAgICAgICAgICAgICJjb21wb25lbnRfaW5fc3RyaW5nIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuZ3JvdXAuc3RyX3BhcmFtfX0ifSwNCiAgICAgICAgICAgICJjb21wb25lbnRfaW5fcmFuZ2VkX2ludGVnZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5ncm91cC5pbnRfcGFyYW19fSJ9LA0KICAgICAgICAgICAgImNvbXBvbmVudF9pbl9lbnVtIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuZ3JvdXAuZW51bV9wYXJhbX19In0sDQogICAgICAgICAgICAiY29tcG9uZW50X2luX2Jvb2xlYW4iOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5ncm91cC5ib29sX3BhcmFtfX0ifSwNCiAgICAgICAgICAgICJjb21wb25lbnRfaW5fcmFuZ2VkX251bWJlciI6IHsNCiAgICAgICAgICAgICAgICAiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsDQogICAgICAgICAgICAgICAgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuZ3JvdXAubnVtYmVyX3BhcmFtfX0iLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgfQ0KICAgICAgICBhc3NlcnQgYWN0dWFsX2pvYlsiaW5wdXRzIl0gPT0gZXhwZWN0ZWRfam9iX2lucHV0cw0KICAgICAgICBhc3NlcnQgYWN0dWFsX2pvYlsiam9icyJdWyJtaWNyb3NvZnRfc2FtcGxlc19jb21tYW5kX2NvbXBvbmVudF9iYXNpY19pbnB1dHMiXVsiaW5wdXRzIl0gPT0gZXhwZWN0ZWRfbm9kZV9pbnB1dHMNCg0KICAgIGRlZiB0ZXN0X3JlZ2lzdGVyZWRfcGlwZWxpbmVfd2l0aF9ncm91cChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwgPSAiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9pbnB1dF90eXBlc19jb21wb25lbnQueW1sIg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KGhlbGxvX3dvcmxkX2NvbXBvbmVudF95YW1sKQ0KICAgICAgICBmcm9tIGF6dXJlLmFpLm1sLmRzbC5fZ3JvdXBfZGVjb3JhdG9yIGltcG9ydCBncm91cA0KDQogICAgICAgIEBncm91cA0KICAgICAgICBjbGFzcyBTdWJQYXJhbUNsYXNzOg0KICAgICAgICAgICAgaW50X3BhcmFtOiBJbnB1dChtaW49MS4wLCBtYXg9NS4wLCB0eXBlPSJpbnRlZ2VyIikNCg0KICAgICAgICBAZ3JvdXANCiAgICAgICAgY2xhc3MgUGFyYW1DbGFzczoNCiAgICAgICAgICAgIHN1YjogU3ViUGFyYW1DbGFzcw0KICAgICAgICAgICAgc3RyX3BhcmFtOiBzdHIgPSAidGVzdCINCiAgICAgICAgICAgIGJvb2xfcGFyYW06IGJvb2wgPSBUcnVlDQogICAgICAgICAgICBudW1iZXJfcGFyYW0gPSA0LjANCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHBpcGVsaW5lX3dpdGhfZ3JvdXAoZ3JvdXA6IFBhcmFtQ2xhc3MpOg0KICAgICAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMoDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3N0cmluZz1ncm91cC5zdHJfcGFyYW0sDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3JhbmdlZF9udW1iZXI9Z3JvdXAubnVtYmVyX3BhcmFtLA0KICAgICAgICAgICAgICAgIGNvbXBvbmVudF9pbl9ib29sZWFuPWdyb3VwLmJvb2xfcGFyYW0sDQogICAgICAgICAgICAgICAgY29tcG9uZW50X2luX3JhbmdlZF9pbnRlZ2VyPWdyb3VwLnN1Yi5pbnRfcGFyYW0sDQogICAgICAgICAgICApDQoNCiAgICAgICAgY29tcG9uZW50ID0gY2xpZW50LmNvbXBvbmVudHMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV93aXRoX2dyb3VwKQ0KICAgICAgICAjIEFzc2VydCBrZXkgbm90IGV4aXN0cw0KICAgICAgICBtYXRjaCA9ICgNCiAgICAgICAgICAgICIoLiopdW5leHBlY3RlZCBrZXl3b3JkIGFyZ3VtZW50ICdncm91cC5ub3RfZXhpc3QnKC4qKXZhbGlkIGtleXdvcmRzOiAiDQogICAgICAgICAgICAiJ2dyb3VwJywgJ2dyb3VwLnN1Yi5pbnRfcGFyYW0nLCAnZ3JvdXAuc3RyX3BhcmFtJywgJ2dyb3VwLmJvb2xfcGFyYW0nLCAnZ3JvdXAubnVtYmVyX3BhcmFtJyINCiAgICAgICAgKQ0KICAgICAgICB3aXRoIHB5dGVzdC5yYWlzZXMoVW5leHBlY3RlZEtleXdvcmRFcnJvciwgbWF0Y2g9bWF0Y2gpOg0KICAgICAgICAgICAgY29tcG9uZW50KA0KICAgICAgICAgICAgICAgICoqew0KICAgICAgICAgICAgICAgICAgICAiZ3JvdXAubnVtYmVyX3BhcmFtIjogNC4wLA0KICAgICAgICAgICAgICAgICAgICAiZ3JvdXAuc3RyX3BhcmFtIjogInRlc3RpbmciLA0KICAgICAgICAgICAgICAgICAgICAiZ3JvdXAuc3ViLmludF9wYXJhbSI6IDQsDQogICAgICAgICAgICAgICAgICAgICJncm91cC5ub3RfZXhpc3QiOiA0LA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICkNCiAgICAgICAgIyBBc3NlcnQgY29uZmxpY3QgYXNzaWdubWVudA0KICAgICAgICB3aXRoIHB5dGVzdC5yYWlzZXMoRXhjZXB0aW9uLCBtYXRjaD0iQ29uZmxpY3QgcGFyYW1ldGVyIGtleSAnZ3JvdXAnIGFuZCAnZ3JvdXAubnVtYmVyX3BhcmFtJyIpOg0KICAgICAgICAgICAgcGlwZWxpbmUgPSBjb21wb25lbnQoDQogICAgICAgICAgICAgICAgKip7DQogICAgICAgICAgICAgICAgICAgICJncm91cC5udW1iZXJfcGFyYW0iOiA0LjAsDQogICAgICAgICAgICAgICAgICAgICJncm91cC5zdHJfcGFyYW0iOiAidGVzdGluZyIsDQogICAgICAgICAgICAgICAgICAgICJncm91cC5zdWIuaW50X3BhcmFtIjogNCwNCiAgICAgICAgICAgICAgICAgICAgImdyb3VwIjogUGFyYW1DbGFzcyhzdWI9U3ViUGFyYW1DbGFzcyhpbnRfcGFyYW09MSkpLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHBpcGVsaW5lLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgICAgIGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmUpDQogICAgICAgICMgQXNzZXJ0IGhhcHB5IHBhdGgNCiAgICAgICAgaW5wdXRzID0geyJncm91cC5udW1iZXJfcGFyYW0iOiA0LjAsICJncm91cC5zdHJfcGFyYW0iOiAidGVzdGluZyIsICJncm91cC5zdWIuaW50X3BhcmFtIjogNH0NCiAgICAgICAgcGlwZWxpbmUgPSBjb21wb25lbnQoKippbnB1dHMpDQogICAgICAgIHBpcGVsaW5lLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgcmVzdF9waXBlbGluZV9qb2IgPSBjbGllbnQuam9icy5jcmVhdGVfb3JfdXBkYXRlKHBpcGVsaW5lKQ0KICAgICAgICBhc3NlcnQgcmVzdF9waXBlbGluZV9qb2IuX3RvX2RpY3QoKVsiaW5wdXRzIl0gPT0ge2tleTogc3RyKHZhbCkgZm9yIGtleSwgdmFsIGluIGlucHV0cy5pdGVtcygpfQ0KDQogICAgZGVmIHRlc3RfZHNsX3BpcGVsaW5lX3dpdGhfZGVmYXVsdF9jb21wb25lbnQoDQogICAgICAgIHNlbGYsDQogICAgICAgIGNsaWVudDogTUxDbGllbnQsDQogICAgICAgIHJhbmRzdHI6IENhbGxhYmxlW1tzdHJdLCBzdHJdLA0KICAgICkgLT4gTm9uZToNCiAgICAgICAgeWFtbF9wYXRoOiBzdHIgPSAiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQogICAgICAgIGNvbXBvbmVudF9uYW1lID0gcmFuZHN0cigiY29tcG9uZW50X25hbWUiKQ0KICAgICAgICBjb21wb25lbnQ6IENvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT15YW1sX3BhdGgsIHBhcmFtc19vdmVycmlkZT1beyJuYW1lIjogY29tcG9uZW50X25hbWV9XSkNCiAgICAgICAgY2xpZW50LmNvbXBvbmVudHMuY3JlYXRlX29yX3VwZGF0ZShjb21wb25lbnQpDQoNCiAgICAgICAgZGVmYXVsdF9jb21wb25lbnRfZnVuYyA9IGNsaWVudC5jb21wb25lbnRzLmdldChjb21wb25lbnRfbmFtZSkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHBpcGVsaW5lX3dpdGhfZGVmYXVsdF9jb21wb25lbnQoKToNCiAgICAgICAgICAgIG5vZGUxID0gZGVmYXVsdF9jb21wb25lbnRfZnVuYyhjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5wdXQpDQogICAgICAgICAgICBub2RlMS5jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgICMgY29tcG9uZW50IGZyb20gY2xpZW50LmNvbXBvbmVudHMuZ2V0DQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGNsaWVudC5qb2JzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfd2l0aF9kZWZhdWx0X2NvbXBvbmVudCgpKQ0KICAgICAgICBjcmVhdGVkX3BpcGVsaW5lX2pvYjogUGlwZWxpbmVKb2IgPSBjbGllbnQuam9icy5nZXQocGlwZWxpbmVfam9iLm5hbWUpDQogICAgICAgIGFzc2VydCBjcmVhdGVkX3BpcGVsaW5lX2pvYi5qb2JzWyJub2RlMSJdLmNvbXBvbmVudCA9PSBmIntjb21wb25lbnRfbmFtZX1AZGVmYXVsdCINCg0KICAgIEBweXRlc3QubWFyay5za2lwKCJXaWxsIHJlbmFibGUgd2hlbiBwYXJhbGxlbCBlMmUgcmVjb3JkaW5nIGlzc3VlIGlzIGZpeGVkIikNCiAgICBkZWYgdGVzdF9waXBlbGluZV9ub2RlX2lkZW50aXR5X3dpdGhfY29tcG9uZW50KHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBwYXRoID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnQueW1sIg0KICAgICAgICBjb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KHBhdGgpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZQ0KICAgICAgICBkZWYgcGlwZWxpbmVfZnVuYyhjb21wb25lbnRfaW5fcGF0aCk6DQogICAgICAgICAgICBub2RlMSA9IGNvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9MSwgY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2luX3BhdGgpDQogICAgICAgICAgICBub2RlMS5pZGVudGl0eSA9IEFtbFRva2VuQ29uZmlndXJhdGlvbigpDQoNCiAgICAgICAgICAgIG5vZGUyID0gY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X2luX251bWJlcj0xLCBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCkNCiAgICAgICAgICAgIG5vZGUyLmlkZW50aXR5ID0gVXNlcklkZW50aXR5Q29uZmlndXJhdGlvbigpDQoNCiAgICAgICAgICAgIG5vZGUzID0gY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X2luX251bWJlcj0xLCBjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5fcGF0aCkNCiAgICAgICAgICAgIG5vZGUzLmlkZW50aXR5ID0gTWFuYWdlZElkZW50aXR5Q29uZmlndXJhdGlvbigpDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZV9mdW5jKGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbnB1dCkNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSwgY29tcHV0ZT0iY3B1LWNsdXN0ZXIiKQ0KICAgICAgICBvbWl0X2ZpZWxkcyA9IFsiam9icy4qLmNvbXBvbmVudElkIiwgImpvYnMuKi5fc291cmNlIl0NCiAgICAgICAgYWN0dWFsX2RpY3QgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKVsicHJvcGVydGllcyJdLCAqb21pdF9maWVsZHMpDQogICAgICAgIGFzc2VydCBhY3R1YWxfZGljdFsiam9icyJdID09IHsNCiAgICAgICAgICAgICJub2RlMSI6IHsNCiAgICAgICAgICAgICAgICAiaWRlbnRpdHkiOiB7InR5cGUiOiAiYW1sX3Rva2VuIn0sDQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9LA0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5jb21wb25lbnRfaW5fcGF0aH19In0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMSIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm5vZGUyIjogew0KICAgICAgICAgICAgICAgICJpZGVudGl0eSI6IHsidHlwZSI6ICJ1c2VyX2lkZW50aXR5In0sDQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9LA0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5jb21wb25lbnRfaW5fcGF0aH19In0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMiIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIm5vZGUzIjogew0KICAgICAgICAgICAgICAgICJpZGVudGl0eSI6IHsidHlwZSI6ICJtYW5hZ2VkX2lkZW50aXR5In0sDQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9udW1iZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiMSJ9LA0KICAgICAgICAgICAgICAgICAgICAiY29tcG9uZW50X2luX3BhdGgiOiB7ImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLCAidmFsdWUiOiAiJHt7cGFyZW50LmlucHV0cy5jb21wb25lbnRfaW5fcGF0aH19In0sDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJub2RlMyIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICB9DQoNCiAgICBkZWYgdGVzdF9kZWZhdWx0X3BpcGVsaW5lX2pvYl9zZXJ2aWNlcyhzZWxmLCBjbGllbnQ6IE1MQ2xpZW50LCByYW5kc3RyOiBDYWxsYWJsZVtbc3RyXSwgc3RyXSkgLT4gTm9uZToNCiAgICAgICAgY29tcG9uZW50X3lhbWwgPSBjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQogICAgICAgIGNvbXBvbmVudF9mdW5jMSA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpfV0pDQogICAgICAgIGNvbXBvbmVudF9mdW5jMiA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCwgcGFyYW1zX292ZXJyaWRlPVt7Im5hbWUiOiByYW5kc3RyKCJjb21wb25lbnRfbmFtZSIpfV0pDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgNCiAgICAgICAgICAgIG5hbWU9cmFuZHN0cigicGlwZWxpbmVfbmFtZSIpLA0KICAgICAgICAgICAgZGVzY3JpcHRpb249IlRoZSBoZWxsbyB3b3JsZCBwaXBlbGluZSBqb2IiLA0KICAgICAgICAgICAgdGFncz17Im93bmVyIjogInNka3RlYW0iLCAidGFnIjogInRhZ3ZhbHVlIn0sDQogICAgICAgICAgICBjb21wdXRlPSJjcHUtY2x1c3RlciIsDQogICAgICAgICAgICBleHBlcmltZW50X25hbWU9ZXhwZXJpbWVudF9uYW1lLA0KICAgICAgICAgICAgY29udGludWVfb25fc3RlcF9mYWlsdXJlPVRydWUsDQogICAgICAgICkNCiAgICAgICAgZGVmIHBpcGVsaW5lKGpvYl9pbl9udW1iZXIsIGpvYl9pbl9vdGhlcl9udW1iZXIsIGpvYl9pbl9wYXRoKToNCiAgICAgICAgICAgIGNvbXBvbmVudF9mdW5jMShjb21wb25lbnRfaW5fbnVtYmVyPWpvYl9pbl9udW1iZXIsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbl9wYXRoKQ0KICAgICAgICAgICAgY29tcG9uZW50X2Z1bmMyKGNvbXBvbmVudF9pbl9udW1iZXI9am9iX2luX290aGVyX251bWJlciwgY29tcG9uZW50X2luX3BhdGg9am9iX2luX3BhdGgpDQoNCiAgICAgICAgcGlwZWxpbmUgPSBwaXBlbGluZSgxMCwgMTUsIGpvYl9pbnB1dCkNCiAgICAgICAgam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCiAgICAgICAgIyBjaGVjayByZXF1aXJlZCBmaWVsZHMgaW4gam9iIGRpY3QNCiAgICAgICAgZGVmYXVsdF9zZXJ2aWNlcyA9IGpvYi5fdG9fZGljdCgpWyJzZXJ2aWNlcyJdDQogICAgICAgIGFzc2VydCAiU3R1ZGlvIiBpbiBkZWZhdWx0X3NlcnZpY2VzDQogICAgICAgIGFzc2VydCAiVHJhY2tpbmciIGluIGRlZmF1bHRfc2VydmljZXMNCiAgICAgICAgYXNzZXJ0IGRlZmF1bHRfc2VydmljZXNbIlN0dWRpbyJdWyJlbmRwb2ludCJdLnN0YXJ0c3dpdGgoImh0dHBzOi8vbWwuYXp1cmUuY29tL3J1bnMvIikNCiAgICAgICAgYXNzZXJ0IGRlZmF1bHRfc2VydmljZXNbIlN0dWRpbyJdWyJ0eXBlIl0gPT0gIlN0dWRpbyINCiAgICAgICAgYXNzZXJ0IGRlZmF1bHRfc2VydmljZXNbIlRyYWNraW5nIl1bImVuZHBvaW50Il0uc3RhcnRzd2l0aCgiYXp1cmVtbDovLyIpDQogICAgICAgIGFzc2VydCBkZWZhdWx0X3NlcnZpY2VzWyJUcmFja2luZyJdWyJ0eXBlIl0gPT0gIlRyYWNraW5nIg0KDQogICAgZGVmIHRlc3RfZ3JvdXBfb3V0cHV0c19kZXNjcmlwdGlvbl9vdmVyd3JpdGUoc2VsZiwgY2xpZW50KToNCiAgICAgICAgIyB0ZXN0IGdyb3VwIG91dHB1dHMgZGVzY3JpcHRpb24gb3ZlcndyaXRlDQogICAgICAgIEBncm91cA0KICAgICAgICBjbGFzcyBPdXRwdXRzOg0KICAgICAgICAgICAgb3V0cHV0MTogT3V0cHV0KHR5cGU9InVyaV9mb2xkZXIiLCBkZXNjcmlwdGlvbj0ibmV3IGRlc2NyaXB0aW9uIikNCg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9aGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZShkZWZhdWx0X2NvbXB1dGVfdGFyZ2V0PSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBteV9waXBlbGluZSgpIC0+IE91dHB1dHM6DQogICAgICAgICAgICBub2RlMSA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9MSwgY29tcG9uZW50X2luX3BhdGg9am9iX2lucHV0KQ0KICAgICAgICAgICAgcmV0dXJuIE91dHB1dHMoDQogICAgICAgICAgICAgICAgb3V0cHV0MT1ub2RlMS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBteV9waXBlbGluZSgpDQogICAgICAgICMgb3ZlcndyaXRlIGdyb3VwIG91dHB1dHMgbW9kZSB3aWxsIGFwcGVhciBpbiBwaXBlbGluZSBqb2ImY29tcG9uZW50IGxldmVsDQogICAgICAgIGV4cGVjdGVkX291dHB1dHMgPSB7Im91dHB1dDEiOiB7ImRlc2NyaXB0aW9uIjogIm5ldyBkZXNjcmlwdGlvbiIsICJ0eXBlIjogInVyaV9mb2xkZXIifX0NCiAgICAgICAgZXhwZWN0ZWRfam9iX291dHB1dHMgPSB7Im91dHB1dDEiOiB7ImRlc2NyaXB0aW9uIjogIm5ldyBkZXNjcmlwdGlvbiIsICJqb2Jfb3V0cHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9fQ0KICAgICAgICByZXN0X2pvYl9kaWN0ID0gcGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQ0KDQogICAgICAgICMgYXNzZXJ0IHBpcGVsaW5lIGpvYiBsZXZlbCBtb2RlIG92ZXJ3cml0ZQ0KICAgICAgICBhc3NlcnQgcmVzdF9qb2JfZGljdFsicHJvcGVydGllcyJdWyJvdXRwdXRzIl0gPT0gZXhwZWN0ZWRfam9iX291dHB1dHMNCiAgICAgICAgIyBhc3NlcnQgcGlwZWxpbmUgY29tcG9uZW50IGxldmVsIG1vZGUgb3ZlcndyaXRlDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2IuY29tcG9uZW50Ll90b19kaWN0KClbIm91dHB1dHMiXSA9PSBleHBlY3RlZF9vdXRwdXRzDQoNCiAgICAgICAgcmVzdF9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCiAgICAgICAgcmVzdF9qb2JfZGljdCA9IHJlc3Rfam9iLl90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKQ0KICAgICAgICBhc3NlcnQgcmVzdF9qb2JfZGljdFsicHJvcGVydGllcyJdWyJvdXRwdXRzIl1bIm91dHB1dDEiXVsiZGVzY3JpcHRpb24iXSA9PSAibmV3IGRlc2NyaXB0aW9uIg0KDQogICAgICAgIGNvbXBvbmVudCA9IGNsaWVudC5jb21wb25lbnRzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfam9iLmNvbXBvbmVudCwgX2lzX2Fub255bW91cz1UcnVlKQ0KICAgICAgICBhc3NlcnQgY29tcG9uZW50Ll90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKVsicHJvcGVydGllcyJdWyJjb21wb25lbnRfc3BlYyJdWyJvdXRwdXRzIl0gPT0gZXhwZWN0ZWRfb3V0cHV0cw0KDQogICAgZGVmIHRlc3RfZ3JvdXBfb3V0cHV0c19tb2RlX292ZXJ3cml0ZShzZWxmLCBjbGllbnQpOg0KICAgICAgICAjIHRlc3QgZ3JvdXAgb3V0cHV0cyBtb2RlIG92ZXJ3cml0ZQ0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9aGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwpDQoNCiAgICAgICAgQGdyb3VwDQogICAgICAgIGNsYXNzIE91dHB1dHM6DQogICAgICAgICAgICBvdXRwdXQxOiBPdXRwdXQodHlwZT0idXJpX2ZvbGRlciIsIG1vZGU9InVwbG9hZCIpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZShkZWZhdWx0X2NvbXB1dGVfdGFyZ2V0PSJjcHUtY2x1c3RlciIpDQogICAgICAgIGRlZiBteV9waXBlbGluZSgpIC0+IE91dHB1dHM6DQogICAgICAgICAgICBub2RlMSA9IGhlbGxvX3dvcmxkX2NvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9MSwgY29tcG9uZW50X2luX3BhdGg9am9iX2lucHV0KQ0KICAgICAgICAgICAgcmV0dXJuIE91dHB1dHMoDQogICAgICAgICAgICAgICAgb3V0cHV0MT1ub2RlMS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICkNCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBteV9waXBlbGluZSgpDQogICAgICAgICMgb3ZlcndyaXRlIGdyb3VwIG91dHB1dHMgbW9kZSB3aWxsIGFwcGVhciBpbiBwaXBlbGluZSBqb2ImY29tcG9uZW50IGxldmVsDQogICAgICAgIGV4cGVjdGVkX2pvYl9vdXRwdXRzID0geyJvdXRwdXQxIjogeyJtb2RlIjogIlVwbG9hZCIsICJqb2Jfb3V0cHV0X3R5cGUiOiAidXJpX2ZvbGRlciJ9fQ0KICAgICAgICBleHBlY3RlZF9vdXRwdXRzID0geyJvdXRwdXQxIjogeyJtb2RlIjogInVwbG9hZCIsICJ0eXBlIjogInVyaV9mb2xkZXIifX0NCiAgICAgICAgcmVzdF9qb2JfZGljdCA9IHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5hc19kaWN0KCkNCiAgICAgICAgIyBhc3NlcnQgcGlwZWxpbmUgam9iIGxldmVsIG1vZGUgb3ZlcndyaXRlDQogICAgICAgIGFzc2VydCByZXN0X2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bIm91dHB1dHMiXSA9PSBleHBlY3RlZF9qb2Jfb3V0cHV0cw0KICAgICAgICAjIGFzc2VydCBwaXBlbGluZSBjb21wb25lbnQgbGV2ZWwgbW9kZSBvdmVyd3JpdGUNCiAgICAgICAgYXNzZXJ0IHBpcGVsaW5lX2pvYi5jb21wb25lbnQuX3RvX2RpY3QoKVsib3V0cHV0cyJdID09IGV4cGVjdGVkX291dHB1dHMNCg0KICAgICAgICByZXN0X2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KICAgICAgICByZXN0X2pvYl9kaWN0ID0gcmVzdF9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkuYXNfZGljdCgpDQogICAgICAgIGFzc2VydCByZXN0X2pvYl9kaWN0WyJwcm9wZXJ0aWVzIl1bIm91dHB1dHMiXSA9PSBleHBlY3RlZF9qb2Jfb3V0cHV0cw0KDQogICAgICAgIGNvbXBvbmVudCA9IGNsaWVudC5jb21wb25lbnRzLmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfam9iLmNvbXBvbmVudCwgX2lzX2Fub255bW91cz1UcnVlKQ0KICAgICAgICAjIHBpcGVsaW5lIGNvbXBvbmVudCBvdXRwdXQgbW9kZSBpcyB1bmRlZmluZWQgYmVoYXZpb3Igc28gd2Ugc2tpcCBhc3NlcnQgaXQNCiAgICAgICAgIyBhc3NlcnQgY29tcG9uZW50Ll90b19yZXN0X29iamVjdCgpLmFzX2RpY3QoKVsicHJvcGVydGllcyJdWyJjb21wb25lbnRfc3BlYyJdWyJvdXRwdXRzIl0gPT0gZXhwZWN0ZWRfb3V0cHV0cw0KDQogICAgZGVmIHRlc3RfbG9jYWxfZGF0YV9hc19ub2RlX2lucHV0KHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBoZWxsb193b3JsZF9jb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgaGVsbG9fd29ybGRfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9aGVsbG9fd29ybGRfY29tcG9uZW50X3lhbWwpDQogICAgICAgIGxvY2FsX2RhdGFfaW5wdXQgPSBJbnB1dCh0eXBlPSJ1cmlfZm9sZGVyIiwgcGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZGF0YSIpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZQ0KICAgICAgICBkZWYgbXlfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIGhlbGxvX3dvcmxkX2NvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9udW1iZXI9MSwgY29tcG9uZW50X2luX3BhdGg9bG9jYWxfZGF0YV9pbnB1dCkNCg0KICAgICAgICBwaXBlbGluZV9qb2I6IFBpcGVsaW5lSm9iID0gbXlfcGlwZWxpbmUoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZV9qb2IsIGNsaWVudCkNCg0KICAgIEBweXRlc3QubWFyay5za2lwKCJXaWxsIHJlbmFibGUgd2hlbiBwYXJhbGxlbCBlMmUgcmVjb3JkaW5nIGlzc3VlIGlzIGZpeGVkIikNCiAgICBAcHl0ZXN0Lm1hcmsuZGlzYWJsZV9tb2NrX2NvZGVfaGFzaA0KICAgIGRlZiB0ZXN0X3JlZ2lzdGVyX291dHB1dF9zZGsoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGZyb20gYXp1cmUuYWkubWwuc3dlZXAgaW1wb3J0ICgNCiAgICAgICAgICAgIEJhbmRpdFBvbGljeSwNCiAgICAgICAgICAgIENob2ljZSwNCiAgICAgICAgICAgIExvZ05vcm1hbCwNCiAgICAgICAgICAgIExvZ1VuaWZvcm0sDQogICAgICAgICAgICBOb3JtYWwsDQogICAgICAgICAgICBRTG9nTm9ybWFsLA0KICAgICAgICAgICAgUUxvZ1VuaWZvcm0sDQogICAgICAgICAgICBRTm9ybWFsLA0KICAgICAgICAgICAgUVVuaWZvcm0sDQogICAgICAgICAgICBSYW5kaW50LA0KICAgICAgICAgICAgVW5pZm9ybSwNCiAgICAgICAgKQ0KDQogICAgICAgIGNvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiKQ0KICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IikNCiAgICAgICAgc3BhcmtfY29tcG9uZW50ID0gbG9hZF9jb21wb25lbnQoc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9zcGFya19jb21wb25lbnQvY29tcG9uZW50LnltbCIpDQogICAgICAgIHBhcmFsbGVsX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPSIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL3BhcmFsbGVsX2NvbXBvbmVudF93aXRoX2ZpbGVfaW5wdXQueW1sIg0KICAgICAgICApDQogICAgICAgIHN3ZWVwX2NvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudF9mb3Jfc3dlZXAueW1sIikNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHJlZ2lzdGVyX25vZGVfb3V0cHV0KCk6DQogICAgICAgICAgICBub2RlID0gY29tcG9uZW50KGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbnB1dCkNCiAgICAgICAgICAgIG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgubmFtZSA9ICJhX291dHB1dCINCiAgICAgICAgICAgIG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgudmVyc2lvbiA9ICIxIg0KDQogICAgICAgICAgICBzcGFya19ub2RlID0gc3BhcmtfY29tcG9uZW50KGZpbGVfaW5wdXQ9Y29tcG9uZW50X2lucHV0KQ0KICAgICAgICAgICAgc3Bhcmtfbm9kZS5jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICAgICAgc3Bhcmtfbm9kZS5vdXRwdXRzLm91dHB1dC5uYW1lID0gInNwYXJrX291dHB1dCINCiAgICAgICAgICAgIHNwYXJrX25vZGUub3V0cHV0cy5vdXRwdXQudmVyc2lvbiA9ICIxIg0KDQogICAgICAgICAgICBwYXJhbGxlbF9ub2RlID0gcGFyYWxsZWxfY29tcG9uZW50KA0KICAgICAgICAgICAgICAgIGpvYl9kYXRhX3BhdGg9SW5wdXQodHlwZT0ibWx0YWJsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IikNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHBhcmFsbGVsX25vZGUub3V0cHV0cy5qb2Jfb3V0cHV0X3BhdGgubmFtZSA9ICJwYXJhbGxlbF9vdXRwdXQiDQogICAgICAgICAgICBwYXJhbGxlbF9ub2RlLm91dHB1dHMuam9iX291dHB1dF9wYXRoLnZlcnNpb24gPSAiMTIzX3BhcmFsbGVsIg0KDQogICAgICAgICAgICBjbWRfbm9kZTEgPSBzd2VlcF9jb21wb25lbnQoDQogICAgICAgICAgICAgICAgYmF0Y2hfc2l6ZT1DaG9pY2UoWzI1LCAzNV0pLA0KICAgICAgICAgICAgICAgIGZpcnN0X2xheWVyX25ldXJvbnM9UmFuZGludCh1cHBlcj01MCksDQogICAgICAgICAgICAgICAgc2Vjb25kX2xheWVyX25ldXJvbnM9UVVuaWZvcm0obWluX3ZhbHVlPTEwLCBtYXhfdmFsdWU9NTAsIHE9NSksDQogICAgICAgICAgICAgICAgdGhpcmRfbGF5ZXJfbmV1cm9ucz1RTG9nTm9ybWFsKG11PTUsIHNpZ21hPTEsIHE9NSksDQogICAgICAgICAgICAgICAgZXBvY2hzPVFMb2dVbmlmb3JtKG1pbl92YWx1ZT0xLCBtYXhfdmFsdWU9NSwgcT01KSwNCiAgICAgICAgICAgICAgICBtb21lbnR1bT1RTm9ybWFsKG11PTEwLCBzaWdtYT01LCBxPTIpLA0KICAgICAgICAgICAgICAgIHdlaWdodF9kZWNheT1Mb2dOb3JtYWwobXU9MCwgc2lnbWE9MSksDQogICAgICAgICAgICAgICAgbGVhcm5pbmdfcmF0ZT1Mb2dVbmlmb3JtKG1pbl92YWx1ZT0tNiwgbWF4X3ZhbHVlPS0xKSwNCiAgICAgICAgICAgICAgICBmMT1Ob3JtYWwobXU9MCwgc2lnbWE9MSksDQogICAgICAgICAgICAgICAgZjI9VW5pZm9ybShtaW5fdmFsdWU9MTAsIG1heF92YWx1ZT0yMCksDQogICAgICAgICAgICAgICAgZGF0YV9mb2xkZXI9SW5wdXQoDQogICAgICAgICAgICAgICAgICAgIHR5cGU9QXNzZXRUeXBlcy5NTFRBQkxFLA0KICAgICAgICAgICAgICAgICAgICBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby8iLA0KICAgICAgICAgICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuUk9fTU9VTlQsDQogICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIHN3ZWVwX25vZGUgPSBjbWRfbm9kZTEuc3dlZXAoDQogICAgICAgICAgICAgICAgcHJpbWFyeV9tZXRyaWM9InZhbGlkYXRpb25fYWNjIiwNCiAgICAgICAgICAgICAgICBnb2FsPSJtYXhpbWl6ZSIsDQogICAgICAgICAgICAgICAgc2FtcGxpbmdfYWxnb3JpdGhtPSJyYW5kb20iLA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgc3dlZXBfbm9kZS5jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICAgICAgc3dlZXBfbm9kZS5zZXRfbGltaXRzKG1heF90b3RhbF90cmlhbHM9MiwgbWF4X2NvbmN1cnJlbnRfdHJpYWxzPTMsIHRpbWVvdXQ9NjAwKQ0KICAgICAgICAgICAgc3dlZXBfbm9kZS5lYXJseV90ZXJtaW5hdGlvbiA9IEJhbmRpdFBvbGljeShldmFsdWF0aW9uX2ludGVydmFsPTIsIHNsYWNrX2ZhY3Rvcj0wLjEsIGRlbGF5X2V2YWx1YXRpb249MSkNCiAgICAgICAgICAgIHN3ZWVwX25vZGUub3V0cHV0cy50cmFpbmVkX21vZGVsX2Rpci5uYW1lID0gInN3ZWVwX291dHB1dCINCiAgICAgICAgICAgIHN3ZWVwX25vZGUub3V0cHV0cy50cmFpbmVkX21vZGVsX2Rpci52ZXJzaW9uID0gInN3ZWVwXzIiDQoNCiAgICAgICAgcGlwZWxpbmUgPSByZWdpc3Rlcl9ub2RlX291dHB1dCgpDQogICAgICAgIHBpcGVsaW5lLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJhenVyZW1sOmNwdS1jbHVzdGVyIg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KICAgICAgICBvdXRwdXQgPSBwaXBlbGluZV9qb2Iuam9ic1sibm9kZSJdLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoDQogICAgICAgIGFzc2VydCBvdXRwdXQubmFtZSA9PSAiYV9vdXRwdXQiDQogICAgICAgIGFzc2VydCBvdXRwdXQudmVyc2lvbiA9PSAiMSINCiAgICAgICAgb3V0cHV0ID0gcGlwZWxpbmVfam9iLmpvYnNbInNwYXJrX25vZGUiXS5vdXRwdXRzLm91dHB1dA0KICAgICAgICBhc3NlcnQgb3V0cHV0Lm5hbWUgPT0gInNwYXJrX291dHB1dCINCiAgICAgICAgYXNzZXJ0IG91dHB1dC52ZXJzaW9uID09ICIxIg0KICAgICAgICBvdXRwdXQgPSBwaXBlbGluZV9qb2Iuam9ic1sicGFyYWxsZWxfbm9kZSJdLm91dHB1dHMuam9iX291dHB1dF9wYXRoDQogICAgICAgIGFzc2VydCBvdXRwdXQubmFtZSA9PSAicGFyYWxsZWxfb3V0cHV0Ig0KICAgICAgICBhc3NlcnQgb3V0cHV0LnZlcnNpb24gPT0gIjEyM19wYXJhbGxlbCINCiAgICAgICAgb3V0cHV0ID0gcGlwZWxpbmVfam9iLmpvYnNbInN3ZWVwX25vZGUiXS5vdXRwdXRzLnRyYWluZWRfbW9kZWxfZGlyDQogICAgICAgIGFzc2VydCBvdXRwdXQubmFtZSA9PSAic3dlZXBfb3V0cHV0Ig0KICAgICAgICBhc3NlcnQgb3V0cHV0LnZlcnNpb24gPT0gInN3ZWVwXzIiDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiByZWdpc3Rlcl9waXBlbGluZV9vdXRwdXQoKToNCiAgICAgICAgICAgIG5vZGUgPSBjb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2lucHV0KQ0KICAgICAgICAgICAgcmV0dXJuIHsicGlwZWluZV9hX291dHB1dCI6IG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9DQoNCiAgICAgICAgcGlwZWxpbmUgPSByZWdpc3Rlcl9waXBlbGluZV9vdXRwdXQoKQ0KICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVpbmVfYV9vdXRwdXQubmFtZSA9ICJhX291dHB1dCINCiAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5waXBlaW5lX2Ffb3V0cHV0LnZlcnNpb24gPSAiMSINCiAgICAgICAgcGlwZWxpbmUuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImF6dXJlbWw6Y3B1LWNsdXN0ZXIiDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQogICAgICAgIG91dHB1dCA9IHBpcGVsaW5lX2pvYi5vdXRwdXRzLnBpcGVpbmVfYV9vdXRwdXQNCiAgICAgICAgYXNzZXJ0IG91dHB1dC5uYW1lID09ICJhX291dHB1dCINCiAgICAgICAgYXNzZXJ0IG91dHB1dC52ZXJzaW9uID09ICIxIg0KDQogICAgICAgIEBkc2wucGlwZWxpbmUoKQ0KICAgICAgICBkZWYgcmVnaXN0ZXJfYm90aF9vdXRwdXQoKToNCiAgICAgICAgICAgIG5vZGUgPSBjb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2lucHV0KQ0KICAgICAgICAgICAgbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aC5uYW1lID0gImFfb3V0cHV0Ig0KICAgICAgICAgICAgbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aC52ZXJzaW9uID0gIjEiDQogICAgICAgICAgICByZXR1cm4geyJwaXBlaW5lX2Ffb3V0cHV0Ijogbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH0NCg0KICAgICAgICBwaXBlbGluZSA9IHJlZ2lzdGVyX2JvdGhfb3V0cHV0KCkNCiAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5waXBlaW5lX2Ffb3V0cHV0Lm5hbWUgPSAiYl9vdXRwdXQiDQogICAgICAgIHBpcGVsaW5lLm91dHB1dHMucGlwZWluZV9hX291dHB1dC52ZXJzaW9uID0gIjIiDQogICAgICAgIHBpcGVsaW5lLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJhenVyZW1sOmNwdS1jbHVzdGVyIg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBhc3NlcnRfam9iX2NhbmNlbChwaXBlbGluZSwgY2xpZW50KQ0KDQogICAgICAgIHBpcGVsaW5lX291dHB1dCA9IHBpcGVsaW5lX2pvYi5vdXRwdXRzLnBpcGVpbmVfYV9vdXRwdXQNCiAgICAgICAgYXNzZXJ0IHBpcGVsaW5lX291dHB1dC5uYW1lID09ICJiX291dHB1dCINCiAgICAgICAgYXNzZXJ0IHBpcGVsaW5lX291dHB1dC52ZXJzaW9uID09ICIyIg0KICAgICAgICBub2RlX291dHB1dCA9IHBpcGVsaW5lX2pvYi5qb2JzWyJub2RlIl0ub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgNCiAgICAgICAgYXNzZXJ0IG5vZGVfb3V0cHV0Lm5hbWUgPT0gTm9uZQ0KICAgICAgICBhc3NlcnQgbm9kZV9vdXRwdXQudmVyc2lvbiA9PSBOb25lDQoNCiAgICBkZWYgdGVzdF9kc2xfcGlwZWxpbmVfd2l0aF9kYXRhX3RyYW5zZmVyX2NvcHlfMnVyaWZvbGRlcihzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBmcm9tIHRlc3RfY29uZmlncy5kc2xfcGlwZWxpbmUuZGF0YV90cmFuc2Zlcl9qb2JfaW5fcGlwZWxpbmUuY29weV9kYXRhLnBpcGVsaW5lIGltcG9ydCAoDQogICAgICAgICAgICBnZW5lcmF0ZV9kc2xfcGlwZWxpbmVfZnJvbV95YW1sIGFzIGRhdGFfdHJhbnNmZXJfam9iX2luX3BpcGVsaW5lLA0KICAgICAgICApDQoNCiAgICAgICAgcGlwZWxpbmUgPSBkYXRhX3RyYW5zZmVyX2pvYl9pbl9waXBlbGluZSgpDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZSkNCg0KICAgICAgICBhY3R1YWxfam9iID0gb21pdF93aXRoX3dpbGRjYXJkKHBpcGVsaW5lX2pvYi5fdG9fcmVzdF9vYmplY3QoKS5wcm9wZXJ0aWVzLmFzX2RpY3QoKSwgKmNvbW1vbl9vbWl0X2ZpZWxkcykNCg0KICAgICAgICBleHBlY3RlZF9qb2IgPSB7DQogICAgICAgICAgICAiZGVzY3JpcHRpb24iOiAic3VibWl0IGEgcGlwZWxpbmUgd2l0aCBkYXRhIHRyYW5zZmVyIGNvcHkgam9iIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgImNvc21vc19mb2xkZXIiOiB7ImpvYl9pbnB1dF90eXBlIjogInVyaV9mb2xkZXIiLCAibW9kZSI6ICJSZWFkT25seU1vdW50In0sDQogICAgICAgICAgICAgICAgImNvc21vc19mb2xkZXJfZHVwIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIiwgIm1vZGUiOiAiUmVhZE9ubHlNb3VudCJ9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJpc19hcmNoaXZlZCI6IEZhbHNlLA0KICAgICAgICAgICAgImpvYl90eXBlIjogIlBpcGVsaW5lIiwNCiAgICAgICAgICAgICJqb2JzIjogew0KICAgICAgICAgICAgICAgICJtZXJnZV9maWxlcyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImRhdGFfY29weV9tb2RlIjogIm1lcmdlX3dpdGhfb3ZlcndyaXRlIiwNCiAgICAgICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJmb2xkZXIxIjogeyJqb2JfaW5wdXRfdHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5pbnB1dHMuY29zbW9zX2ZvbGRlcn19In0sDQogICAgICAgICAgICAgICAgICAgICAgICAiZm9sZGVyMiI6IHsiam9iX2lucHV0X3R5cGUiOiAibGl0ZXJhbCIsICJ2YWx1ZSI6ICIke3twYXJlbnQuaW5wdXRzLmNvc21vc19mb2xkZXJfZHVwfX0ifSwNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiAibWVyZ2VfZmlsZXMiLA0KICAgICAgICAgICAgICAgICAgICAib3V0cHV0cyI6IHsib3V0cHV0X2ZvbGRlciI6IHsidHlwZSI6ICJsaXRlcmFsIiwgInZhbHVlIjogIiR7e3BhcmVudC5vdXRwdXRzLm1lcmdlZF9ibG9ifX0ifX0sDQogICAgICAgICAgICAgICAgICAgICJ0YXNrIjogImNvcHlfZGF0YSIsDQogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogImRhdGFfdHJhbnNmZXIiLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAib3V0cHV0cyI6IHsibWVyZ2VkX2Jsb2IiOiB7ImpvYl9vdXRwdXRfdHlwZSI6ICJ1cmlfZm9sZGVyIiwgIm1vZGUiOiAiUmVhZFdyaXRlTW91bnQifX0sDQogICAgICAgICAgICAic2V0dGluZ3MiOiB7ImRlZmF1bHRfY29tcHV0ZSI6ICJzZXJ2ZXJsZXNzIn0sDQogICAgICAgICAgICAidGFncyI6IHt9LA0KICAgICAgICB9DQogICAgICAgIGFzc2VydCBleHBlY3RlZF9qb2IgPT0gYWN0dWFsX2pvYg0KDQogICAgZGVmIHRlc3Rfb3V0cHV0X3NldHRpbmdfcGF0aChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KSAtPiBOb25lOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9IGNvbXBvbmVudHNfZGlyIC8gImhlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMxID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sKQ0KDQogICAgICAgICMgY2FzZSAxOiBvbmx5IG5vZGUgbGV2ZWwgaGFzIHNldHRpbmcNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiBwaXBlbGluZSgpOg0KICAgICAgICAgICAgbm9kZTEgPSBjb21wb25lbnRfZnVuYzEoY29tcG9uZW50X2luX251bWJlcj0xLCBjb21wb25lbnRfaW5fcGF0aD1qb2JfaW5wdXQpDQogICAgICAgICAgICBub2RlMS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aC5wYXRoID0gImF6dXJlbWw6Ly9kYXRhc3RvcmVzL3dvcmtzcGFjZWJsb2JzdG9yZS9wYXRocy9vdXRwdXRzLzEiDQogICAgICAgICAgICByZXR1cm4gbm9kZTEub3V0cHV0cw0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IHBpcGVsaW5lKCkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQogICAgICAgIGpvYl9kaWN0ID0gcGlwZWxpbmVfam9iLl90b19kaWN0KCkNCiAgICAgICAgZXhwZWN0ZWRfbm9kZV9vdXRwdXRfZGljdCA9IHsNCiAgICAgICAgICAgICJjb21wb25lbnRfb3V0X3BhdGgiOiAiJHt7cGFyZW50Lm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0iLA0KICAgICAgICB9DQogICAgICAgIGV4cGVjdGVkX3BpcGVsaW5lX291dHB1dF9kaWN0ID0gew0KICAgICAgICAgICAgImNvbXBvbmVudF9vdXRfcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAjIGRlZmF1bHQgbW9kZSBhZGRlZCBieSBtdCwgZGVmYXVsdCB0eXBlIGFkZGVkIGJ5IFNESw0KICAgICAgICAgICAgICAgICJtb2RlIjogInJ3X21vdW50IiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJ1cmlfZm9sZGVyIiwNCiAgICAgICAgICAgICAgICAjIG5vZGUgbGV2ZWwgY29uZmlnIHdpbGwgYmUgY29waWVkIHRvIHBpcGVsaW5lIGxldmVsDQogICAgICAgICAgICAgICAgInBhdGgiOiAiYXp1cmVtbDovL2RhdGFzdG9yZXMvd29ya3NwYWNlYmxvYnN0b3JlL3BhdGhzL291dHB1dHMvMSIsDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgYXNzZXJ0IGpvYl9kaWN0WyJqb2JzIl1bIm5vZGUxIl1bIm91dHB1dHMiXSA9PSBleHBlY3RlZF9ub2RlX291dHB1dF9kaWN0DQogICAgICAgIGFzc2VydCBqb2JfZGljdFsib3V0cHV0cyJdID09IGV4cGVjdGVkX3BpcGVsaW5lX291dHB1dF9kaWN0DQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV9jb21wb25lbnRfb3V0cHV0X3NldHRpbmcoc2VsZiwgY2xpZW50OiBNTENsaWVudCkgLT4gTm9uZToNCiAgICAgICAgY29tcG9uZW50X3lhbWwgPSBjb21wb25lbnRzX2RpciAvICJoZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiDQogICAgICAgIGNvbXBvbmVudF9mdW5jMSA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT1jb21wb25lbnRfeWFtbCkNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIGlubmVyX3BpcGVsaW5lKCk6DQogICAgICAgICAgICBub2RlMSA9IGNvbXBvbmVudF9mdW5jMShjb21wb25lbnRfaW5fbnVtYmVyPTEsIGNvbXBvbmVudF9pbl9wYXRoPWpvYl9pbnB1dCkNCiAgICAgICAgICAgIG5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLnBhdGggPSAiYXp1cmVtbDovL2RhdGFzdG9yZXMvd29ya3NwYWNlYmxvYnN0b3JlL3BhdGhzL291dHB1dHMvMSINCiAgICAgICAgICAgICMgbm9kZTEncyBvdXRwdXQgc2V0dGluZyB3aWxsIGJlIGNvcGllZCB0byBwaXBlbGluZSdzIHNldHRpbmcNCiAgICAgICAgICAgIHJldHVybiBub2RlMS5vdXRwdXRzDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiBvdXRlcl9waXBlbGluZSgpOg0KICAgICAgICAgICAgIyBpbm5lcl9waXBlbGluZSdzIG91dHB1dCBzZXR0aW5nIHdpbGwgYmUgY29waWVkIHRvIG5vZGUxJ3Mgc2V0dGluZw0KICAgICAgICAgICAgbm9kZTEgPSBpbm5lcl9waXBlbGluZSgpDQogICAgICAgICAgICAjIG5vZGUxJ3Mgb3V0cHV0IHNldHRpbmcgd2lsbCBiZSBjb3BpZWQgdG8gcGlwZWxpbmUncyBzZXR0aW5nDQogICAgICAgICAgICByZXR1cm4gbm9kZTEub3V0cHV0cw0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IG91dGVyX3BpcGVsaW5lKCkNCiAgICAgICAgcGlwZWxpbmVfam9iX2RpY3QgPSBwaXBlbGluZV9qb2IuX3RvX2RpY3QoKQ0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iX2RpY3RbIm91dHB1dHMiXSA9PSB7DQogICAgICAgICAgICAiY29tcG9uZW50X291dF9wYXRoIjogew0KICAgICAgICAgICAgICAgICJwYXRoIjogImF6dXJlbWw6Ly9kYXRhc3RvcmVzL3dvcmtzcGFjZWJsb2JzdG9yZS9wYXRocy9vdXRwdXRzLzEiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogInVyaV9mb2xkZXIiLA0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHBpcGVsaW5lX2NvbXBvbmVudCA9IHBpcGVsaW5lX2pvYi5qb2JzWyJub2RlMSJdLmNvbXBvbmVudA0KICAgICAgICBwaXBlbGluZV9jb21wb25lbnRfZGljdCA9IHBpcGVsaW5lX2NvbXBvbmVudC5fdG9fZGljdCgpDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9jb21wb25lbnRfZGljdFsib3V0cHV0cyJdID09IHsiY29tcG9uZW50X291dF9wYXRoIjogeyJ0eXBlIjogInVyaV9mb2xkZXIifX0NCiAgICAgICAgYXNzZXJ0IHBpcGVsaW5lX2NvbXBvbmVudF9kaWN0WyJqb2JzIl1bIm5vZGUxIl1bIm91dHB1dHMiXSA9PSB7DQogICAgICAgICAgICAiY29tcG9uZW50X291dF9wYXRoIjogIiR7e3BhcmVudC5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH19Ig0KICAgICAgICB9DQoNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgcGlwZWxpbmVfam9iID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShwaXBlbGluZV9qb2IpDQogICAgICAgIGNsaWVudC5qb2JzLmJlZ2luX2NhbmNlbChwaXBlbGluZV9qb2IubmFtZSkNCiAgICAgICAgam9iX2RpY3QgPSBwaXBlbGluZV9qb2IuX3RvX2RpY3QoKQ0KICAgICAgICAjIG91dGVyIHBpcGVsaW5lJ3Mgbm9kZTEgc2hvdWxkIGhhdmUgdGhlIG91dHB1dCBzZXR0aW5nDQogICAgICAgIGFzc2VydCBqb2JfZGljdFsiam9icyJdWyJub2RlMSJdWyJvdXRwdXRzIl0gPT0geyJjb21wb25lbnRfb3V0X3BhdGgiOiAiJHt7cGFyZW50Lm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0ifQ0KICAgICAgICBhc3NlcnQgam9iX2RpY3RbIm91dHB1dHMiXSA9PSB7DQogICAgICAgICAgICAiY29tcG9uZW50X291dF9wYXRoIjogew0KICAgICAgICAgICAgICAgICJtb2RlIjogInJ3X21vdW50IiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJ1cmlfZm9sZGVyIiwNCiAgICAgICAgICAgICAgICAjIG5vZGUgbGV2ZWwgY29uZmlnIHdpbGwgYmUgY29waWVkIHRvIHBpcGVsaW5lIGxldmVsDQogICAgICAgICAgICAgICAgInBhdGgiOiAiYXp1cmVtbDovL2RhdGFzdG9yZXMvd29ya3NwYWNlYmxvYnN0b3JlL3BhdGhzL291dHB1dHMvMSIsDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgIEBweXRlc3QubWFyay5kaXNhYmxlX21vY2tfY29kZV9oYXNoDQogICAgZGVmIHRlc3RfcmVnaXN0ZXJfb3V0cHV0X3Nka19zdWNjZWVkKHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBjb21wb25lbnQgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9Ii4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnQueW1sIikNCiAgICAgICAgY29tcG9uZW50X2lucHV0ID0gSW5wdXQodHlwZT0idXJpX2ZpbGUiLCBwYXRoPSJodHRwczovL2RwcmVwZGF0YS5ibG9iLmNvcmUud2luZG93cy5uZXQvZGVtby9UaXRhbmljLmNzdiIpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiBzdWJfcGlwZWxpbmUoKToNCiAgICAgICAgICAgIG5vZGUgPSBjb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2lucHV0KQ0KICAgICAgICAgICAgbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aC5uYW1lID0gInN1Yl9waXBlbGluZV9vdXRwdXQiDQogICAgICAgICAgICBub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLnZlcnNpb24gPSAidjEiDQogICAgICAgICAgICByZXR1cm4geyJzdWJfcGlwZWluZV9hX291dHB1dCI6IG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9DQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiByZWdpc3Rlcl9ib3RoX291dHB1dCgpOg0KICAgICAgICAgICAgIyByZWdpc3RlciBOb2RlT3V0cHV0IHdoaWNoIGlzIGJpbmRpbmcgdG8gUGlwZWxpbmVPdXRwdXQNCiAgICAgICAgICAgIG5vZGUgPSBjb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2lucHV0KQ0KICAgICAgICAgICAgbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aC5uYW1lID0gIm4xX291dHB1dCINCiAgICAgICAgICAgIG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgudmVyc2lvbiA9ICJ2MSINCg0KICAgICAgICAgICAgIyByZWdpc3RlciBOb2RlT3V0cHV0IHdoaWNoIGlzbid0IGJpbmRpbmcgdG8gUGlwZWxpbmVPdXRwdXQNCiAgICAgICAgICAgIG5vZGVfMiA9IGNvbXBvbmVudChjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5wdXQpDQogICAgICAgICAgICBub2RlXzIub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgubmFtZSA9ICJuMl9vdXRwdXQiDQogICAgICAgICAgICBub2RlXzIub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgudmVyc2lvbiA9ICJ2MSINCg0KICAgICAgICAgICAgIyByZWdpc3RlciBOb2RlT3V0cHV0IHdpdGhvdXQgdmVyc2lvbiwgaW4gdGhpcyBjYXNlIHRoZSBydW4gcmVzdWx0IGNhbiBiZSByZXVzZWQNCiAgICAgICAgICAgIG5vZGVfMyA9IGNvbXBvbmVudChjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5wdXQpDQogICAgICAgICAgICBub2RlXzMub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgubmFtZSA9ICJuM19vdXRwdXQiDQoNCiAgICAgICAgICAgICMgcmVnaXN0ZXIgTm9kZU91dHB1dCBvZiBzdWJncmFwaA0KICAgICAgICAgICAgc3ViX25vZGUgPSBzdWJfcGlwZWxpbmUoKQ0KICAgICAgICAgICAgc3ViX25vZGUub3V0cHV0cy5zdWJfcGlwZWluZV9hX291dHB1dC5uYW1lID0gInN1Yl9waXBlbGluZSINCiAgICAgICAgICAgIHN1Yl9ub2RlLm91dHB1dHMuc3ViX3BpcGVpbmVfYV9vdXRwdXQudmVyc2lvbiA9ICJ2MSINCg0KICAgICAgICAgICAgcmV0dXJuIHsicGlwZWluZV9hX291dHB1dCI6IG5vZGUub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGh9DQoNCiAgICAgICAgcGlwZWxpbmUgPSByZWdpc3Rlcl9ib3RoX291dHB1dCgpDQogICAgICAgIHBpcGVsaW5lLm91dHB1dHMucGlwZWluZV9hX291dHB1dC5uYW1lID0gInAxX291dHB1dCINCiAgICAgICAgcGlwZWxpbmUub3V0cHV0cy5waXBlaW5lX2Ffb3V0cHV0LnZlcnNpb24gPSAidjEiDQogICAgICAgIHBpcGVsaW5lLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmUsIGNsaWVudCkNCg0KICAgICAgICBjaGVja19uYW1lX2FuZF92ZXJzaW9uKHBpcGVsaW5lX2pvYi5vdXRwdXRzLnBpcGVpbmVfYV9vdXRwdXQsICJwMV9vdXRwdXQiLCAidjEiKQ0KICAgICAgICBjaGVja19uYW1lX2FuZF92ZXJzaW9uKHBpcGVsaW5lX2pvYi5qb2JzWyJub2RlXzIiXS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwgIm4yX291dHB1dCIsICJ2MSIpDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2Iuam9ic1sibm9kZV8zIl0ub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgubmFtZSA9PSAibjNfb3V0cHV0Ig0KICAgICAgICBjaGVja19uYW1lX2FuZF92ZXJzaW9uKHBpcGVsaW5lX2pvYi5qb2JzWyJzdWJfbm9kZSJdLm91dHB1dHMuc3ViX3BpcGVpbmVfYV9vdXRwdXQsICJzdWJfcGlwZWxpbmUiLCAidjEiKQ0KDQogICAgQHB5dGVzdC5tYXJrLnNraXAocmVhc29uPSJLZXlFcnJvcjogJ25vZGVfMiciKQ0KICAgIEBweXRlc3QubWFyay5kaXNhYmxlX21vY2tfY29kZV9oYXNoDQogICAgZGVmIHRlc3RfcmVnaXN0ZXJfb3V0cHV0X2Zvcl9waXBlbGluZV9jb21wb25lbnQoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGNvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiKQ0KICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IikNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHN1Yl9waXBlbGluZSgpOg0KICAgICAgICAgICAgbm9kZV8xID0gY29tcG9uZW50KGNvbXBvbmVudF9pbl9wYXRoPWNvbXBvbmVudF9pbnB1dCkgICMgdGVzdCB1c2UgT3V0cHV0IHRvIGluaXRpYWxpemUgc3ViZ3JhcGguam9icy5vdXRwdXQNCiAgICAgICAgICAgIG5vZGVfMS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCA9IE91dHB1dChuYW1lPSJzdWJfcGlwZWxpbmVfMV9vdXRwdXQiLCB2ZXJzaW9uPSJ2MSIpDQoNCiAgICAgICAgICAgIG5vZGVfMiA9IGNvbXBvbmVudChjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5wdXQpICAjIHRlc3Qgd2UgY2FuIHBhc3MgTm9kZU91dHB1dCBpbiBQaXBlbGluZUNvbXBvbmVudA0KICAgICAgICAgICAgbm9kZV8yLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLm5hbWUgPSAic3ViX3BpcGVsaW5lXzJfb3V0cHV0Ig0KICAgICAgICAgICAgbm9kZV8yLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLnZlcnNpb24gPSAidjIiDQoNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgInN1Yl9ub2RlXzEiOiBub2RlXzEub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGgsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgQGRzbC5waXBlbGluZSgpDQogICAgICAgIGRlZiByZWdpc3Rlcl9ib3RoX291dHB1dCgpOg0KICAgICAgICAgICAgc3ViZ3JhcGggPSBzdWJfcGlwZWxpbmUoKQ0KDQogICAgICAgIHBpcGVsaW5lID0gcmVnaXN0ZXJfYm90aF9vdXRwdXQoKQ0KICAgICAgICBwaXBlbGluZS5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICAgICAgY2hlY2tfbmFtZV9hbmRfdmVyc2lvbihwaXBlbGluZV9qb2Iuam9ic1sic3ViZ3JhcGgiXS5vdXRwdXRzWyJzdWJfbm9kZV8xIl0sICJzdWJfcGlwZWxpbmVfMV9vdXRwdXQiLCAidjEiKQ0KDQogICAgICAgIHN1YmdyYXBoX2lkID0gcGlwZWxpbmVfam9iLmpvYnNbInN1YmdyYXBoIl0uY29tcG9uZW50DQogICAgICAgIHN1YmdyYXBoX2lkID0gc3ViZ3JhcGhfaWQuc3BsaXQoIjoiKQ0KICAgICAgICBzdWJncmFwaCA9IGNsaWVudC5jb21wb25lbnRzLmdldChuYW1lPXN1YmdyYXBoX2lkWzBdLCB2ZXJzaW9uPXN1YmdyYXBoX2lkWzFdKQ0KICAgICAgICAjIFRPRE86IGVuYWJsZSB0aGlzIGNoZWNrIGluIHBsYXliYWNrIG1vZGUgYWZ0ZXIgcGlwZWxpbmVfY29tcG9uZW50LmpvYnMgaXMgb3BlbmVkIGluIGFsbCBzdWJzY3JpcHRpb25zDQogICAgICAgIGlmIGlzX2xpdmUoKToNCiAgICAgICAgICAgIGNoZWNrX25hbWVfYW5kX3ZlcnNpb24oc3ViZ3JhcGguam9ic1sibm9kZV8yIl0ub3V0cHV0c1siY29tcG9uZW50X291dF9wYXRoIl0sICJzdWJfcGlwZWxpbmVfMl9vdXRwdXQiLCAidjIiKQ0KDQogICAgQHB5dGVzdC5tYXJrLmRpc2FibGVfbW9ja19jb2RlX2hhc2gNCiAgICAjIHdpdGhvdXQgdGhpcyBtYXJrLCB0aGUgY29kZSB3b3VsZCBiZSBwYXNzZWQgd2l0aCBkaWZmZXJlbnQgaWQgZXZlbiB3aGVuIHdlIHVwbG9hZCB0aGUgc2FtZSBjb21wb25lbnQsDQogICAgIyBhZGQgdGhpcyBtYXJrIHRvIHJldXNlIG5vZGUgYW5kIGZ1cnRoZXIgcmV1c2UgcGlwZWxpbmUNCiAgICBkZWYgdGVzdF9yZWdpc3Rlcl93aXRoX291dHB1dF9mb3JtYXQoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGNvbXBvbmVudCA9IGxvYWRfY29tcG9uZW50KHNvdXJjZT0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudC55bWwiKQ0KICAgICAgICBjb21wb25lbnRfaW5wdXQgPSBJbnB1dCh0eXBlPSJ1cmlfZmlsZSIsIHBhdGg9Imh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IikNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHN1Yl9waXBlbGluZSgpOg0KICAgICAgICAgICAgbm9kZSA9IGNvbXBvbmVudChjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5wdXQpDQogICAgICAgICAgICBub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoID0gT3V0cHV0KG5hbWU9InN1Yl9waXBlbGluZV9vX291dHB1dCIsIHZlcnNpb249InYxIikNCiAgICAgICAgICAgIHJldHVybiB7InN1Yl9waXBlaW5lX2Ffb3V0cHV0Ijogbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aH0NCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHJlZ2lzdGVyX2JvdGhfb3V0cHV0KCk6DQogICAgICAgICAgICAjIHJlZ2lzdGVyIE5vZGVPdXRwdXQgd2hpY2ggaXMgYmluZGluZyB0byBQaXBlbGluZU91dHB1dA0KICAgICAgICAgICAgbm9kZSA9IGNvbXBvbmVudChjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5wdXQpICAjIGJpbmRpbmcgYW5kIHJlLWRlZmluZSBuYW1lIGFuZCB2ZXJzaW9uDQogICAgICAgICAgICBub2RlLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoID0gT3V0cHV0KG5hbWU9Im4xX29fb3V0cHV0IiwgdmVyc2lvbj0iMSIpDQoNCiAgICAgICAgICAgIG5vZGVfMiA9IGNvbXBvbmVudChjb21wb25lbnRfaW5fcGF0aD1jb21wb25lbnRfaW5wdXQpICAjIGJpbmRpbmcNCiAgICAgICAgICAgIG5vZGVfMi5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCA9IE91dHB1dChuYW1lPSJuMl9vX291dHB1dCIsIHZlcnNpb249IjIiKQ0KDQogICAgICAgICAgICBub2RlXzMgPSBjb21wb25lbnQoY29tcG9uZW50X2luX3BhdGg9Y29tcG9uZW50X2lucHV0KSAgIyBpc24ndCBiaW5kaW5nDQogICAgICAgICAgICBub2RlXzMub3V0cHV0cy5jb21wb25lbnRfb3V0X3BhdGggPSBPdXRwdXQobmFtZT0ibjNfb19vdXRwdXQiLCB2ZXJzaW9uPSI0IikNCg0KICAgICAgICAgICAgc3ViX25vZGUgPSBzdWJfcGlwZWxpbmUoKSAgIyB0ZXN0IHNldCBPdXRwdXQgZm9yIFBpcGVsaW5lQ29tcG9uZW50DQogICAgICAgICAgICBzdWJfbm9kZS5vdXRwdXRzLnN1Yl9waXBlaW5lX2Ffb3V0cHV0ID0gT3V0cHV0KG5hbWU9InN1YmdyYXBoX29fb3V0cHV0IiwgdmVyc2lvbj0iMSIpDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICJwaXBlaW5lX2Ffb3V0cHV0Ijogbm9kZS5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgICAgICAicGlwZWluZV9iX291dHB1dCI6IG5vZGVfMi5vdXRwdXRzLmNvbXBvbmVudF9vdXRfcGF0aCwNCiAgICAgICAgICAgIH0NCg0KICAgICAgICBwaXBlbGluZSA9IHJlZ2lzdGVyX2JvdGhfb3V0cHV0KCkNCiAgICAgICAgcGlwZWxpbmUuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICBwaXBlbGluZS5vdXRwdXRzLnBpcGVpbmVfYV9vdXRwdXQubmFtZSA9ICJucF9vdXRwdXQiDQogICAgICAgIHBpcGVsaW5lLm91dHB1dHMucGlwZWluZV9hX291dHB1dC52ZXJzaW9uID0gIjEiDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQoNCiAgICAgICAgY2hlY2tfbmFtZV9hbmRfdmVyc2lvbihwaXBlbGluZV9qb2Iub3V0cHV0cy5waXBlaW5lX2Ffb3V0cHV0LCAibnBfb3V0cHV0IiwgIjEiKQ0KICAgICAgICBjaGVja19uYW1lX2FuZF92ZXJzaW9uKHBpcGVsaW5lX2pvYi5vdXRwdXRzLnBpcGVpbmVfYl9vdXRwdXQsICJuMl9vX291dHB1dCIsICIyIikNCiAgICAgICAgY2hlY2tfbmFtZV9hbmRfdmVyc2lvbihwaXBlbGluZV9qb2Iuam9ic1sibm9kZV8zIl0ub3V0cHV0c1siY29tcG9uZW50X291dF9wYXRoIl0sICJuM19vX291dHB1dCIsICI0IikNCiAgICAgICAgY2hlY2tfbmFtZV9hbmRfdmVyc2lvbihwaXBlbGluZV9qb2Iuam9ic1sic3ViX25vZGUiXS5vdXRwdXRzWyJzdWJfcGlwZWluZV9hX291dHB1dCJdLCAic3ViZ3JhcGhfb19vdXRwdXQiLCAiMSIpDQoNCiAgICBkZWYgdGVzdF9waXBlbGluZV9pbnB1dF9iaW5kaW5nX2xpbWl0c190aW1lb3V0KHNlbGYsIGNsaWVudDogTUxDbGllbnQpOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9IHIiLi90ZXN0cy90ZXN0X2NvbmZpZ3MvY29tcG9uZW50cy9oZWxsb3dvcmxkX2NvbXBvbmVudF9ub19wYXRocy55bWwiDQogICAgICAgIGNvbXBvbmVudF9mdW5jID0gbG9hZF9jb21wb25lbnQoc291cmNlPWNvbXBvbmVudF95YW1sKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUNCiAgICAgICAgZGVmIG15X3BpcGVsaW5lKHRpbWVvdXQpIC0+IFBpcGVsaW5lSm9iOg0KICAgICAgICAgICAgIyBjYXNlIDE6IGlmIHRpbWVvdXQgaXMgUGlwZWxpbmVJbnB1dCwgZ2V0IGJpbmRpbmcgZnJvbSByZXNwb25zZQ0KICAgICAgICAgICAgbm9kZV8wID0gY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X2luX251bWJlcj0xKQ0KICAgICAgICAgICAgbm9kZV8wLnNldF9saW1pdHModGltZW91dD10aW1lb3V0KQ0KICAgICAgICAgICAgIyBjYXNlIDI6IGlmIHRpbWVvdXQgaXMgbm90IFBpcGVsaW5lSW5wdXQsIHJlc3BvbnNlIHRpbWVvdXQgd2lsbCBiZSBwYXJzZWQgdG8gaW50DQogICAgICAgICAgICBub2RlXzEgPSBjb21wb25lbnRfZnVuYyhjb21wb25lbnRfaW5fbnVtYmVyPTEpDQogICAgICAgICAgICBub2RlXzEuc2V0X2xpbWl0cyh0aW1lb3V0PTEpDQoNCiAgICAgICAgcGlwZWxpbmUgPSBteV9waXBlbGluZSgyKQ0KICAgICAgICBwaXBlbGluZS5zZXR0aW5ncy5kZWZhdWx0X2NvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lLCBjbGllbnQpDQogICAgICAgIGFzc2VydCBwaXBlbGluZV9qb2Iuam9ic1sibm9kZV8wIl0ubGltaXRzLnRpbWVvdXQgPT0gIiR7e3BhcmVudC5pbnB1dHMudGltZW91dH19Ig0KICAgICAgICBhc3NlcnQgcGlwZWxpbmVfam9iLmpvYnNbIm5vZGVfMSJdLmxpbWl0cy50aW1lb3V0ID09IDENCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX2NvbXBvbmVudF9wcmltaXRpdmVfdHlwZV9jb25zdW1wdGlvbihzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgYmFpc2NfY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcHJpbWl0aXZlX3R5cGVfY29tcG9uZW50cy9iYXNpY19jb21wb25lbnQueW1sIg0KICAgICAgICApDQogICAgICAgIGJvb2xlYW5fZnVuYyA9IGxvYWRfY29tcG9uZW50KCIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcHJpbWl0aXZlX3R5cGVfY29tcG9uZW50cy9ib29sZWFuLnltbCIpDQogICAgICAgIGludGVnZXJfZnVuYyA9IGxvYWRfY29tcG9uZW50KCIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcHJpbWl0aXZlX3R5cGVfY29tcG9uZW50cy9pbnRlZ2VyLnltbCIpDQogICAgICAgIG51bWJlcl9mdW5jID0gbG9hZF9jb21wb25lbnQoIi4vdGVzdHMvdGVzdF9jb25maWdzL2RzbF9waXBlbGluZS9wcmltaXRpdmVfdHlwZV9jb21wb25lbnRzL251bWJlci55bWwiKQ0KICAgICAgICBzdHJpbmdfZnVuYyA9IGxvYWRfY29tcG9uZW50KCIuL3Rlc3RzL3Rlc3RfY29uZmlncy9kc2xfcGlwZWxpbmUvcHJpbWl0aXZlX3R5cGVfY29tcG9uZW50cy9zdHJpbmcueW1sIikNCg0KICAgICAgICBAZHNsLnBpcGVsaW5lDQogICAgICAgIGRlZiBwaXBlbGluZV9jb21wb25lbnRfZnVuYyhib29sX3BhcmFtOiBib29sLCBpbnRfcGFyYW06IGludCwgZmxvYXRfcGFyYW06IGZsb2F0LCBzdHJfcGFyYW06IHN0cik6DQogICAgICAgICAgICBiYWlzY19jb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBib29sX3BhcmFtPWJvb2xfcGFyYW0sDQogICAgICAgICAgICAgICAgaW50X3BhcmFtPWludF9wYXJhbSwNCiAgICAgICAgICAgICAgICBmbG9hdF9wYXJhbT1mbG9hdF9wYXJhbSwNCiAgICAgICAgICAgICAgICBzdHJfcGFyYW09c3RyX3BhcmFtLA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIEBkc2wucGlwZWxpbmUNCiAgICAgICAgZGVmIHBpcGVsaW5lX2Z1bmMoKToNCiAgICAgICAgICAgICMgY29tcG9uZW50cyByZXR1cm4gcHJpbWl0aXZlIHR5cGUgb3V0cHV0cw0KICAgICAgICAgICAgYm9vbF9ub2RlID0gYm9vbGVhbl9mdW5jKCkNCiAgICAgICAgICAgIGludF9ub2RlID0gaW50ZWdlcl9mdW5jKCkNCiAgICAgICAgICAgIGZsb2F0X25vZGUgPSBudW1iZXJfZnVuYygpDQogICAgICAgICAgICBzdHJfbm9kZSA9IHN0cmluZ19mdW5jKCkNCiAgICAgICAgICAgICMgcGlwZWxpbmUgY29tcG9uZW50IGNvbnN1bWUgYWJvdmUgcHJpbWl0aXZlIHR5cGUgb3V0cHV0cw0KICAgICAgICAgICAgcGlwZWxpbmVfbm9kZSA9IHBpcGVsaW5lX2NvbXBvbmVudF9mdW5jKCAgIyBub3FhOiBGODQxDQogICAgICAgICAgICAgICAgYm9vbF9wYXJhbT1ib29sX25vZGUub3V0cHV0cy5vdXRwdXQsDQogICAgICAgICAgICAgICAgaW50X3BhcmFtPWludF9ub2RlLm91dHB1dHMub3V0cHV0LA0KICAgICAgICAgICAgICAgIGZsb2F0X3BhcmFtPWZsb2F0X25vZGUub3V0cHV0cy5vdXRwdXQsDQogICAgICAgICAgICAgICAgc3RyX3BhcmFtPXN0cl9ub2RlLm91dHB1dHMub3V0cHV0LA0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IHBpcGVsaW5lX2Z1bmMoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KDQogICAgICAgIGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX2pvYiwgY2xpZW50KQ0KDQogICAgZGVmIHRlc3RfcGlwZWxpbmVfdmFyaWFibGVfbmFtZV91cHBlcmNhc2Uoc2VsZiwgY2xpZW50OiBNTENsaWVudCk6DQogICAgICAgIGNvbXBvbmVudF95YW1sID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnQueW1sIg0KICAgICAgICBjb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KA0KICAgICAgICAgICAgc291cmNlPWNvbXBvbmVudF95YW1sLA0KICAgICAgICApDQoNCiAgICAgICAgQGRzbC5waXBlbGluZShuYW1lPSJwaXBlbGluZV93aXRoX3VwcGVyY2FzZV9ub2RlX25hbWVzIikNCiAgICAgICAgZGVmIHBpcGVsaW5lX3dpdGhfdXNlcl9kZWZpbmVkX25vZGVzXzEoKToNCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDIpOg0KICAgICAgICAgICAgICAgIG5vZGUxID0gY29tcG9uZW50X2Z1bmMoY29tcG9uZW50X2luX3BhdGg9am9iX2lucHV0KQ0KICAgICAgICAgICAgICAgICMgY2hhbmdlIG5vZGUgbmFtZSB0byBsb3dlciB3aGVuIHNldHRpbmcgaXQgdG8gYXZvaWQgdXBwZXIgY2FzZSBpbiBueHRfaW5wdXQncyBiaW5kaW5nDQogICAgICAgICAgICAgICAgbm9kZTEubmFtZSA9IGYiRHVtbXlfe2l9Ig0KICAgICAgICAgICAgICAgIG54dF9pbnB1dCA9IElucHV0KA0KICAgICAgICAgICAgICAgICAgICBwYXRoPW5vZGUxLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRoLA0KICAgICAgICAgICAgICAgICAgICBtb2RlPUlucHV0T3V0cHV0TW9kZXMuRElSRUNULA0KICAgICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICBub2RlMiA9IGNvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9wYXRoPW54dF9pbnB1dCkNCiAgICAgICAgICAgICAgICBub2RlMi5uYW1lID0gZiJBbm90aGVyX3tpfSINCg0KICAgICAgICBwaXBlbGluZV9qb2IgPSBwaXBlbGluZV93aXRoX3VzZXJfZGVmaW5lZF9ub2Rlc18xKCkNCiAgICAgICAgcGlwZWxpbmVfam9iLnNldHRpbmdzLmRlZmF1bHRfY29tcHV0ZSA9ICJjcHUtY2x1c3RlciINCiAgICAgICAgcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQogICAgICAgIGFjdHVhbF9qb2IgPSBvbWl0X3dpdGhfd2lsZGNhcmQocGlwZWxpbmVfam9iLl90b19yZXN0X29iamVjdCgpLnByb3BlcnRpZXMuYXNfZGljdCgpLCAqY29tbW9uX29taXRfZmllbGRzKQ0KICAgICAgICBhc3NlcnQgYWN0dWFsX2pvYlsiam9icyJdID09IHsNCiAgICAgICAgICAgICJhbm90aGVyXzAiOiB7DQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiRGlyZWN0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuam9icy5kdW1teV8wLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJhbm90aGVyXzAiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJhbm90aGVyXzEiOiB7DQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogImxpdGVyYWwiLA0KICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiAiRGlyZWN0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICIke3twYXJlbnQuam9icy5kdW1teV8xLm91dHB1dHMuY29tcG9uZW50X291dF9wYXRofX0iLA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJhbm90aGVyXzEiLA0KICAgICAgICAgICAgICAgICJ0eXBlIjogImNvbW1hbmQiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJkdW1teV8wIjogew0KICAgICAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgICAgICJjb21wb25lbnRfaW5fcGF0aCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJqb2JfaW5wdXRfdHlwZSI6ICJ1cmlfZmlsZSIsDQogICAgICAgICAgICAgICAgICAgICAgICAidXJpIjogImh0dHBzOi8vZHByZXBkYXRhLmJsb2IuY29yZS53aW5kb3dzLm5ldC9kZW1vL1RpdGFuaWMuY3N2IiwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgIm5hbWUiOiAiZHVtbXlfMCIsDQogICAgICAgICAgICAgICAgInR5cGUiOiAiY29tbWFuZCIsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgImR1bW15XzEiOiB7DQogICAgICAgICAgICAgICAgImlucHV0cyI6IHsNCiAgICAgICAgICAgICAgICAgICAgImNvbXBvbmVudF9pbl9wYXRoIjogew0KICAgICAgICAgICAgICAgICAgICAgICAgImpvYl9pbnB1dF90eXBlIjogInVyaV9maWxlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICJ1cmkiOiAiaHR0cHM6Ly9kcHJlcGRhdGEuYmxvYi5jb3JlLndpbmRvd3MubmV0L2RlbW8vVGl0YW5pYy5jc3YiLA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAibmFtZSI6ICJkdW1teV8xIiwNCiAgICAgICAgICAgICAgICAidHlwZSI6ICJjb21tYW5kIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3Npbmd1bGFyaXR5X3N0cm9uZ190eXBlX3N1Ym1pc3Npb24oc2VsZiwgY2xpZW50OiBNTENsaWVudCwgbW9ja19zaW5ndWxhcml0eV9hcm1faWQ6IHN0cik6DQogICAgICAgIGNvbXBvbmVudF95YW1sID0gIi4vdGVzdHMvdGVzdF9jb25maWdzL2NvbXBvbmVudHMvaGVsbG93b3JsZF9jb21wb25lbnRfc2luZ3VsYXJpdHkueW1sIg0KICAgICAgICBjb21wb25lbnRfZnVuYyA9IGxvYWRfY29tcG9uZW50KGNvbXBvbmVudF95YW1sKQ0KDQogICAgICAgIGluc3RhbmNlX3R5cGUgPSAiU2luZ3VsYXJpdHkuTkQ0MHJzX3YyIg0KDQogICAgICAgIEBkc2wucGlwZWxpbmUNCiAgICAgICAgZGVmIHBpcGVsaW5lX2Z1bmMoKToNCiAgICAgICAgICAgICMgYmFzaWMgam9iX3RpZXIgKyBMb3cgcHJpb3JpdHkNCiAgICAgICAgICAgIGJhc2ljX2xvd19ub2RlID0gY29tcG9uZW50X2Z1bmMoKQ0KICAgICAgICAgICAgYmFzaWNfbG93X25vZGUucmVzb3VyY2VzID0gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uKGluc3RhbmNlX2NvdW50PTIsIGluc3RhbmNlX3R5cGU9aW5zdGFuY2VfdHlwZSkNCiAgICAgICAgICAgIGJhc2ljX2xvd19ub2RlLnF1ZXVlX3NldHRpbmdzID0gUXVldWVTZXR0aW5ncyhqb2JfdGllcj0iYmFzaWMiLCBwcmlvcml0eT0ibG93IikNCiAgICAgICAgICAgICMgc3RhbmRhcmQgam9iX3RpZXIgKyBNZWRpdW0gcHJpb3JpdHkNCiAgICAgICAgICAgIHN0YW5kYXJkX21lZGl1bV9ub2RlID0gY29tcG9uZW50X2Z1bmMoKQ0KICAgICAgICAgICAgc3RhbmRhcmRfbWVkaXVtX25vZGUucmVzb3VyY2VzID0gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uKGluc3RhbmNlX2NvdW50PTIsIGluc3RhbmNlX3R5cGU9aW5zdGFuY2VfdHlwZSkNCiAgICAgICAgICAgIHN0YW5kYXJkX21lZGl1bV9ub2RlLnF1ZXVlX3NldHRpbmdzID0gUXVldWVTZXR0aW5ncyhqb2JfdGllcj0ic3RhbmRhcmQiLCBwcmlvcml0eT0ibWVkaXVtIikNCiAgICAgICAgICAgICMgcHJlbWl1bSBqb2JfdGllciArIEhpZ2ggcHJpb3JpdHkNCiAgICAgICAgICAgIHByZW1pdW1faGlnaF9ub2RlID0gY29tcG9uZW50X2Z1bmMoKQ0KICAgICAgICAgICAgcHJlbWl1bV9oaWdoX25vZGUucmVzb3VyY2VzID0gSm9iUmVzb3VyY2VDb25maWd1cmF0aW9uKGluc3RhbmNlX2NvdW50PTIsIGluc3RhbmNlX3R5cGU9aW5zdGFuY2VfdHlwZSkNCiAgICAgICAgICAgIHByZW1pdW1faGlnaF9ub2RlLnF1ZXVlX3NldHRpbmdzID0gUXVldWVTZXR0aW5ncyhqb2JfdGllcj0icHJlbWl1bSIsIHByaW9yaXR5PSJoaWdoIikNCiAgICAgICAgICAgICMgcHJvcGVydGllcw0KICAgICAgICAgICAgbm9kZV93aXRoX3Byb3BlcnRpZXMgPSBjb21wb25lbnRfZnVuYygpDQogICAgICAgICAgICBwcm9wZXJ0aWVzID0geyJTaW5ndWxhcml0eSI6IHsiaW1hZ2VWZXJzaW9uIjogIiIsICJpbnRlcmFjdGl2ZSI6IEZhbHNlfX0NCiAgICAgICAgICAgIG5vZGVfd2l0aF9wcm9wZXJ0aWVzLnJlc291cmNlcyA9IEpvYlJlc291cmNlQ29uZmlndXJhdGlvbigNCiAgICAgICAgICAgICAgICBpbnN0YW5jZV9jb3VudD0yLCBpbnN0YW5jZV90eXBlPWluc3RhbmNlX3R5cGUsIHByb3BlcnRpZXM9cHJvcGVydGllcw0KICAgICAgICAgICAgKQ0KDQogICAgICAgIHBpcGVsaW5lX2pvYiA9IHBpcGVsaW5lX2Z1bmMoKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gbW9ja19zaW5ndWxhcml0eV9hcm1faWQNCiAgICAgICAgIyB0aGlzIHBpcGVsaW5lIGpvYiBpcyBleHBlY3RlZCB0byBmYWlsIGFzIFNpbmd1bGFyaXR5IGlzIG1vY2tlZCwgZm9jdXMgb24gUkVTVCBvYmplY3QgYXNzZXJ0aW9uDQogICAgICAgIGNyZWF0ZWRfcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQogICAgICAgIHJlc3Rfb2JqID0gY3JlYXRlZF9waXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkNCiAgICAgICAgYXNzZXJ0IHJlc3Rfb2JqLnByb3BlcnRpZXMuc2V0dGluZ3NbImRlZmF1bHRfY29tcHV0ZSJdID09IG1vY2tfc2luZ3VsYXJpdHlfYXJtX2lkDQogICAgICAgICMgYmFzaWMgam9iX3RpZXIgKyBMb3cgcHJpb3JpdHkNCiAgICAgICAgYmFzaWNfbG93X25vZGVfZGljdCA9IHJlc3Rfb2JqLnByb3BlcnRpZXMuam9ic1siYmFzaWNfbG93X25vZGUiXQ0KICAgICAgICBhc3NlcnQgYmFzaWNfbG93X25vZGVfZGljdFsicXVldWVfc2V0dGluZ3MiXSA9PSB7ImpvYl90aWVyIjogIkJhc2ljIiwgInByaW9yaXR5IjogMX0NCiAgICAgICAgYXNzZXJ0IGJhc2ljX2xvd19ub2RlX2RpY3RbInJlc291cmNlcyJdID09IHsiaW5zdGFuY2VfY291bnQiOiAyLCAiaW5zdGFuY2VfdHlwZSI6IGluc3RhbmNlX3R5cGV9DQogICAgICAgICMgc3RhbmRhcmQgam9iX3RpZXIgKyBNZWRpdW0gcHJpb3JpdHkNCiAgICAgICAgc3RhbmRhcmRfbWVkaXVtX25vZGVfZGljdCA9IHJlc3Rfb2JqLnByb3BlcnRpZXMuam9ic1sic3RhbmRhcmRfbWVkaXVtX25vZGUiXQ0KICAgICAgICBhc3NlcnQgc3RhbmRhcmRfbWVkaXVtX25vZGVfZGljdFsicXVldWVfc2V0dGluZ3MiXSA9PSB7ImpvYl90aWVyIjogIlN0YW5kYXJkIiwgInByaW9yaXR5IjogMn0NCiAgICAgICAgYXNzZXJ0IHN0YW5kYXJkX21lZGl1bV9ub2RlX2RpY3RbInJlc291cmNlcyJdID09IHsiaW5zdGFuY2VfY291bnQiOiAyLCAiaW5zdGFuY2VfdHlwZSI6IGluc3RhbmNlX3R5cGV9DQogICAgICAgICMgcHJlbWl1bSBqb2JfdGllciArIEhpZ2ggcHJpb3JpdHkNCiAgICAgICAgcHJlbWl1bV9oaWdoX25vZGVfZGljdCA9IHJlc3Rfb2JqLnByb3BlcnRpZXMuam9ic1sicHJlbWl1bV9oaWdoX25vZGUiXQ0KICAgICAgICBhc3NlcnQgcHJlbWl1bV9oaWdoX25vZGVfZGljdFsicXVldWVfc2V0dGluZ3MiXSA9PSB7ImpvYl90aWVyIjogIlByZW1pdW0iLCAicHJpb3JpdHkiOiAzfQ0KICAgICAgICBhc3NlcnQgcHJlbWl1bV9oaWdoX25vZGVfZGljdFsicmVzb3VyY2VzIl0gPT0geyJpbnN0YW5jZV9jb3VudCI6IDIsICJpbnN0YW5jZV90eXBlIjogaW5zdGFuY2VfdHlwZX0NCiAgICAgICAgIyBwcm9wZXJ0aWVzDQogICAgICAgIG5vZGVfd2l0aF9wcm9wZXJ0aWVzX2RpY3QgPSByZXN0X29iai5wcm9wZXJ0aWVzLmpvYnNbIm5vZGVfd2l0aF9wcm9wZXJ0aWVzIl0NCiAgICAgICAgYXNzZXJ0IG5vZGVfd2l0aF9wcm9wZXJ0aWVzX2RpY3RbInJlc291cmNlcyJdID09IHsNCiAgICAgICAgICAgICJpbnN0YW5jZV9jb3VudCI6IDIsDQogICAgICAgICAgICAiaW5zdGFuY2VfdHlwZSI6IGluc3RhbmNlX3R5cGUsDQogICAgICAgICAgICAjIHRoZSBtYXBwaW5nIFNpbmd1bGFyaXR5ID0+IEFJU3VwZXJDb21wdXRlciBpcyBleHBlY3RlZA0KICAgICAgICAgICAgInByb3BlcnRpZXMiOiB7IkFJU3VwZXJDb21wdXRlciI6IHsiaW1hZ2VWZXJzaW9uIjogIiIsICJpbnRlcmFjdGl2ZSI6IEZhbHNlfX0sDQogICAgICAgIH0NCg0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3Npbmd1bGFyaXR5X3Byb3BlcnR5X2JhZ19zdWJtaXNzaW9uKHNlbGYsIGNsaWVudDogTUxDbGllbnQsIG1vY2tfc2luZ3VsYXJpdHlfYXJtX2lkOiBzdHIpOg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50X3Npbmd1bGFyaXR5LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChjb21wb25lbnRfeWFtbCkNCg0KICAgICAgICAjIHByb3BlcnR5IGJhZyBpcyBzdXBwb3J0ZWQsIHdpdGggbG93ZXIgcHJpb3JpdHkgdGhhbiBzdHJvbmcgdHlwZQ0KICAgICAgICB2Y19jb25maWcgPSB7DQogICAgICAgICAgICAiaW5zdGFuY2VfdHlwZSI6ICJTaW5ndWxhcml0eS5ORDQwcnNfdjIiLA0KICAgICAgICAgICAgImluc3RhbmNlX2NvdW50IjogMiwNCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogew0KICAgICAgICAgICAgICAgICJBSVN1cGVyQ29tcHV0ZXIiOiB7DQogICAgICAgICAgICAgICAgICAgICJpbnRlcmFjdGl2ZSI6IEZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiaW1hZ2VWZXJzaW9uIjogInB5dG9yY2giLA0KICAgICAgICAgICAgICAgICAgICAic2xhVGllciI6ICJQcmVtaXVtIiwNCiAgICAgICAgICAgICAgICAgICAgInRlbnNvcmJvYXJkTG9nRGlyZWN0b3J5IjogIi9zY3JhdGNoL3RlbnNvcmJvYXJkX2xvZ3MiLA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgIH0NCg0KICAgICAgICBAZHNsLnBpcGVsaW5lDQogICAgICAgIGRlZiBwaXBlbGluZV9mdW5jKCk6DQogICAgICAgICAgICBub2RlID0gY29tcG9uZW50X2Z1bmMoKQ0KICAgICAgICAgICAgbm9kZS5yZXNvdXJjZXMgPSB2Y19jb25maWcNCiAgICAgICAgICAgIG5vZGUuY29tcHV0ZSA9IG1vY2tfc2luZ3VsYXJpdHlfYXJtX2lkDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gcGlwZWxpbmVfZnVuYygpDQogICAgICAgICMgYXMgU2luZ3VsYXJpdHkgaXMgbW9ja2VkIGFuZCBleHBlY3RlZCB0byBmYWlsIHZhbGlkYXRpb24sIHNraXAgaXQgZm9yIHN1Ym1pc3Npb247DQogICAgICAgICMgdGhlbiBtYW51YWxseSBjYW5jZWwgaXQgYXMgb3RoZXIgdGVzdHMuDQogICAgICAgIGNyZWF0ZWRfcGlwZWxpbmVfam9iID0gY2xpZW50LmNyZWF0ZV9vcl91cGRhdGUocGlwZWxpbmVfam9iLCBza2lwX3ZhbGlkYXRpb249VHJ1ZSkNCiAgICAgICAgY2xpZW50LmpvYnMuYmVnaW5fY2FuY2VsKGNyZWF0ZWRfcGlwZWxpbmVfam9iLm5hbWUpLnJlc3VsdCgpDQogICAgICAgIHJlc3Rfb2JqID0gY3JlYXRlZF9waXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkNCiAgICAgICAgYXNzZXJ0IHJlc3Rfb2JqLnByb3BlcnRpZXMuam9ic1sibm9kZSJdWyJjb21wdXRlSWQiXSA9PSBtb2NrX3Npbmd1bGFyaXR5X2FybV9pZA0KICAgICAgICBhc3NlcnQgcmVzdF9vYmoucHJvcGVydGllcy5qb2JzWyJub2RlIl1bInJlc291cmNlcyJdID09IHZjX2NvbmZpZw0KDQogICAgQHB5dGVzdC5tYXJrLnNraXBpZihjb25kaXRpb249bm90IGlzX2xpdmUoKSwgcmVhc29uPSJyZWNvcmRpbmcgd2lsbCBleHBvc2UgU2luZ3VsYXJpdHkgaW5mb3JtYXRpb24iKQ0KICAgIGRlZiB0ZXN0X3BpcGVsaW5lX3Npbmd1bGFyaXR5X2xpdmUoc2VsZiwgY2xpZW50OiBNTENsaWVudCwgc2luZ3VsYXJpdHlfdmMpOg0KICAgICAgICAjIGZ1bGwgbmFtZSBhbmQgc2hvcnQgbmFtZSBhcmUgc3ludGF4IHN1Z2FyLCBTREsgd2lsbCByZXNvbHZlIGl0IHRvIFNpbmd1bGFyaXR5IEFSTSBpZCBiZWZvcmUgcmVxdWVzdCwNCiAgICAgICAgIyB0aGlzIG5lZWRzIGNsaWVudCB0byBnZXQgJiBzZWFyY2ggYXZhaWxhYmxlIFZDcyAtIHRoYXQncyB3aHkgd2UgcGxhY2UgdGhpcyB0ZXN0IGluIGVuZC10by1lbmQgdGVzdCAtDQogICAgICAgICMgYW5kIGNvbXB1dGUgdmFsdWVzIGluIHJldHVybmVkIFJFU1Qgb2JqZWN0IHNob3VsZCBhbGwgYmUgQVJNIGlkLg0KICAgICAgICBjb21wb25lbnRfeWFtbCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50X3Npbmd1bGFyaXR5LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChjb21wb25lbnRfeWFtbCkNCg0KICAgICAgICAjIGdlbmVyYXRlIFNpbmd1bGFyaXR5IEFSTSBpZCwgZnVsbCBuYW1lIGFuZCBzaG9ydCBuYW1lIGZyb20gVkMNCiAgICAgICAgYXJtX2lkID0gU0lOR1VMQVJJVFlfSURfRk9STUFULmZvcm1hdCgNCiAgICAgICAgICAgIHNpbmd1bGFyaXR5X3ZjLnN1YnNjcmlwdGlvbl9pZCwgc2luZ3VsYXJpdHlfdmMucmVzb3VyY2VfZ3JvdXBfbmFtZSwgc2luZ3VsYXJpdHlfdmMubmFtZQ0KICAgICAgICApDQogICAgICAgIGZ1bGxfbmFtZSA9ICJhenVyZW1sOi8vc3Vic2NyaXB0aW9ucy97fS9yZXNvdXJjZUdyb3Vwcy97fS92aXJ0dWFsY2x1c3RlcnMve30iLmZvcm1hdCgNCiAgICAgICAgICAgIHNpbmd1bGFyaXR5X3ZjLnN1YnNjcmlwdGlvbl9pZCwgc2luZ3VsYXJpdHlfdmMucmVzb3VyY2VfZ3JvdXBfbmFtZSwgc2luZ3VsYXJpdHlfdmMubmFtZQ0KICAgICAgICApDQogICAgICAgIHNob3J0X25hbWUgPSBmImF6dXJlbWw6Ly92aXJ0dWFsY2x1c3RlcnMve3Npbmd1bGFyaXR5X3ZjLm5hbWV9Ig0KDQogICAgICAgIEBkc2wucGlwZWxpbmUNCiAgICAgICAgZGVmIHBpcGVsaW5lX2Z1bmMoKToNCiAgICAgICAgICAgIG5vZGVfd2l0aF9pZCA9IGNvbXBvbmVudF9mdW5jKCkNCiAgICAgICAgICAgIG5vZGVfd2l0aF9pZC5jb21wdXRlID0gYXJtX2lkDQogICAgICAgICAgICBub2RlX3dpdGhfZnVsbF9uYW1lID0gY29tcG9uZW50X2Z1bmMoKQ0KICAgICAgICAgICAgbm9kZV93aXRoX2Z1bGxfbmFtZS5jb21wdXRlID0gZnVsbF9uYW1lDQogICAgICAgICAgICBub2RlX3dpdGhfc2hvcnRfbmFtZSA9IGNvbXBvbmVudF9mdW5jKCkNCiAgICAgICAgICAgIG5vZGVfd2l0aF9zaG9ydF9uYW1lLmNvbXB1dGUgPSBzaG9ydF9uYW1lDQoNCiAgICAgICAgcGlwZWxpbmVfam9iID0gcGlwZWxpbmVfZnVuYygpDQogICAgICAgIGNyZWF0ZWRfcGlwZWxpbmVfam9iID0gYXNzZXJ0X2pvYl9jYW5jZWwocGlwZWxpbmVfam9iLCBjbGllbnQpDQogICAgICAgIHJlc3Rfb2JqID0gY3JlYXRlZF9waXBlbGluZV9qb2IuX3RvX3Jlc3Rfb2JqZWN0KCkNCg0KICAgICAgICBmb3Igbm9kZV9uYW1lIGluIFsibm9kZV93aXRoX2lkIiwgIm5vZGVfd2l0aF9mdWxsX25hbWUiLCAibm9kZV93aXRoX3Nob3J0X25hbWUiXToNCiAgICAgICAgICAgIG5vZGVfY29tcHV0ZSA9IHJlc3Rfb2JqLnByb3BlcnRpZXMuam9ic1tub2RlX25hbWVdWyJjb21wdXRlSWQiXQ0KICAgICAgICAgICAgYXNzZXJ0IGlzX3Npbmd1bGFyaXR5X2lkX2Zvcl9yZXNvdXJjZShub2RlX2NvbXB1dGUpDQogICAgICAgICAgICBhc3NlcnQgbm9kZV9jb21wdXRlLmVuZHN3aXRoKHNpbmd1bGFyaXR5X3ZjLm5hbWUpDQoNCiAgICBkZWYgdGVzdF9hc3NpZ25fdmFsdWVfdG9fdW5rbm93bl9maWxlZChzZWxmLCBjbGllbnQ6IE1MQ2xpZW50KToNCiAgICAgICAgcGF0aCA9ICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9jb21wb25lbnRzL2hlbGxvd29ybGRfY29tcG9uZW50LnltbCINCiAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudChzb3VyY2U9cGF0aCkNCiAgICAgICAgIyBEdWUgdG8gaXQgd2lsbCBibG9jayBjaSB3aXRoIHRoZSB0YWdzIG9mIHlhbWwgd2hlbiBnZW5lcmF0aW5nIHJlY29yZHMsIHJlbW92ZSB0aGUgdGFncyBoZXJlLg0KICAgICAgICBjb21wb25lbnRfZnVuYy50YWdzID0ge30NCg0KICAgICAgICBAZHNsLnBpcGVsaW5lKCkNCiAgICAgICAgZGVmIHBpcGVsaW5lX2Z1bmMoaW5wdXQpOg0KICAgICAgICAgICAgbm9kZSA9IGNvbXBvbmVudF9mdW5jKGNvbXBvbmVudF9pbl9wYXRoPWlucHV0KQ0KICAgICAgICAgICAgbm9kZS51bmtub3duX2ZpZWxkID0gaW5wdXQNCg0KICAgICAgICBwaXBlbGluZV9qb2I6IFBpcGVsaW5lSm9iID0gcGlwZWxpbmVfZnVuYyhpbnB1dD1JbnB1dChwYXRoPXBhdGgpKQ0KICAgICAgICBwaXBlbGluZV9qb2Iuc2V0dGluZ3MuZGVmYXVsdF9jb21wdXRlID0gImNwdS1jbHVzdGVyIg0KICAgICAgICBqb2JfcmVzID0gY2xpZW50LmpvYnMuY3JlYXRlX29yX3VwZGF0ZShqb2I9cGlwZWxpbmVfam9iLCBleHBlcmltZW50X25hbWU9InRlc3RfdW5rbm93bl9maWVsZCIpDQogICAgICAgIGFzc2VydCBqb2JfcmVzLmpvYnNbIm5vZGUiXS51bmtub3duX2ZpZWxkID09ICIke3twYXJlbnQuaW5wdXRzLmlucHV0fX0iDQoNCiAgICBkZWYgdGVzdF9mbG93X2luX2RzbF9waXBlbGluZV93aXRoX25vbl9leGlzdGVkX2RhdGFfaW5wdXQoc2VsZiwgY2xpZW50KToNCiAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9mbG93cy93ZWJfY2xhc3NpZmljYXRpb25fd2l0aF9hZGRpdGlvbmFsX2luY2x1ZGVzL2Zsb3cuZGFnLnlhbWwiDQogICAgICAgICkNCg0KICAgICAgICBkYXRhX2lucHV0ID0gSW5wdXQocGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZmxvd3MvZGF0YS93ZWJfY2xhc3NpZmljYXRpb24uanNvbmwiLCB0eXBlPUFzc2V0VHlwZXMuVVJJX0ZJTEUpDQoNCiAgICAgICAgQGRzbC5waXBlbGluZQ0KICAgICAgICBkZWYgcGlwZWxpbmVfZnVuY193aXRoX2Zsb3dfZmFpbChkYXRhKToNCiAgICAgICAgICAgICMgd2UgY2FuJ3QgZGV0ZWN0IG1pc21hdGNoZWQgZGF0YSBiaW5kaW5nIGlucHV0cyBhcyB0aGV5IHdpbGwgYmUgcmVzb2x2ZWQgaW4gc2VydmVyLXNpZGUNCiAgICAgICAgICAgIGZsb3dfbm9kZSA9IGNvbXBvbmVudF9mdW5jKGRhdGE9ZGF0YSwgbm9uX2V4aXN0ZWRfZGF0YV9pbnB1dD1kYXRhX2lucHV0KQ0KICAgICAgICAgICAgZmxvd19ub2RlLmNvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQoNCiAgICAgICAgaW52YWxpZF9waXBlbGluZSA9IHBpcGVsaW5lX2Z1bmNfd2l0aF9mbG93X2ZhaWwoZGF0YT1kYXRhX2lucHV0KQ0KICAgICAgICB2YWxpZGF0aW9uX3Jlc3VsdCA9IGNsaWVudC5qb2JzLnZhbGlkYXRlKGludmFsaWRfcGlwZWxpbmUpDQogICAgICAgICMgVE9ETzogaW5wdXQgdHlwZSBtaXNtYXRjaCB3b24ndCBiZSBjaGVja2VkIGZvciBub3cNCiAgICAgICAgYXNzZXJ0IHZhbGlkYXRpb25fcmVzdWx0LnBhc3NlZA0KDQogICAgZGVmIHRlc3RfZmxvd19pbl9kc2xfcGlwZWxpbmUoc2VsZiwgY2xpZW50KToNCiAgICAgICAgY29tcG9uZW50X2Z1bmMgPSBsb2FkX2NvbXBvbmVudCgNCiAgICAgICAgICAgICIuL3Rlc3RzL3Rlc3RfY29uZmlncy9mbG93cy93ZWJfY2xhc3NpZmljYXRpb25fd2l0aF9hZGRpdGlvbmFsX2luY2x1ZGVzL2Zsb3cuZGFnLnlhbWwiDQogICAgICAgICkNCg0KICAgICAgICBkYXRhX2lucHV0ID0gSW5wdXQocGF0aD0iLi90ZXN0cy90ZXN0X2NvbmZpZ3MvZmxvd3MvZGF0YS93ZWJfY2xhc3NpZmljYXRpb24uanNvbmwiLCB0eXBlPUFzc2V0VHlwZXMuVVJJX0ZJTEUpDQoNCiAgICAgICAgQGdyb3VwDQogICAgICAgIGNsYXNzIENvbm5lY3Rpb246DQogICAgICAgICAgICBjb25uZWN0aW9uOiBzdHINCiAgICAgICAgICAgIGRlcGxveW1lbnRfbmFtZTogc3RyDQoNCiAgICAgICAgQGRzbC5waXBlbGluZQ0KICAgICAgICBkZWYgcGlwZWxpbmVfZnVuY193aXRoX2Zsb3coZGF0YSk6DQogICAgICAgICAgICBmbG93X25vZGUgPSBjb21wb25lbnRfZnVuYygNCiAgICAgICAgICAgICAgICBkYXRhPWRhdGEsDQogICAgICAgICAgICAgICAgdXJsPSIke2RhdGEudXJsfSIsDQogICAgICAgICAgICAgICAgY29ubmVjdGlvbnM9ew0KICAgICAgICAgICAgICAgICAgICAic3VtbWFyaXplX3RleHRfY29udGVudCI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICJjb25uZWN0aW9uIjogImF6dXJlX29wZW5fYWlfY29ubmVjdGlvbiIsDQogICAgICAgICAgICAgICAgICAgICAgICAiZGVwbG95bWVudF9uYW1lIjogInRleHQtZGF2aW5jaS0wMDMiLA0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAiY2xhc3NpZnlfd2l0aF9sbG0iOiBDb25uZWN0aW9uKA0KICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbj0iYXp1cmVfb3Blbl9haV9jb25uZWN0aW9uIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfbmFtZT0ibGxtLWRhdmluY2ktMDAzIiwNCiAgICAgICAgICAgICAgICAgICAgKSwNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgKQ0KICAgICAgICAgICAgZmxvd19ub2RlLmNvbXB1dGUgPSAiY3B1LWNsdXN0ZXIiDQoNCiAgICAgICAgcGlwZWxpbmVfd2l0aF9mbG93ID0gcGlwZWxpbmVfZnVuY193aXRoX2Zsb3coZGF0YT1kYXRhX2lucHV0KQ0KDQogICAgICAgIHZhbGlkYXRpb25fcmVzdWx0ID0gY2xpZW50LmpvYnMudmFsaWRhdGUocGlwZWxpbmVfd2l0aF9mbG93KQ0KDQogICAgICAgIGFzc2VydCB2YWxpZGF0aW9uX3Jlc3VsdC5wYXNzZWQNCg0KICAgICAgICBjcmVhdGVkX3BpcGVsaW5lX2pvYiA9IGFzc2VydF9qb2JfY2FuY2VsKHBpcGVsaW5lX3dpdGhfZmxvdywgY2xpZW50KQ0KDQogICAgICAgIG5vZGVfZGljdCA9IGNyZWF0ZWRfcGlwZWxpbmVfam9iLl90b19kaWN0KClbImpvYnMiXVsiZmxvd19ub2RlIl0NCiAgICAgICAgbm9kZV9kaWN0LnBvcCgiY29tcG9uZW50IikNCiAgICAgICAgYXNzZXJ0IG5vZGVfZGljdCA9PSB7DQogICAgICAgICAgICAiY29tcHV0ZSI6ICJhenVyZW1sOmNwdS1jbHVzdGVyIiwNCiAgICAgICAgICAgICJpbnB1dHMiOiB7DQogICAgICAgICAgICAgICAgImNvbm5lY3Rpb25zLmNsYXNzaWZ5X3dpdGhfbGxtLmNvbm5lY3Rpb24iOiAiYXp1cmVfb3Blbl9haV9jb25uZWN0aW9uIiwNCiAgICAgICAgICAgICAgICAiY29ubmVjdGlvbnMuY2xhc3NpZnlfd2l0aF9sbG0uZGVwbG95bWVudF9uYW1lIjogImxsbS1kYXZpbmNpLTAwMyIsDQogICAgICAgICAgICAgICAgImNvbm5lY3Rpb25zLnN1bW1hcml6ZV90ZXh0X2NvbnRlbnQuY29ubmVjdGlvbiI6ICJhenVyZV9vcGVuX2FpX2Nvbm5lY3Rpb24iLA0KICAgICAgICAgICAgICAgICJjb25uZWN0aW9ucy5zdW1tYXJpemVfdGV4dF9jb250ZW50LmRlcGxveW1lbnRfbmFtZSI6ICJ0ZXh0LWRhdmluY2ktMDAzIiwNCiAgICAgICAgICAgICAgICAiZGF0YSI6IHsicGF0aCI6ICIke3twYXJlbnQuaW5wdXRzLmRhdGF9fSJ9LA0KICAgICAgICAgICAgICAgICJ1cmwiOiAiJHtkYXRhLnVybH0iLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICJ0eXBlIjogInBhcmFsbGVsIiwNCiAgICAgICAgfQ0K",
      "StatusCode": 201,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Content-MD5": "h+m2S3osc23Kzhh2XOO+8A==",
        "Date": "Tue, 18 Mar 2025 11:30:21 GMT",
        "ETag": "\"0x8DD661044D3EF75\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:21 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-content-crc64": "1/ECmgx1RtY=",
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.blob.core.windows.net/azureml-blobstore-4830284c-8448-41aa-bcdd-55399c88f511/LocalUpload/00000000000000000000000000000000/e2etests/__init__.py?comp=metadata&sv=Sanitized&sig=000000000000000000000000000000000000&se=Sanitized&srt=co&ss=bf&sp=rcuwdl",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/xml",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azsdk-python-storage-blob/12.19.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)",
        "x-ms-date": "Tue, 18 Mar 2025 11:30:21 GMT",
        "x-ms-meta-name": "704a24c9-4e1f-46f9-a37b-fef2e1d65082",
        "x-ms-meta-upload_status": "completed",
        "x-ms-meta-version": "a3d3a5be-199c-4c66-a1a3-5b893d3aa560",
        "x-ms-version": "2023-11-03"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Content-Length": "0",
        "Date": "Tue, 18 Mar 2025 11:30:21 GMT",
        "ETag": "\"0x8DD661044FAFAB0\"",
        "Last-Modified": "Tue, 18 Mar 2025 11:30:21 GMT",
        "Server": [
          "Windows-Azure-Blob/1.0",
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-request-server-encrypted": "true",
        "x-ms-version": "2023-11-03"
      },
      "ResponseBody": null
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/elated_yam_jplp83cys8?api-version=2024-01-01-preview",
      "RequestMethod": "PUT",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "3487",
        "Content-Type": "application/json",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": {
        "properties": {
          "properties": {},
          "tags": {},
          "displayName": "pipeline_with_do_while",
          "experimentName": "azure-ai-ml",
          "isArchived": false,
          "jobType": "Pipeline",
          "inputs": {
            "component_in_number": {
              "jobInputType": "literal",
              "value": "2"
            },
            "component_in_path": {
              "uri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/00000000000000000000000000000000/e2etests/",
              "jobInputType": "uri_folder"
            }
          },
          "jobs": {
            "do_while_body_pipeline": {
              "name": "do_while_body_pipeline",
              "type": "pipeline",
              "inputs": {
                "component_in_number": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_number_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_path": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_path}}"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/f92a97e1-c591-41df-ae63-1dac467c7e28"
            },
            "do_while_with_pipeline": {
              "body": "${{parent.jobs.do_while_body_pipeline}}",
              "type": "do_while",
              "condition": "is_number_larger_than_zero",
              "mapping": {
                "${{parent.jobs.do_while_body_pipeline.outputs.output_in_number}}": [
                  "component_in_number",
                  "component_in_number_1"
                ],
                "output_in_path": [
                  "component_in_path"
                ]
              },
              "limits": {
                "max_iteration_count": 5
              },
              "_source": "DSL"
            },
            "command_component": {
              "name": "command_component",
              "type": "command",
              "inputs": {
                "component_in_number": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_number_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_path": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_path}}"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5ae7a3cd-3f9c-40df-a161-bc7386219639"
            },
            "do_while_with_command_component": {
              "body": "${{parent.jobs.command_component}}",
              "type": "do_while",
              "condition": "is_number_larger_than_zero",
              "mapping": {
                "output_in_number": [
                  "component_in_number",
                  "component_in_number_1"
                ],
                "output_in_path": [
                  "component_in_path"
                ]
              },
              "limits": {
                "max_iteration_count": 5
              },
              "_source": "DSL"
            },
            "basic_component": {
              "name": "basic_component",
              "type": "pipeline",
              "inputs": {
                "component_in_number": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.do_while_body_pipeline.outputs.output_in_number}}"
                },
                "component_in_number_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.command_component.outputs.output_in_number}}"
                },
                "component_in_path": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.do_while_body_pipeline.outputs.output_in_path}}"
                }
              },
              "outputs": {
                "output_in_path": {
                  "value": "${{parent.outputs.output_in_path}}",
                  "type": "literal"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/f92a97e1-c591-41df-ae63-1dac467c7e28"
            }
          },
          "outputs": {
            "output_in_path": {
              "jobOutputType": "uri_folder"
            }
          },
          "settings": {
            "default_compute": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/cpu-cluster",
            "_source": "DSL"
          }
        }
      },
      "StatusCode": 201,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "4674",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:23 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/elated_yam_jplp83cys8?api-version=2024-01-01-preview",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "2a144353-c4fe-47d8-8afd-e94e876909ff",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113023Z:2a144353-c4fe-47d8-8afd-e94e876909ff",
        "X-MSEdge-Ref": "Ref A: 68AC84C6308448C3BC51B22A67B7EF15 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:22Z",
        "x-request-time": "0.359"
      },
      "ResponseBody": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/elated_yam_jplp83cys8",
        "name": "elated_yam_jplp83cys8",
        "type": "Microsoft.MachineLearningServices/workspaces/jobs",
        "properties": {
          "description": null,
          "tags": {},
          "properties": {},
          "displayName": "pipeline_with_do_while",
          "status": "NotStarted",
          "experimentName": "azure-ai-ml",
          "services": {
            "Tracking": {
              "jobServiceType": "Tracking",
              "port": null,
              "endpoint": "azureml://westus.api.azureml.ms/mlflow/v1.0/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000?",
              "status": null,
              "errorMessage": null,
              "properties": null,
              "nodes": null
            },
            "Studio": {
              "jobServiceType": "Studio",
              "port": null,
              "endpoint": "https://ml.azure.com/runs/elated_yam_jplp83cys8?wsid=/subscriptions/00000000-0000-0000-0000-000000000/resourcegroups/00000/workspaces/00000",
              "status": null,
              "errorMessage": null,
              "properties": null,
              "nodes": null
            }
          },
          "computeId": null,
          "isArchived": false,
          "identity": null,
          "componentId": null,
          "notificationSetting": null,
          "secretsConfiguration": null,
          "jobType": "Pipeline",
          "settings": {
            "default_compute": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/computes/cpu-cluster",
            "_source": "DSL"
          },
          "jobs": {
            "do_while_body_pipeline": {
              "name": "do_while_body_pipeline",
              "type": "pipeline",
              "inputs": {
                "component_in_number": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_number_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_path": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_path}}"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/f92a97e1-c591-41df-ae63-1dac467c7e28"
            },
            "do_while_with_pipeline": {
              "body": "${{parent.jobs.do_while_body_pipeline}}",
              "type": "do_while",
              "condition": "is_number_larger_than_zero",
              "mapping": {
                "${{parent.jobs.do_while_body_pipeline.outputs.output_in_number}}": [
                  "component_in_number",
                  "component_in_number_1"
                ],
                "output_in_path": [
                  "component_in_path"
                ]
              },
              "limits": {
                "max_iteration_count": 5
              },
              "_source": "DSL"
            },
            "command_component": {
              "name": "command_component",
              "type": "command",
              "inputs": {
                "component_in_number": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_number_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_number}}"
                },
                "component_in_path": {
                  "job_input_type": "literal",
                  "value": "${{parent.inputs.component_in_path}}"
                }
              },
              "_source": "YAML.COMPONENT",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/5ae7a3cd-3f9c-40df-a161-bc7386219639"
            },
            "do_while_with_command_component": {
              "body": "${{parent.jobs.command_component}}",
              "type": "do_while",
              "condition": "is_number_larger_than_zero",
              "mapping": {
                "output_in_number": [
                  "component_in_number",
                  "component_in_number_1"
                ],
                "output_in_path": [
                  "component_in_path"
                ]
              },
              "limits": {
                "max_iteration_count": 5
              },
              "_source": "DSL"
            },
            "basic_component": {
              "name": "basic_component",
              "type": "pipeline",
              "inputs": {
                "component_in_number": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.do_while_body_pipeline.outputs.output_in_number}}"
                },
                "component_in_number_1": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.command_component.outputs.output_in_number}}"
                },
                "component_in_path": {
                  "job_input_type": "literal",
                  "value": "${{parent.jobs.do_while_body_pipeline.outputs.output_in_path}}"
                }
              },
              "outputs": {
                "output_in_path": {
                  "value": "${{parent.outputs.output_in_path}}",
                  "type": "literal"
                }
              },
              "_source": "DSL",
              "componentId": "/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/components/azureml_anonymous/versions/f92a97e1-c591-41df-ae63-1dac467c7e28"
            }
          },
          "inputs": {
            "component_in_number": {
              "description": null,
              "jobInputType": "literal",
              "value": "2"
            },
            "component_in_path": {
              "description": null,
              "uri": "azureml://datastores/workspaceblobstore/paths/LocalUpload/00000000000000000000000000000000/e2etests/",
              "mode": "ReadOnlyMount",
              "pathOnCompute": null,
              "jobInputType": "uri_folder"
            }
          },
          "outputs": {
            "output_in_path": {
              "description": null,
              "uri": null,
              "assetName": null,
              "assetVersion": null,
              "mode": "ReadWriteMount",
              "pathOnCompute": null,
              "autoDeleteSetting": null,
              "jobOutputType": "uri_folder"
            }
          },
          "sourceJobId": null
        },
        "systemData": {
          "createdAt": "2025-03-18T11:30:23.4897728+00:00",
          "createdBy": "Sanitized",
          "createdByType": "User"
        }
      }
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/resourceGroups/00000/providers/Microsoft.MachineLearningServices/workspaces/00000/jobs/elated_yam_jplp83cys8/cancel?api-version=2023-04-01-preview",
      "RequestMethod": "POST",
      "RequestHeaders": {
        "Accept": "application/json",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "Content-Length": "0",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 202,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "4",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:28 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942289487110&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=kpgwKs2bgMSVMY5LGnrtgqFaaPJ_wJLAsB-wL36LtJwY6sAEDcSzt-kSPIliNJapY0tlCQuEexewoEU-7sCCvx6-7RK9Lvt2JXsqaMFLSKgC9TPWE6E34B9GKedhIEUI88AsKP57dl6UvDQ8r6WCxiI0VNspw0A7Wwp33ZAYicsc1t_gJDh1jFuvegzToNzD2vKLe7KwpEi7biqhZs9f626sH5SAdgn73B4XzmJSEJuTYAbhJmAgbcQjJloXOIoUoVzdcfWHw-wDeQ_LFxBOBAJGu5cgb8jiF4ZXFsFUHw6owskCV-fnuZD8e1-xRoCB5-Nr_cpTGMsjIMemr25JUA&h=d9BmvIFOn3iakEKvIRyKtUhntCT_jpBS-6JQpQ9CieA",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-async-operation-timeout": "PT1H",
        "x-ms-correlation-request-id": "9e682164-e59f-4eff-b899-81b96c5bbfc3",
        "x-ms-ratelimit-remaining-subscription-global-writes": "11999",
        "x-ms-ratelimit-remaining-subscription-writes": "799",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113028Z:9e682164-e59f-4eff-b899-81b96c5bbfc3",
        "X-MSEdge-Ref": "Ref A: A970F8565FAF43048A1BEED0C08D0464 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:27Z",
        "x-request-time": "0.704"
      },
      "ResponseBody": "null"
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942289487110&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=kpgwKs2bgMSVMY5LGnrtgqFaaPJ_wJLAsB-wL36LtJwY6sAEDcSzt-kSPIliNJapY0tlCQuEexewoEU-7sCCvx6-7RK9Lvt2JXsqaMFLSKgC9TPWE6E34B9GKedhIEUI88AsKP57dl6UvDQ8r6WCxiI0VNspw0A7Wwp33ZAYicsc1t_gJDh1jFuvegzToNzD2vKLe7KwpEi7biqhZs9f626sH5SAdgn73B4XzmJSEJuTYAbhJmAgbcQjJloXOIoUoVzdcfWHw-wDeQ_LFxBOBAJGu5cgb8jiF4ZXFsFUHw6owskCV-fnuZD8e1-xRoCB5-Nr_cpTGMsjIMemr25JUA&h=d9BmvIFOn3iakEKvIRyKtUhntCT_jpBS-6JQpQ9CieA",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 202,
      "ResponseHeaders": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942299329157&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=F9zN1_jYrhcFR6cDF-mVvF4uwbD6eZGg5iBahub9ALJXIjucN7rQb7d21mlIQ-rOuOXtpz8eDyGGu_XJnJOTViPc2AHet1toeSHV6EaS16FY5PAALL06pFjgl7JtR68NAIjDIq6cxG-80w_DmNndpnh2BUyjnVAnbj_PuXXHJI4xF2jrRDP39K-O3iUbeCWdUTYct5m731zy8-SnAcFBg4OcIVswWpzcdt7JUqgXwcDJUAnD9XG70kn0tSKy2YHLWZOCfmHQPmKeTz_vZ4EYjLSZvRoPu1JaGNabiDRmJeSu8BGpSnAKjFVq3V9O5avLOvH1HW8L-MnhBXVngW919Q&h=kcdaIOVXCek0hFDM8aTj_ySorChEh8exAQBbvRtgtFA",
        "Cache-Control": "no-cache",
        "Content-Length": "2",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:30:29 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942299329157&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=F9zN1_jYrhcFR6cDF-mVvF4uwbD6eZGg5iBahub9ALJXIjucN7rQb7d21mlIQ-rOuOXtpz8eDyGGu_XJnJOTViPc2AHet1toeSHV6EaS16FY5PAALL06pFjgl7JtR68NAIjDIq6cxG-80w_DmNndpnh2BUyjnVAnbj_PuXXHJI4xF2jrRDP39K-O3iUbeCWdUTYct5m731zy8-SnAcFBg4OcIVswWpzcdt7JUqgXwcDJUAnD9XG70kn0tSKy2YHLWZOCfmHQPmKeTz_vZ4EYjLSZvRoPu1JaGNabiDRmJeSu8BGpSnAKjFVq3V9O5avLOvH1HW8L-MnhBXVngW919Q&h=kcdaIOVXCek0hFDM8aTj_ySorChEh8exAQBbvRtgtFA",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "d5ce96a2-9553-4508-8101-0c8c9ea72206",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113029Z:d5ce96a2-9553-4508-8101-0c8c9ea72206",
        "X-MSEdge-Ref": "Ref A: C943813E0D5F45B7BF6B0A5C6C790270 Ref B: MAA201060516023 Ref C: 2025-03-18T11:30:29Z",
        "x-request-time": "0.047"
      },
      "ResponseBody": {}
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942299329157&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=F9zN1_jYrhcFR6cDF-mVvF4uwbD6eZGg5iBahub9ALJXIjucN7rQb7d21mlIQ-rOuOXtpz8eDyGGu_XJnJOTViPc2AHet1toeSHV6EaS16FY5PAALL06pFjgl7JtR68NAIjDIq6cxG-80w_DmNndpnh2BUyjnVAnbj_PuXXHJI4xF2jrRDP39K-O3iUbeCWdUTYct5m731zy8-SnAcFBg4OcIVswWpzcdt7JUqgXwcDJUAnD9XG70kn0tSKy2YHLWZOCfmHQPmKeTz_vZ4EYjLSZvRoPu1JaGNabiDRmJeSu8BGpSnAKjFVq3V9O5avLOvH1HW8L-MnhBXVngW919Q&h=kcdaIOVXCek0hFDM8aTj_ySorChEh8exAQBbvRtgtFA",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 202,
      "ResponseHeaders": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942607844483&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=DzBvcFeRvyFEF20jEc6ADU944nyG5e9sylhXucQivAQESc1-XCFVh9bP41FGa9Ci9NhzyITSLR_JKVD1rhXBZcMLsPaL4uI1pqhaMW6NH1HRZfmWCOWGfWPu3Onm7M_Slss8U0_8KIp8-cgffIQmQ38t3gSN9jXDg1UAv62sY5c91yn7Cd8wOHyby-66ZeGImnup0ABr7K6C6T-LBt0OLTHYOuJ5iUCke9uglFWiCyiSFdpCiTqTf4Gb_jRJdMSqsXZcFMuuaxojwYxoOc2EiL_J_beLEQYOiLAdAmz3DGK1j3kcpFyk8UxyfqwfQkh58CWm_6u96ga3CR_tl9eEKA&h=tE9RLt55WKyujoqKdisH5olxoMysFUdXn09paO4KN7E",
        "Cache-Control": "no-cache",
        "Content-Length": "2",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:31:00 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942607844483&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=DzBvcFeRvyFEF20jEc6ADU944nyG5e9sylhXucQivAQESc1-XCFVh9bP41FGa9Ci9NhzyITSLR_JKVD1rhXBZcMLsPaL4uI1pqhaMW6NH1HRZfmWCOWGfWPu3Onm7M_Slss8U0_8KIp8-cgffIQmQ38t3gSN9jXDg1UAv62sY5c91yn7Cd8wOHyby-66ZeGImnup0ABr7K6C6T-LBt0OLTHYOuJ5iUCke9uglFWiCyiSFdpCiTqTf4Gb_jRJdMSqsXZcFMuuaxojwYxoOc2EiL_J_beLEQYOiLAdAmz3DGK1j3kcpFyk8UxyfqwfQkh58CWm_6u96ga3CR_tl9eEKA&h=tE9RLt55WKyujoqKdisH5olxoMysFUdXn09paO4KN7E",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "ad42a627-4668-48db-a961-10193a7c7aab",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113100Z:ad42a627-4668-48db-a961-10193a7c7aab",
        "X-MSEdge-Ref": "Ref A: 3880E7DAB7884022B27FECB357C6B18B Ref B: MAA201060516023 Ref C: 2025-03-18T11:31:00Z",
        "x-request-time": "0.035"
      },
      "ResponseBody": {}
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942607844483&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=DzBvcFeRvyFEF20jEc6ADU944nyG5e9sylhXucQivAQESc1-XCFVh9bP41FGa9Ci9NhzyITSLR_JKVD1rhXBZcMLsPaL4uI1pqhaMW6NH1HRZfmWCOWGfWPu3Onm7M_Slss8U0_8KIp8-cgffIQmQ38t3gSN9jXDg1UAv62sY5c91yn7Cd8wOHyby-66ZeGImnup0ABr7K6C6T-LBt0OLTHYOuJ5iUCke9uglFWiCyiSFdpCiTqTf4Gb_jRJdMSqsXZcFMuuaxojwYxoOc2EiL_J_beLEQYOiLAdAmz3DGK1j3kcpFyk8UxyfqwfQkh58CWm_6u96ga3CR_tl9eEKA&h=tE9RLt55WKyujoqKdisH5olxoMysFUdXn09paO4KN7E",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 202,
      "ResponseHeaders": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942916139246&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=l0dM_0uKoJ3pTGW0yLHwsDZIXSlcDd2HbEbrYL8-Njg1CNWKGVVJ-tXRKjShTtwFors8CN6dnXZ1te9nXX9Y1tCzAAMmlNrw6Q5-DtV6F4f-KUDCNmeY82iW06lFdjFM61yC9_ptumS6Xmuc1CATHotn-3Y7if2-Sq3KwnPVmXaIULzzWOuPYkQthPgSHlK-JRM4-upKT3NGiG7P9JVrKY6DGlkoAQ0MyuzSEr6L4D4_ILlkVCJ-oFXS7JP3Elq45As9Zb_mfJWwHtNiK_yABJg8F3fevPAZNAf0rfyrc0kdFnPe59SFb94oeQBsLCIQpM7rLfdqusxF09otS7_EFQ&h=9oLjuAn7ZL4huT1dLp1YOXBZ5w2SGuZ9EGtuK-08o2I",
        "Cache-Control": "no-cache",
        "Content-Length": "2",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:31:31 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942916295748&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=sfNWrNfm3JXUym-jFLhGw-KrWqStVnR8MH-JBD0weL0p8Wv89qMa-aLwvkQ--tegxZaUu-rFsnAwEfrcCErzkuXnskwbFMZ2UtM2jrMPiyR-wJNTt212FIxBbWl82_sTAP8dZqhB6QMuAvyNaraVb8xE-NP0zJaxRFAvJp29gbXEz8CensK2LA8ozniYKr3BwaBlvmliY3-wfzh1wR2eAdoiOwWEaXVZb25bJiWb8opNCJOj3XbtLReKDH8TcrnSXErtPDdYVRPsD7vUEH03hSJ2PWh4b18cjU8VnHe9yW8zFXO2jae-FuxE1bA5zZlk-C1sIm-Lmv-2t2rAWO1_gA&h=H2FY_8pAR5JPb9LY_9SiJqgbp3n-s3ZWXlM3ujZ0DFY",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "b8dfb655-b1c6-4543-92ee-c558342ecd1d",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113131Z:b8dfb655-b1c6-4543-92ee-c558342ecd1d",
        "X-MSEdge-Ref": "Ref A: 12C77A787ED341DFA888BF38259F6A5B Ref B: MAA201060516023 Ref C: 2025-03-18T11:31:30Z",
        "x-request-time": "0.046"
      },
      "ResponseBody": {}
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778942916295748&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=sfNWrNfm3JXUym-jFLhGw-KrWqStVnR8MH-JBD0weL0p8Wv89qMa-aLwvkQ--tegxZaUu-rFsnAwEfrcCErzkuXnskwbFMZ2UtM2jrMPiyR-wJNTt212FIxBbWl82_sTAP8dZqhB6QMuAvyNaraVb8xE-NP0zJaxRFAvJp29gbXEz8CensK2LA8ozniYKr3BwaBlvmliY3-wfzh1wR2eAdoiOwWEaXVZb25bJiWb8opNCJOj3XbtLReKDH8TcrnSXErtPDdYVRPsD7vUEH03hSJ2PWh4b18cjU8VnHe9yW8zFXO2jae-FuxE1bA5zZlk-C1sIm-Lmv-2t2rAWO1_gA&h=H2FY_8pAR5JPb9LY_9SiJqgbp3n-s3ZWXlM3ujZ0DFY",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 202,
      "ResponseHeaders": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778943224379295&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=qgJaXYlPUmAfimbVjVIiARcB0mu-gjH2zc89WB12UWRtINAg_zQh2uLI3t07lva7aJRJwCf4yghxiFg4qxgHNAnL68pA6i6HrZ5j_YmjOpX_JV7esqbOT5f0mQzf5wWen8sn63rlIIgYomsePNZyS572wGl5VoKN0nMq_6qDZ95NtLV7P3bU4i1Sx1EFYCQaWtZ3P0LkcyiwtqBLu7teoAL9T2kQo0QFAHvdy9nri3rwZp-dyBPafXLxw_5L7BfhWLOhqcCc8SXvcnopV9OKzmhdIKaTGiGRKa9yLsQbyUN8OGCm7wkZGdIJQV-zmxrRqcTIJm35NMmoP_hj4MAXwg&h=PEkl0nuqRChjYY0F49EHXVsuZxHbdJ5EQBkWVEpWRR4",
        "Cache-Control": "no-cache",
        "Content-Length": "2",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:32:02 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778943224379295&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=qgJaXYlPUmAfimbVjVIiARcB0mu-gjH2zc89WB12UWRtINAg_zQh2uLI3t07lva7aJRJwCf4yghxiFg4qxgHNAnL68pA6i6HrZ5j_YmjOpX_JV7esqbOT5f0mQzf5wWen8sn63rlIIgYomsePNZyS572wGl5VoKN0nMq_6qDZ95NtLV7P3bU4i1Sx1EFYCQaWtZ3P0LkcyiwtqBLu7teoAL9T2kQo0QFAHvdy9nri3rwZp-dyBPafXLxw_5L7BfhWLOhqcCc8SXvcnopV9OKzmhdIKaTGiGRKa9yLsQbyUN8OGCm7wkZGdIJQV-zmxrRqcTIJm35NMmoP_hj4MAXwg&h=PEkl0nuqRChjYY0F49EHXVsuZxHbdJ5EQBkWVEpWRR4",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-01",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "383f8500-b055-4f2c-801d-9cc7c1cc23a9",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113202Z:383f8500-b055-4f2c-801d-9cc7c1cc23a9",
        "X-MSEdge-Ref": "Ref A: 97B607DD9CFD4835804D96D05020E697 Ref B: MAA201060516023 Ref C: 2025-03-18T11:32:01Z",
        "x-request-time": "0.034"
      },
      "ResponseBody": {}
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778943224379295&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=qgJaXYlPUmAfimbVjVIiARcB0mu-gjH2zc89WB12UWRtINAg_zQh2uLI3t07lva7aJRJwCf4yghxiFg4qxgHNAnL68pA6i6HrZ5j_YmjOpX_JV7esqbOT5f0mQzf5wWen8sn63rlIIgYomsePNZyS572wGl5VoKN0nMq_6qDZ95NtLV7P3bU4i1Sx1EFYCQaWtZ3P0LkcyiwtqBLu7teoAL9T2kQo0QFAHvdy9nri3rwZp-dyBPafXLxw_5L7BfhWLOhqcCc8SXvcnopV9OKzmhdIKaTGiGRKa9yLsQbyUN8OGCm7wkZGdIJQV-zmxrRqcTIJm35NMmoP_hj4MAXwg&h=PEkl0nuqRChjYY0F49EHXVsuZxHbdJ5EQBkWVEpWRR4",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 202,
      "ResponseHeaders": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778943532607819&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=KlLsr13QsR1hKprhSBiAmKg4h2bpdlGyeqbhnwC9mfmLFZS4tN9X4H-eLJtP4aJsOuki8E7a336OdExFd18wA5vQRNSvoBzAmFlEwH1PNxYR3nxyArnrhgstDaRfhgCDEtE6eeqIWgvEwQVcmz0XXp_d_xisOl6IhqZV08NoLAvEimOQowWIBnZa3noPUiPUeMCzu5wGV1EWyM0mKUiOEY-A8rqWahiEgCMUdk_7ZjGH9KuYvtUSS_v4PeJjsFtsrnp7ueSdL7wy-K4vv14qymWcc7rkOSL9Y9_U_s3_7W_yuF8YmCyhPm72075HoTL7z70U9j3JFBOpSyI8Ha7RKw&h=c8_9WlV4aRkYkw8mnEj69PV2R_d_ErRqMuvP111UJWI",
        "Cache-Control": "no-cache",
        "Content-Length": "2",
        "Content-Type": "application/json; charset=utf-8",
        "Date": "Tue, 18 Mar 2025 11:32:33 GMT",
        "Expires": "-1",
        "Location": "https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778943532763796&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=YDozAmq60FA57tzFGXywqQMgIsQXmP8HiPTm0VXcltOVI_JklT1hrKsnApvE6iz30ys97cRENuK8gmUdl9k0zZ29eQVv0Vr4-kCEswKGWAemX3YBoJSdwmgq1RD1O6jxai7GpnqLosG6i2d8Wz1-M7-M8kNwS4txPGNueB_MauChObtqrYDNYyrJaW5mWdNyFEbZ4HYUl_34ktjKyNNaKk_RSRTxIKRKs9k3zpvryyzLGgg-ADwqSn5sasx3NtKe6FkUgwclEx6fC3QXg1MN7IWhBLqo8qqhJLIENu7vTfSWcodh55AoWzgDobWrLG4joLOYbPwmv61HtP2pEPiSrw&h=Cr7uRxq7WkbBXwWqf_5Aa5FkS1kkEkZO18pDFmdxTcw",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "56f83ba6-e446-4215-afa0-f852a49cb758",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113233Z:56f83ba6-e446-4215-afa0-f852a49cb758",
        "X-MSEdge-Ref": "Ref A: 2F86E4AB6F9944B4AC05093AD6E1D08C Ref B: MAA201060516023 Ref C: 2025-03-18T11:32:32Z",
        "x-request-time": "0.036"
      },
      "ResponseBody": {}
    },
    {
      "RequestUri": "https://Sanitized.azure.com/subscriptions/00000000-0000-0000-0000-000000000/providers/Microsoft.MachineLearningServices/locations/westus/mfeOperationResults/jc:4830284c-8448-41aa-bcdd-55399c88f511:elated_yam_jplp83cys8?api-version=2023-04-01-preview&t=638778943532763796&c=MIIHpTCCBo2gAwIBAgITfwTYxBKzZMhYMh8gpgAEBNjEEjANBgkqhkiG9w0BAQsFADBEMRMwEQYKCZImiZPyLGQBGRYDR0JMMRMwEQYKCZImiZPyLGQBGRYDQU1FMRgwFgYDVQQDEw9BTUUgSW5mcmEgQ0EgMDIwHhcNMjUwMTIzMjEyMjI0WhcNMjUwNzIyMjEyMjI0WjBAMT4wPAYDVQQDEzVhc3luY29wZXJhdGlvbnNpZ25pbmdjZXJ0aWZpY2F0ZS5tYW5hZ2VtZW50LmF6dXJlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMrrszb3bc9Q1RUgoqqflSt3305JG-JAerAKaHI2ZPPmF47CFxNAOU8gQ1SC9-Z2cbgmGU-arGQ5vZbVO0uejbPtMmt10RPMHuIWQkH_oK8V4gN4tCUldex2vnRpGPtfsfy1OVTMSjzA9wE-oRmtDI1pokTRWQdVHmVJl4Z7WZC9-cWHJiPBthd-BXVSIAmZCA0SoTDokhXuiLmJgWhkCVqfcAtzhifnPZDXu9sGNR39yBuveQ_fYNJGUC9pP6-U426aEVoApoLpLoXz4iSn3DDPQKcsq7rKQnXde1_jx-IJOiTMo1pQgj5KHmM94XIlUNiEc8h6bqwDw0BJxgMhoq0CAwEAAaOCBJIwggSOMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwEwCgYIKwYBBQUHAwIwPQYJKwYBBAGCNxUHBDAwLgYmKwYBBAGCNxUIhpDjDYTVtHiE8Ys-hZvdFs6dEoFghfmRS4WsmTQCAWQCAQcwggHaBggrBgEFBQcBAQSCAcwwggHIMGYGCCsGAQUFBzAChlpodHRwOi8vY3JsLm1pY3Jvc29mdC5jb20vcGtpaW5mcmEvQ2VydHMvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmwxLmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MFYGCCsGAQUFBzAChkpodHRwOi8vY3JsMi5hbWUuZ2JsL2FpYS9CTDJQS0lJTlRDQTAxLkFNRS5HQkxfQU1FJTIwSW5mcmElMjBDQSUyMDAyKDQpLmNydDBWBggrBgEFBQcwAoZKaHR0cDovL2NybDMuYW1lLmdibC9haWEvQkwyUEtJSU5UQ0EwMS5BTUUuR0JMX0FNRSUyMEluZnJhJTIwQ0ElMjAwMig0KS5jcnQwVgYIKwYBBQUHMAKGSmh0dHA6Ly9jcmw0LmFtZS5nYmwvYWlhL0JMMlBLSUlOVENBMDEuQU1FLkdCTF9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3J0MB0GA1UdDgQWBBTuuvoUWDWVTrCAILP0aOKOwV9QqjAOBgNVHQ8BAf8EBAMCBaAwggE1BgNVHR8EggEsMIIBKDCCASSgggEgoIIBHIZCaHR0cDovL2NybC5taWNyb3NvZnQuY29tL3BraWluZnJhL0NSTC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMS5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMi5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsMy5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JshjRodHRwOi8vY3JsNC5hbWUuZ2JsL2NybC9BTUUlMjBJbmZyYSUyMENBJTIwMDIoNCkuY3JsMIGdBgNVHSAEgZUwgZIwDAYKKwYBBAGCN3sBATBmBgorBgEEAYI3ewICMFgwVgYIKwYBBQUHAgIwSh5IADMAMwBlADAAMQA5ADIAMQAtADQAZAA2ADQALQA0AGYAOABjAC0AYQAwADUANQAtADUAYgBkAGEAZgBmAGQANQBlADMAMwBkMAwGCisGAQQBgjd7AwIwDAYKKwYBBAGCN3sEAjAfBgNVHSMEGDAWgBSuecJrXSWIEwb2BwnDl3x7l48dVTAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwDQYJKoZIhvcNAQELBQADggEBAGOf8CYfQMTcLZLuep4NmPG5yM4RapHWdtSKaxCrSjhUdNPLd0sUmofPOlvZkha0hFS_cjy2F5PPIgn4jz8g1x1Qrf3XaZG_B047uvLLj6tGyQEkwXZEtn1ZjLowBC_iNvyQ_eyULxAHVmKb8SqiSqO1ZEZtkeTcjII_IphdYLadJFbPMEoKCykRuNb4MNsbCpJcMn10qjvXEH0JcHGfkeHMp7Ruzj6one5NZavi_Bi6rmqOsT54dYy1lMu6S3aPB0bklK7Yje-_l6iWrFFRlKxg8x0cKytCiSG1MzMVsM2xjFRmyfb89lLBYjT5u3Mmlm-zTsFu-NfI1lj81wOoUkA&s=YDozAmq60FA57tzFGXywqQMgIsQXmP8HiPTm0VXcltOVI_JklT1hrKsnApvE6iz30ys97cRENuK8gmUdl9k0zZ29eQVv0Vr4-kCEswKGWAemX3YBoJSdwmgq1RD1O6jxai7GpnqLosG6i2d8Wz1-M7-M8kNwS4txPGNueB_MauChObtqrYDNYyrJaW5mWdNyFEbZ4HYUl_34ktjKyNNaKk_RSRTxIKRKs9k3zpvryyzLGgg-ADwqSn5sasx3NtKe6FkUgwclEx6fC3QXg1MN7IWhBLqo8qqhJLIENu7vTfSWcodh55AoWzgDobWrLG4joLOYbPwmv61HtP2pEPiSrw&h=Cr7uRxq7WkbBXwWqf_5Aa5FkS1kkEkZO18pDFmdxTcw",
      "RequestMethod": "GET",
      "RequestHeaders": {
        "Accept": "*/*",
        "Accept-Encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "User-Agent": "azure-ai-ml/1.27.0 azsdk-python-mgmt-machinelearningservices/0.1.0 Python/3.10.11 (Windows-10-10.0.26100-SP0)"
      },
      "RequestBody": null,
      "StatusCode": 200,
      "ResponseHeaders": {
        "Cache-Control": "no-cache",
        "Content-Length": "0",
        "Date": "Tue, 18 Mar 2025 11:33:03 GMT",
        "Expires": "-1",
        "Pragma": "no-cache",
        "Request-Context": "appId=cid-v1:2d2e8e63-272e-4b3c-8598-4ee570a0e70d",
        "Strict-Transport-Security": "max-age=31536000; includeSubDomains",
        "x-aml-cluster": "vienna-westus-02",
        "X-Cache": "CONFIG_NOCACHE",
        "X-Content-Type-Options": "nosniff",
        "x-ms-correlation-request-id": "2a332ffd-2ec7-43d6-8e82-66b2621a4edc",
        "x-ms-ratelimit-remaining-subscription-global-reads": "16499",
        "x-ms-ratelimit-remaining-subscription-reads": "1099",
        "x-ms-response-type": "standard",
        "x-ms-routing-request-id": "SOUTHINDIA:20250318T113304Z:2a332ffd-2ec7-43d6-8e82-66b2621a4edc",
        "X-MSEdge-Ref": "Ref A: F166015A455E4B7F9B939C9BD614A8D9 Ref B: MAA201060516023 Ref C: 2025-03-18T11:33:03Z",
        "x-request-time": "0.035"
      },
      "ResponseBody": null
    }
  ],
  "Variables": {}
}
